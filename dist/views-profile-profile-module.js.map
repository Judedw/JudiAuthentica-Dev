{"version":3,"sources":["webpack:///./node_modules/ng2-charts/ng2-charts.js","webpack:///./node_modules/ng2-file-upload/ng2-file-upload.js","webpack:///./node_modules/ngx-image-cropper/fesm5/ngx-image-cropper.js","webpack:///./src/app/model/ClientModel.model.ts","webpack:///./src/app/shared/helpers/global-variable.ts","webpack:///./src/app/views/profile/account-settings/account-settings.component.html","webpack:///./src/app/views/profile/account-settings/account-settings.component.ts","webpack:///./src/app/views/profile/profile-blank/profile-blank.component.css","webpack:///./src/app/views/profile/profile-blank/profile-blank.component.html","webpack:///./src/app/views/profile/profile-blank/profile-blank.component.ts","webpack:///./src/app/views/profile/profile-license/profile-license.component.html","webpack:///./src/app/views/profile/profile-license/profile-license.component.ts","webpack:///./src/app/views/profile/profile-overview/profile-overview.component.css","webpack:///./src/app/views/profile/profile-overview/profile-overview.component.html","webpack:///./src/app/views/profile/profile-overview/profile-overview.component.ts","webpack:///./src/app/views/profile/profile-settings/profile-settings.component.html","webpack:///./src/app/views/profile/profile-settings/profile-settings.component.ts","webpack:///./src/app/views/profile/profile.component.html","webpack:///./src/app/views/profile/profile.component.ts","webpack:///./src/app/views/profile/profile.module.ts","webpack:///./src/app/views/profile/profile.routing.ts","webpack:///./src/app/views/profile/profile.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb;AACA;AACA;AACA,SAAS,mBAAO,CAAC,mDAAS;;;;;;;;;;;;;ACJb;AACb;AACA;AACA;AACA,SAAS,mBAAO,CAAC,wDAAS;;;;;;;;;;;;;ACJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiC;AAC0I;AAClH;AACV;;AAE/C;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,mDAAmD,KAAK;AACxD,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,GAAG;AACd,YAAY;AACZ;AACA;AACA,kCAAkC,qBAAqB;AACvD,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,uBAAuB,YAAY;AACnC,2BAA2B,WAAW;AACtC,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,uCAAuC,cAAc;AACrD,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC,qCAAqC;AACrC,2CAA2C,cAAc;AACzD,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,0DAAY;AAC9C,gCAAgC,0DAAY;AAC5C,sCAAsC,0DAAY;AAClD,oCAAoC,0DAAY;AAChD,+BAA+B,0DAAY;AAC3C,gCAAgC,0DAAY;AAC5C,mCAAmC,0DAAY;AAC/C;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,2CAA2C,kDAAkD,EAAE;AAC/F,2CAA2C,4CAA4C,EAAE;AACzF,gCAAgC,qCAAqC,EAAE;AACvE;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,6CAA6C,EAAE;AACnF;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,+CAA+C,kDAAkD,EAAE;AACnG,gDAAgD,6CAA6C,EAAE;AAC/F;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA,yBAAyB,sDAAQ,EAAE,qHAAqH;AACxJ;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,sCAAsC,sBAAsB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,oCAAoC,8BAA8B;AAClE;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,wCAAwC,EAAE;AAC1C;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B,8BAA8B,8EAA8E,sDAAQ,GAAG;AACvH,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AAC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","file":"views-profile-profile-module.js","sourcesContent":["\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\n__export(require(\"./index\"));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\n__export(require(\"./index\"));\n","import { __assign } from 'tslib';\nimport { Component, EventEmitter, HostBinding, HostListener, Input, Output, ChangeDetectorRef, ChangeDetectionStrategy, NgZone, ViewChild, NgModule } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/**\n * @param {?} srcBase64\n * @return {?}\n */\nfunction resetExifOrientation(srcBase64) {\n    try {\n        /** @type {?} */\n        var exifRotation = getExifRotation(srcBase64);\n        if (exifRotation > 1) {\n            return transformBase64BasedOnExifRotation(srcBase64, exifRotation);\n        }\n        else {\n            return Promise.resolve(srcBase64);\n        }\n    }\n    catch (ex) {\n        return Promise.reject(ex);\n    }\n}\n/**\n * @param {?} srcBase64\n * @param {?} exifRotation\n * @return {?}\n */\nfunction transformBase64BasedOnExifRotation(srcBase64, exifRotation) {\n    return new Promise(function (resolve, reject) {\n        /** @type {?} */\n        var img = new Image();\n        img.onload = function () {\n            /** @type {?} */\n            var width = img.width;\n            /** @type {?} */\n            var height = img.height;\n            /** @type {?} */\n            var canvas = document.createElement('canvas');\n            /** @type {?} */\n            var ctx = canvas.getContext('2d');\n            if (ctx) {\n                if (4 < exifRotation && exifRotation < 9) {\n                    canvas.width = height;\n                    canvas.height = width;\n                }\n                else {\n                    canvas.width = width;\n                    canvas.height = height;\n                }\n                transformCanvas(ctx, exifRotation, width, height);\n                ctx.drawImage(img, 0, 0);\n                resolve(canvas.toDataURL());\n            }\n            else {\n                reject(new Error('No context'));\n            }\n        };\n        img.src = srcBase64;\n    });\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction getExifRotation(imageBase64) {\n    /** @type {?} */\n    var view = new DataView(base64ToArrayBuffer(imageBase64));\n    if (view.getUint16(0, false) != 0xFFD8) {\n        return -2;\n    }\n    /** @type {?} */\n    var length = view.byteLength;\n    /** @type {?} */\n    var offset = 2;\n    while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8)\n            return -1;\n        /** @type {?} */\n        var marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n            if (view.getUint32(offset += 2, false) != 0x45786966) {\n                return -1;\n            }\n            /** @type {?} */\n            var little = view.getUint16(offset += 6, false) == 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            /** @type {?} */\n            var tags = view.getUint16(offset, little);\n            offset += 2;\n            for (var i = 0; i < tags; i++) {\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n                    return view.getUint16(offset + (i * 12) + 8, little);\n                }\n            }\n        }\n        else if ((marker & 0xFF00) != 0xFF00) {\n            break;\n        }\n        else {\n            offset += view.getUint16(offset, false);\n        }\n    }\n    return -1;\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction base64ToArrayBuffer(imageBase64) {\n    imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n    /** @type {?} */\n    var binaryString = atob(imageBase64);\n    /** @type {?} */\n    var len = binaryString.length;\n    /** @type {?} */\n    var bytes = new Uint8Array(len);\n    for (var i = 0; i < len; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n/**\n * @param {?} ctx\n * @param {?} orientation\n * @param {?} width\n * @param {?} height\n * @return {?}\n */\nfunction transformCanvas(ctx, orientation, width, height) {\n    switch (orientation) {\n        case 2:\n            ctx.transform(-1, 0, 0, 1, width, 0);\n            break;\n        case 3:\n            ctx.transform(-1, 0, 0, -1, width, height);\n            break;\n        case 4:\n            ctx.transform(1, 0, 0, -1, 0, height);\n            break;\n        case 5:\n            ctx.transform(0, 1, 1, 0, 0, 0);\n            break;\n        case 6:\n            ctx.transform(0, 1, -1, 0, height, 0);\n            break;\n        case 7:\n            ctx.transform(0, -1, -1, 0, height, width);\n            break;\n        case 8:\n            ctx.transform(0, -1, 1, 0, 0, width);\n            break;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n/*\n * Hermite resize - fast image resize/resample using Hermite filter.\n * https://github.com/viliusle/Hermite-resize\n */\n/**\n * @param {?} canvas\n * @param {?} width\n * @param {?} height\n * @param {?=} resizeCanvas\n * @return {?}\n */\nfunction resizeCanvas(canvas, width, height, resizeCanvas) {\n    if (resizeCanvas === void 0) { resizeCanvas = true; }\n    /** @type {?} */\n    var width_source = canvas.width;\n    /** @type {?} */\n    var height_source = canvas.height;\n    width = Math.round(width);\n    height = Math.round(height);\n    /** @type {?} */\n    var ratio_w = width_source / width;\n    /** @type {?} */\n    var ratio_h = height_source / height;\n    /** @type {?} */\n    var ratio_w_half = Math.ceil(ratio_w / 2);\n    /** @type {?} */\n    var ratio_h_half = Math.ceil(ratio_h / 2);\n    /** @type {?} */\n    var ctx = canvas.getContext('2d');\n    if (ctx) {\n        /** @type {?} */\n        var img = ctx.getImageData(0, 0, width_source, height_source);\n        /** @type {?} */\n        var img2 = ctx.createImageData(width, height);\n        /** @type {?} */\n        var data = img.data;\n        /** @type {?} */\n        var data2 = img2.data;\n        for (var j = 0; j < height; j++) {\n            for (var i = 0; i < width; i++) {\n                /** @type {?} */\n                var x2 = (i + j * width) * 4;\n                /** @type {?} */\n                var center_y = j * ratio_h;\n                /** @type {?} */\n                var weight = 0;\n                /** @type {?} */\n                var weights = 0;\n                /** @type {?} */\n                var weights_alpha = 0;\n                /** @type {?} */\n                var gx_r = 0;\n                /** @type {?} */\n                var gx_g = 0;\n                /** @type {?} */\n                var gx_b = 0;\n                /** @type {?} */\n                var gx_a = 0;\n                /** @type {?} */\n                var xx_start = Math.floor(i * ratio_w);\n                /** @type {?} */\n                var yy_start = Math.floor(j * ratio_h);\n                /** @type {?} */\n                var xx_stop = Math.ceil((i + 1) * ratio_w);\n                /** @type {?} */\n                var yy_stop = Math.ceil((j + 1) * ratio_h);\n                xx_stop = Math.min(xx_stop, width_source);\n                yy_stop = Math.min(yy_stop, height_source);\n                for (var yy = yy_start; yy < yy_stop; yy++) {\n                    /** @type {?} */\n                    var dy = Math.abs(center_y - yy) / ratio_h_half;\n                    /** @type {?} */\n                    var center_x = i * ratio_w;\n                    /** @type {?} */\n                    var w0 = dy * dy; //pre-calc part of w\n                    for (var xx = xx_start; xx < xx_stop; xx++) {\n                        /** @type {?} */\n                        var dx = Math.abs(center_x - xx) / ratio_w_half;\n                        /** @type {?} */\n                        var w = Math.sqrt(w0 + dx * dx);\n                        if (w >= 1) {\n                            //pixel too far\n                            continue;\n                        }\n                        //hermite filter\n                        weight = 2 * w * w * w - 3 * w * w + 1;\n                        /** @type {?} */\n                        var pos_x = 4 * (xx + yy * width_source);\n                        //alpha\n                        gx_a += weight * data[pos_x + 3];\n                        weights_alpha += weight;\n                        //colors\n                        if (data[pos_x + 3] < 255)\n                            weight = weight * data[pos_x + 3] / 250;\n                        gx_r += weight * data[pos_x];\n                        gx_g += weight * data[pos_x + 1];\n                        gx_b += weight * data[pos_x + 2];\n                        weights += weight;\n                    }\n                }\n                data2[x2] = gx_r / weights;\n                data2[x2 + 1] = gx_g / weights;\n                data2[x2 + 2] = gx_b / weights;\n                data2[x2 + 3] = gx_a / weights_alpha;\n            }\n        }\n        //clear and resize canvas\n        if (resizeCanvas) {\n            canvas.width = width;\n            canvas.height = height;\n        }\n        else {\n            ctx.clearRect(0, 0, width_source, height_source);\n        }\n        //draw\n        ctx.putImageData(img2, 0, 0);\n    }\n}\n/**\n * @param {?} srcBase64\n * @param {?} aspectRatio\n * @return {?}\n */\nfunction fitImageToAspectRatio(srcBase64, aspectRatio) {\n    return new Promise(function (resolve, reject) {\n        /** @type {?} */\n        var img = new Image();\n        img.onload = function () {\n            /** @type {?} */\n            var canvas = document.createElement('canvas');\n            /** @type {?} */\n            var ctx = canvas.getContext('2d');\n            if (ctx) {\n                /** @type {?} */\n                var minWidthToContain = img.height * aspectRatio;\n                /** @type {?} */\n                var minHeightToContain = img.width / aspectRatio;\n                canvas.width = Math.max(img.width, minWidthToContain);\n                canvas.height = Math.max(img.height, minHeightToContain);\n                /** @type {?} */\n                var dx = (canvas.width - img.width) / 2;\n                /** @type {?} */\n                var dy = (canvas.height - img.height) / 2;\n                ctx.drawImage(img, dx, dy);\n                resolve(canvas.toDataURL());\n            }\n            else {\n                reject(new Error('No context'));\n            }\n        };\n        img.src = srcBase64;\n    });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar ImageCropperComponent = /** @class */ (function () {\n    function ImageCropperComponent(sanitizer, cd, zone) {\n        this.sanitizer = sanitizer;\n        this.cd = cd;\n        this.zone = zone;\n        this.setImageMaxSizeRetries = 0;\n        this.cropperScaledMinWidth = 20;\n        this.cropperScaledMinHeight = 20;\n        this.marginLeft = '0px';\n        this.imageVisible = false;\n        this.format = 'png';\n        this.outputType = 'both';\n        this.maintainAspectRatio = true;\n        this.aspectRatio = 1;\n        this.resizeToWidth = 0;\n        this.resizeToHeight = 0;\n        this.cropperMinWidth = 0;\n        this.cropperMinHeight = 0;\n        this.roundCropper = false;\n        this.onlyScaleDown = false;\n        this.imageQuality = 92;\n        this.autoCrop = true;\n        this.containWithinAspectRatio = false;\n        this.cropper = {\n            x1: -100,\n            y1: -100,\n            x2: 10000,\n            y2: 10000\n        };\n        this.alignImage = 'center';\n        this.startCropImage = new EventEmitter();\n        this.imageCropped = new EventEmitter();\n        this.imageCroppedBase64 = new EventEmitter();\n        this.imageCroppedFile = new EventEmitter();\n        this.imageLoaded = new EventEmitter();\n        this.cropperReady = new EventEmitter();\n        this.loadImageFailed = new EventEmitter();\n        this.initCropper();\n    }\n    Object.defineProperty(ImageCropperComponent.prototype, \"imageFileChanged\", {\n        set: /**\n         * @param {?} file\n         * @return {?}\n         */\n        function (file) {\n            this.initCropper();\n            if (file) {\n                this.loadImageFile(file);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageCropperComponent.prototype, \"imageChangedEvent\", {\n        set: /**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) {\n            this.initCropper();\n            if (event && event.target && event.target.files && event.target.files.length > 0) {\n                this.loadImageFile(event.target.files[0]);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImageCropperComponent.prototype, \"imageBase64\", {\n        set: /**\n         * @param {?} imageBase64\n         * @return {?}\n         */\n        function (imageBase64) {\n            this.initCropper();\n            this.checkExifAndLoadBase64Image(imageBase64);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.ngOnChanges = /**\n     * @param {?} changes\n     * @return {?}\n     */\n    function (changes) {\n        if (changes[\"cropper\"]) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.checkCropperPosition(false);\n            this.doAutoCrop();\n            this.cd.markForCheck();\n        }\n        if (changes[\"aspectRatio\"] && this.imageVisible) {\n            this.resetCropperPosition();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.initCropper = /**\n     * @return {?}\n     */\n    function () {\n        this.imageVisible = false;\n        this.originalImage = null;\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\n            + 'AAarVyFEAAAAASUVORK5CYII=';\n        this.moveStart = {\n            active: false,\n            type: null,\n            position: null,\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n            clientX: 0,\n            clientY: 0\n        };\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.originalSize = {\n            width: 0,\n            height: 0\n        };\n        this.cropper.x1 = -100;\n        this.cropper.y1 = -100;\n        this.cropper.x2 = 10000;\n        this.cropper.y2 = 10000;\n    };\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.loadImageFile = /**\n     * @param {?} file\n     * @return {?}\n     */\n    function (file) {\n        var _this = this;\n        /** @type {?} */\n        var fileReader = new FileReader();\n        fileReader.onload = function (event) {\n            /** @type {?} */\n            var imageType = file.type;\n            if (_this.isValidImageType(imageType)) {\n                _this.checkExifAndLoadBase64Image(event.target.result);\n            }\n            else {\n                _this.loadImageFailed.emit();\n            }\n        };\n        fileReader.readAsDataURL(file);\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.isValidImageType = /**\n     * @param {?} type\n     * @return {?}\n     */\n    function (type) {\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff)/.test(type);\n    };\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.checkExifAndLoadBase64Image = /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    function (imageBase64) {\n        var _this = this;\n        resetExifOrientation(imageBase64)\n            .then(function (resultBase64) { return _this.fitImageToAspectRatio(resultBase64); })\n            .then(function (resultBase64) { return _this.loadBase64Image(resultBase64); })\n            .catch(function () { return _this.loadImageFailed.emit(); });\n    };\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.fitImageToAspectRatio = /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    function (imageBase64) {\n        return this.containWithinAspectRatio\n            ? fitImageToAspectRatio(imageBase64, this.aspectRatio)\n            : Promise.resolve(imageBase64);\n    };\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.loadBase64Image = /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    function (imageBase64) {\n        var _this = this;\n        this.originalBase64 = imageBase64;\n        this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(imageBase64);\n        this.originalImage = new Image();\n        this.originalImage.onload = function () {\n            _this.originalSize.width = _this.originalImage.width;\n            _this.originalSize.height = _this.originalImage.height;\n            _this.cd.markForCheck();\n        };\n        this.originalImage.src = imageBase64;\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.imageLoadedInView = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this.originalImage != null) {\n            this.imageLoaded.emit();\n            this.setImageMaxSizeRetries = 0;\n            setTimeout(function () { return _this.checkImageMaxSizeRecursively(); });\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.checkImageMaxSizeRecursively = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this.setImageMaxSizeRetries > 40) {\n            this.loadImageFailed.emit();\n        }\n        else if (this.sourceImage && this.sourceImage.nativeElement && this.sourceImage.nativeElement.offsetWidth > 0) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.resetCropperPosition();\n            this.cropperReady.emit();\n            this.cd.markForCheck();\n        }\n        else {\n            this.setImageMaxSizeRetries++;\n            setTimeout(function () {\n                _this.checkImageMaxSizeRecursively();\n            }, 50);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.onResize = /**\n     * @return {?}\n     */\n    function () {\n        this.resizeCropperPosition();\n        this.setMaxSize();\n        this.setCropperScaledMinSize();\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.rotateLeft = /**\n     * @return {?}\n     */\n    function () {\n        this.transformBase64(8);\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.rotateRight = /**\n     * @return {?}\n     */\n    function () {\n        this.transformBase64(6);\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.flipHorizontal = /**\n     * @return {?}\n     */\n    function () {\n        this.transformBase64(2);\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.flipVertical = /**\n     * @return {?}\n     */\n    function () {\n        this.transformBase64(4);\n    };\n    /**\n     * @param {?} exifOrientation\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.transformBase64 = /**\n     * @param {?} exifOrientation\n     * @return {?}\n     */\n    function (exifOrientation) {\n        var _this = this;\n        if (this.originalBase64) {\n            transformBase64BasedOnExifRotation(this.originalBase64, exifOrientation)\n                .then(function (resultBase64) { return _this.fitImageToAspectRatio(resultBase64); })\n                .then(function (rotatedBase64) { return _this.loadBase64Image(rotatedBase64); });\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.resizeCropperPosition = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var sourceImageElement = this.sourceImage.nativeElement;\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.resetCropperPosition = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var sourceImageElement = this.sourceImage.nativeElement;\n        if (!this.maintainAspectRatio) {\n            this.cropper.x1 = 0;\n            this.cropper.x2 = sourceImageElement.offsetWidth;\n            this.cropper.y1 = 0;\n            this.cropper.y2 = sourceImageElement.offsetHeight;\n        }\n        else if (sourceImageElement.offsetWidth / this.aspectRatio < sourceImageElement.offsetHeight) {\n            this.cropper.x1 = 0;\n            this.cropper.x2 = sourceImageElement.offsetWidth;\n            /** @type {?} */\n            var cropperHeight = sourceImageElement.offsetWidth / this.aspectRatio;\n            this.cropper.y1 = (sourceImageElement.offsetHeight - cropperHeight) / 2;\n            this.cropper.y2 = this.cropper.y1 + cropperHeight;\n        }\n        else {\n            this.cropper.y1 = 0;\n            this.cropper.y2 = sourceImageElement.offsetHeight;\n            /** @type {?} */\n            var cropperWidth = sourceImageElement.offsetHeight * this.aspectRatio;\n            this.cropper.x1 = (sourceImageElement.offsetWidth - cropperWidth) / 2;\n            this.cropper.x2 = this.cropper.x1 + cropperWidth;\n        }\n        this.doAutoCrop();\n        this.imageVisible = true;\n    };\n    /**\n     * @param {?} event\n     * @param {?} moveType\n     * @param {?=} position\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.startMove = /**\n     * @param {?} event\n     * @param {?} moveType\n     * @param {?=} position\n     * @return {?}\n     */\n    function (event, moveType, position) {\n        if (position === void 0) { position = null; }\n        event.preventDefault();\n        this.moveStart = __assign({ active: true, type: moveType, position: position, clientX: this.getClientX(event), clientY: this.getClientY(event) }, this.cropper);\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.moveImg = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        if (this.moveStart.active) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (this.moveStart.type === 'move') {\n                this.move(event);\n                this.checkCropperPosition(true);\n            }\n            else if (this.moveStart.type === 'resize') {\n                this.resize(event);\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setMaxSize = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var sourceImageElement = this.sourceImage.nativeElement;\n        this.maxSize.width = sourceImageElement.offsetWidth;\n        this.maxSize.height = sourceImageElement.offsetHeight;\n        this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setCropperScaledMinSize = /**\n     * @return {?}\n     */\n    function () {\n        if (this.originalImage) {\n            this.setCropperScaledMinWidth();\n            this.setCropperScaledMinHeight();\n        }\n        else {\n            this.cropperScaledMinWidth = 20;\n            this.cropperScaledMinHeight = 20;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setCropperScaledMinWidth = /**\n     * @return {?}\n     */\n    function () {\n        this.cropperScaledMinWidth = this.cropperMinWidth > 0\n            ? Math.max(20, this.cropperMinWidth / this.originalImage.width * this.maxSize.width)\n            : 20;\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setCropperScaledMinHeight = /**\n     * @return {?}\n     */\n    function () {\n        if (this.maintainAspectRatio) {\n            this.cropperScaledMinHeight = Math.max(20, this.cropperScaledMinWidth / this.aspectRatio);\n        }\n        else if (this.cropperMinHeight > 0) {\n            this.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.originalImage.height * this.maxSize.height);\n        }\n        else {\n            this.cropperScaledMinHeight = 20;\n        }\n    };\n    /**\n     * @param {?=} maintainSize\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.checkCropperPosition = /**\n     * @param {?=} maintainSize\n     * @return {?}\n     */\n    function (maintainSize) {\n        if (maintainSize === void 0) { maintainSize = false; }\n        if (this.cropper.x1 < 0) {\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n            this.cropper.x1 = 0;\n        }\n        if (this.cropper.y1 < 0) {\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n            this.cropper.y1 = 0;\n        }\n        if (this.cropper.x2 > this.maxSize.width) {\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\n            this.cropper.x2 = this.maxSize.width;\n        }\n        if (this.cropper.y2 > this.maxSize.height) {\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\n            this.cropper.y2 = this.maxSize.height;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.moveStop = /**\n     * @return {?}\n     */\n    function () {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.move = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        /** @type {?} */\n        var diffX = this.getClientX(event) - this.moveStart.clientX;\n        /** @type {?} */\n        var diffY = this.getClientY(event) - this.moveStart.clientY;\n        this.cropper.x1 = this.moveStart.x1 + diffX;\n        this.cropper.y1 = this.moveStart.y1 + diffY;\n        this.cropper.x2 = this.moveStart.x2 + diffX;\n        this.cropper.y2 = this.moveStart.y2 + diffY;\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.resize = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        /** @type {?} */\n        var diffX = this.getClientX(event) - this.moveStart.clientX;\n        /** @type {?} */\n        var diffY = this.getClientY(event) - this.moveStart.clientY;\n        switch (this.moveStart.position) {\n            case 'left':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                break;\n            case 'topleft':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'top':\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'topright':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'right':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                break;\n            case 'bottomright':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n            case 'bottom':\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n            case 'bottomleft':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n        }\n        if (this.maintainAspectRatio) {\n            this.checkAspectRatio();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.checkAspectRatio = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var overflowX = 0;\n        /** @type {?} */\n        var overflowY = 0;\n        switch (this.moveStart.position) {\n            case 'top':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'bottom':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : (overflowX / this.aspectRatio);\n                }\n                break;\n            case 'topleft':\n                this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(0 - this.cropper.x1, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x1 += (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'topright':\n                this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'right':\n            case 'bottomright':\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'left':\n            case 'bottomleft':\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(0 - this.cropper.x1, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x1 += (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.doAutoCrop = /**\n     * @return {?}\n     */\n    function () {\n        if (this.autoCrop) {\n            this.crop();\n        }\n    };\n    /**\n     * @param {?=} outputType\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.crop = /**\n     * @param {?=} outputType\n     * @return {?}\n     */\n    function (outputType) {\n        if (outputType === void 0) { outputType = this.outputType; }\n        if (this.sourceImage.nativeElement && this.originalImage != null) {\n            this.startCropImage.emit();\n            /** @type {?} */\n            var imagePosition = this.getImagePosition();\n            /** @type {?} */\n            var width = imagePosition.x2 - imagePosition.x1;\n            /** @type {?} */\n            var height = imagePosition.y2 - imagePosition.y1;\n            /** @type {?} */\n            var cropCanvas = /** @type {?} */ (document.createElement('canvas'));\n            cropCanvas.width = width;\n            cropCanvas.height = height;\n            /** @type {?} */\n            var ctx = cropCanvas.getContext('2d');\n            if (ctx) {\n                if (this.backgroundColor != null) {\n                    ctx.fillStyle = this.backgroundColor;\n                    ctx.fillRect(0, 0, width, height);\n                }\n                ctx.drawImage(this.originalImage, imagePosition.x1, imagePosition.y1, width, height, 0, 0, width, height);\n                /** @type {?} */\n                var output = { width: width, height: height, imagePosition: imagePosition, cropperPosition: __assign({}, this.cropper) };\n                /** @type {?} */\n                var resizeRatio = this.getResizeRatio(width, height);\n                if (resizeRatio !== 1) {\n                    output.width = Math.round(width * resizeRatio);\n                    output.height = this.maintainAspectRatio\n                        ? Math.round(output.width / this.aspectRatio)\n                        : Math.round(height * resizeRatio);\n                    resizeCanvas(cropCanvas, output.width, output.height);\n                }\n                return this.cropToOutputType(outputType, cropCanvas, output);\n            }\n        }\n        return null;\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getImagePosition = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var sourceImageElement = this.sourceImage.nativeElement;\n        /** @type {?} */\n        var ratio = this.originalSize.width / sourceImageElement.offsetWidth;\n        return {\n            x1: Math.round(this.cropper.x1 * ratio),\n            y1: Math.round(this.cropper.y1 * ratio),\n            x2: Math.min(Math.round(this.cropper.x2 * ratio), this.originalSize.width),\n            y2: Math.min(Math.round(this.cropper.y2 * ratio), this.originalSize.height)\n        };\n    };\n    /**\n     * @param {?} outputType\n     * @param {?} cropCanvas\n     * @param {?} output\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.cropToOutputType = /**\n     * @param {?} outputType\n     * @param {?} cropCanvas\n     * @param {?} output\n     * @return {?}\n     */\n    function (outputType, cropCanvas, output) {\n        var _this = this;\n        switch (outputType) {\n            case 'file':\n                return this.cropToFile(cropCanvas)\n                    .then(function (result) {\n                    output.file = result;\n                    _this.imageCropped.emit(output);\n                    return output;\n                });\n            case 'both':\n                output.base64 = this.cropToBase64(cropCanvas);\n                return this.cropToFile(cropCanvas)\n                    .then(function (result) {\n                    output.file = result;\n                    _this.imageCropped.emit(output);\n                    return output;\n                });\n            default:\n                output.base64 = this.cropToBase64(cropCanvas);\n                this.imageCropped.emit(output);\n                return output;\n        }\n    };\n    /**\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.cropToBase64 = /**\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    function (cropCanvas) {\n        /** @type {?} */\n        var imageBase64 = cropCanvas.toDataURL('image/' + this.format, this.getQuality());\n        this.imageCroppedBase64.emit(imageBase64);\n        return imageBase64;\n    };\n    /**\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.cropToFile = /**\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    function (cropCanvas) {\n        var _this = this;\n        return this.getCanvasBlob(cropCanvas)\n            .then(function (result) {\n            if (result) {\n                _this.imageCroppedFile.emit(result);\n            }\n            return result;\n        });\n    };\n    /**\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getCanvasBlob = /**\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    function (cropCanvas) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            cropCanvas.toBlob(function (result) { return _this.zone.run(function () { return resolve(result); }); }, 'image/' + _this.format, _this.getQuality());\n        });\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getQuality = /**\n     * @return {?}\n     */\n    function () {\n        return Math.min(1, Math.max(0, this.imageQuality / 100));\n    };\n    /**\n     * @param {?} width\n     * @param {?} height\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getResizeRatio = /**\n     * @param {?} width\n     * @param {?} height\n     * @return {?}\n     */\n    function (width, height) {\n        if (this.resizeToWidth > 0) {\n            if (!this.onlyScaleDown || width > this.resizeToWidth) {\n                return this.resizeToWidth / width;\n            }\n        }\n        else if (this.resizeToHeight > 0) {\n            if (!this.onlyScaleDown || height > this.resizeToHeight) {\n                return this.resizeToHeight / height;\n            }\n        }\n        return 1;\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getClientX = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        return event.clientX || event.touches && event.touches[0] && event.touches[0].clientX;\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getClientY = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        return event.clientY || event.touches && event.touches[0] && event.touches[0].clientY;\n    };\n    ImageCropperComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'image-cropper',\n                    template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\">\\n    <img\\n        #sourceImage\\n        class=\\\"source-image\\\"\\n        [src]=\\\"safeImgDataUrl\\\"\\n        [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n        (load)=\\\"imageLoadedInView()\\\"\\n    />\\n    <div class=\\\"cropper\\\"\\n         *ngIf=\\\"imageVisible\\\"\\n         [class.rounded]=\\\"roundCropper\\\"\\n         [style.top.px]=\\\"cropper.y1\\\"\\n         [style.left.px]=\\\"cropper.x1\\\"\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n    >\\n        <div\\n                (mousedown)=\\\"startMove($event, 'move')\\\"\\n                (touchstart)=\\\"startMove($event, 'move')\\\"\\n                class=\\\"move\\\"\\n        >&nbsp;</div>\\n        <span\\n                class=\\\"resize topleft\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'topleft')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'topleft')\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize top\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize topright\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'topright')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'topright')\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize right\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize bottomright\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'bottomright')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'bottomright')\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize bottom\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize bottomleft\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'bottomleft')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'bottomleft')\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize left\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize-bar top\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'top')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'top')\\\"\\n        ></span>\\n        <span\\n                class=\\\"resize-bar right\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'right')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'right')\\\"\\n        ></span>\\n        <span\\n                class=\\\"resize-bar bottom\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'bottom')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'bottom')\\\"\\n        ></span>\\n        <span\\n                class=\\\"resize-bar left\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'left')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'left')\\\"\\n        ></span>\\n    </div>\\n</div>\\n\",\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host>div{position:relative;width:100%}:host>div img.source-image{max-width:100%;max-height:100%}:host .cropper{position:absolute;display:flex;color:#53535c;background:0 0;touch-action:none;outline:rgba(255,255,255,.3) solid 100vw}:host .cropper:after{position:absolute;content:'';top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}:host .cropper .move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .cropper .resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .cropper .resize .square{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .cropper .resize.topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .cropper .resize.top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.topright{top:-12px;right:-12px;cursor:nesw-resize}:host .cropper .resize.right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .cropper .resize.bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .cropper .resize.bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .cropper .resize.left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .cropper .resize-bar{position:absolute;z-index:1}:host .cropper .resize-bar.top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper .resize-bar.bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper.rounded{outline-color:transparent}:host .cropper.rounded:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3)}@media (orientation:portrait){:host .cropper{outline-width:100vh}:host .cropper.rounded:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3)}}:host .cropper.rounded .move{border-radius:100%}\"]\n                }] }\n    ];\n    /** @nocollapse */\n    ImageCropperComponent.ctorParameters = function () { return [\n        { type: DomSanitizer },\n        { type: ChangeDetectorRef },\n        { type: NgZone }\n    ]; };\n    ImageCropperComponent.propDecorators = {\n        sourceImage: [{ type: ViewChild, args: ['sourceImage',] }],\n        imageFileChanged: [{ type: Input }],\n        imageChangedEvent: [{ type: Input }],\n        imageBase64: [{ type: Input }],\n        format: [{ type: Input }],\n        outputType: [{ type: Input }],\n        maintainAspectRatio: [{ type: Input }],\n        aspectRatio: [{ type: Input }],\n        resizeToWidth: [{ type: Input }],\n        resizeToHeight: [{ type: Input }],\n        cropperMinWidth: [{ type: Input }],\n        cropperMinHeight: [{ type: Input }],\n        roundCropper: [{ type: Input }],\n        onlyScaleDown: [{ type: Input }],\n        imageQuality: [{ type: Input }],\n        autoCrop: [{ type: Input }],\n        backgroundColor: [{ type: Input }],\n        containWithinAspectRatio: [{ type: Input }],\n        cropper: [{ type: Input }],\n        alignImage: [{ type: HostBinding, args: ['style.text-align',] }, { type: Input }],\n        startCropImage: [{ type: Output }],\n        imageCropped: [{ type: Output }],\n        imageCroppedBase64: [{ type: Output }],\n        imageCroppedFile: [{ type: Output }],\n        imageLoaded: [{ type: Output }],\n        cropperReady: [{ type: Output }],\n        loadImageFailed: [{ type: Output }],\n        onResize: [{ type: HostListener, args: ['window:resize',] }],\n        moveImg: [{ type: HostListener, args: ['document:mousemove', ['$event'],] }, { type: HostListener, args: ['document:touchmove', ['$event'],] }],\n        moveStop: [{ type: HostListener, args: ['document:mouseup',] }, { type: HostListener, args: ['document:touchend',] }]\n    };\n    return ImageCropperComponent;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\nvar ImageCropperModule = /** @class */ (function () {\n    function ImageCropperModule() {\n    }\n    ImageCropperModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [\n                        CommonModule\n                    ],\n                    declarations: [\n                        ImageCropperComponent\n                    ],\n                    exports: [\n                        ImageCropperComponent\n                    ]\n                },] }\n    ];\n    return ImageCropperModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\n */\n\nexport { ImageCropperModule, ImageCropperComponent };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWltYWdlLWNyb3BwZXIuanMubWFwIiwic291cmNlcyI6WyJuZzovL25neC1pbWFnZS1jcm9wcGVyL3NyYy91dGlscy9leGlmLnV0aWxzLnRzIiwibmc6Ly9uZ3gtaW1hZ2UtY3JvcHBlci9zcmMvdXRpbHMvcmVzaXplLnV0aWxzLnRzIiwibmc6Ly9uZ3gtaW1hZ2UtY3JvcHBlci9zcmMvY29tcG9uZW50L2ltYWdlLWNyb3BwZXIuY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtaW1hZ2UtY3JvcHBlci9zcmMvaW1hZ2UtY3JvcHBlci5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RXhpZk9yaWVudGF0aW9uKHNyY0Jhc2U2NDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBleGlmUm90YXRpb24gPSBnZXRFeGlmUm90YXRpb24oc3JjQmFzZTY0KTtcbiAgICAgICAgaWYgKGV4aWZSb3RhdGlvbiA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1CYXNlNjRCYXNlZE9uRXhpZlJvdGF0aW9uKHNyY0Jhc2U2NCwgZXhpZlJvdGF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3JjQmFzZTY0KTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChleCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtQmFzZTY0QmFzZWRPbkV4aWZSb3RhdGlvbihzcmNCYXNlNjQ6IHN0cmluZywgZXhpZlJvdGF0aW9uOiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgICAgIGlmICg0IDwgZXhpZlJvdGF0aW9uICYmIGV4aWZSb3RhdGlvbiA8IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybUNhbnZhcyhjdHgsIGV4aWZSb3RhdGlvbiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTm8gY29udGV4dCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaW1nLnNyYyA9IHNyY0Jhc2U2NDtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RXhpZlJvdGF0aW9uKGltYWdlQmFzZTY0OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYmFzZTY0VG9BcnJheUJ1ZmZlcihpbWFnZUJhc2U2NCkpO1xuICAgIGlmICh2aWV3LmdldFVpbnQxNigwLCBmYWxzZSkgIT0gMHhGRkQ4KSB7XG4gICAgICAgIHJldHVybiAtMjtcbiAgICB9XG4gICAgY29uc3QgbGVuZ3RoID0gdmlldy5ieXRlTGVuZ3RoO1xuICAgIGxldCBvZmZzZXQgPSAyO1xuICAgIHdoaWxlIChvZmZzZXQgPCBsZW5ndGgpIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0VWludDE2KG9mZnNldCArIDIsIGZhbHNlKSA8PSA4KSByZXR1cm4gLTE7XG4gICAgICAgIGNvbnN0IG1hcmtlciA9IHZpZXcuZ2V0VWludDE2KG9mZnNldCwgZmFsc2UpO1xuICAgICAgICBvZmZzZXQgKz0gMjtcbiAgICAgICAgaWYgKG1hcmtlciA9PSAweEZGRTEpIHtcbiAgICAgICAgICAgIGlmICh2aWV3LmdldFVpbnQzMihvZmZzZXQgKz0gMiwgZmFsc2UpICE9IDB4NDU3ODY5NjYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGxpdHRsZSA9IHZpZXcuZ2V0VWludDE2KG9mZnNldCArPSA2LCBmYWxzZSkgPT0gMHg0OTQ5O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHZpZXcuZ2V0VWludDMyKG9mZnNldCArIDQsIGxpdHRsZSk7XG4gICAgICAgICAgICBjb25zdCB0YWdzID0gdmlldy5nZXRVaW50MTYob2Zmc2V0LCBsaXR0bGUpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhZ3M7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh2aWV3LmdldFVpbnQxNihvZmZzZXQgKyAoaSAqIDEyKSwgbGl0dGxlKSA9PSAweDAxMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpZXcuZ2V0VWludDE2KG9mZnNldCArIChpICogMTIpICsgOCwgbGl0dGxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG1hcmtlciAmIDB4RkYwMCkgIT0gMHhGRjAwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldCArPSB2aWV3LmdldFVpbnQxNihvZmZzZXQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQXJyYXlCdWZmZXIoaW1hZ2VCYXNlNjQ6IHN0cmluZykge1xuICAgIGltYWdlQmFzZTY0ID0gaW1hZ2VCYXNlNjQucmVwbGFjZSgvXmRhdGFcXDooW15cXDtdKylcXDtiYXNlNjQsL2dtaSwgJycpO1xuICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoaW1hZ2VCYXNlNjQpO1xuICAgIGNvbnN0IGxlbiA9IGJpbmFyeVN0cmluZy5sZW5ndGg7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzLmJ1ZmZlcjtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtQ2FudmFzKGN0eDogYW55LCBvcmllbnRhdGlvbjogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIHN3aXRjaCAob3JpZW50YXRpb24pIHtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY3R4LnRyYW5zZm9ybSgtMSwgMCwgMCwgMSwgd2lkdGgsIDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGN0eC50cmFuc2Zvcm0oLTEsIDAsIDAsIC0xLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBjdHgudHJhbnNmb3JtKDEsIDAsIDAsIC0xLCAwLCBoZWlnaHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIGN0eC50cmFuc2Zvcm0oMCwgMSwgMSwgMCwgMCwgMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgY3R4LnRyYW5zZm9ybSgwLCAxLCAtMSwgMCwgaGVpZ2h0LCAwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBjdHgudHJhbnNmb3JtKDAsIC0xLCAtMSwgMCwgaGVpZ2h0LCB3aWR0aCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgY3R4LnRyYW5zZm9ybSgwLCAtMSwgMSwgMCwgMCwgd2lkdGgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuIiwiLypcbiAqIEhlcm1pdGUgcmVzaXplIC0gZmFzdCBpbWFnZSByZXNpemUvcmVzYW1wbGUgdXNpbmcgSGVybWl0ZSBmaWx0ZXIuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdmlsaXVzbGUvSGVybWl0ZS1yZXNpemVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplQ2FudmFzKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCByZXNpemVDYW52YXMgPSB0cnVlKSB7XG4gICAgY29uc3Qgd2lkdGhfc291cmNlID0gY2FudmFzLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodF9zb3VyY2UgPSBjYW52YXMuaGVpZ2h0O1xuICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuXG4gICAgY29uc3QgcmF0aW9fdyA9IHdpZHRoX3NvdXJjZSAvIHdpZHRoO1xuICAgIGNvbnN0IHJhdGlvX2ggPSBoZWlnaHRfc291cmNlIC8gaGVpZ2h0O1xuICAgIGNvbnN0IHJhdGlvX3dfaGFsZiA9IE1hdGguY2VpbChyYXRpb193IC8gMik7XG4gICAgY29uc3QgcmF0aW9faF9oYWxmID0gTWF0aC5jZWlsKHJhdGlvX2ggLyAyKTtcblxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChjdHgpIHtcbiAgICAgICAgY29uc3QgaW1nID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aF9zb3VyY2UsIGhlaWdodF9zb3VyY2UpO1xuICAgICAgICBjb25zdCBpbWcyID0gY3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGltZy5kYXRhO1xuICAgICAgICBjb25zdCBkYXRhMiA9IGltZzIuZGF0YTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGhlaWdodDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB4MiA9IChpICsgaiAqIHdpZHRoKSAqIDQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyX3kgPSBqICogcmF0aW9faDtcbiAgICAgICAgICAgICAgICBsZXQgd2VpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgd2VpZ2h0cyA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHdlaWdodHNfYWxwaGEgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBneF9yID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgZ3hfZyA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IGd4X2IgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBneF9hID0gMDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHh4X3N0YXJ0ID0gTWF0aC5mbG9vcihpICogcmF0aW9fdyk7XG4gICAgICAgICAgICAgICAgY29uc3QgeXlfc3RhcnQgPSBNYXRoLmZsb29yKGogKiByYXRpb19oKTtcbiAgICAgICAgICAgICAgICBsZXQgeHhfc3RvcCA9IE1hdGguY2VpbCgoaSArIDEpICogcmF0aW9fdyk7XG4gICAgICAgICAgICAgICAgbGV0IHl5X3N0b3AgPSBNYXRoLmNlaWwoKGogKyAxKSAqIHJhdGlvX2gpO1xuICAgICAgICAgICAgICAgIHh4X3N0b3AgPSBNYXRoLm1pbih4eF9zdG9wLCB3aWR0aF9zb3VyY2UpO1xuICAgICAgICAgICAgICAgIHl5X3N0b3AgPSBNYXRoLm1pbih5eV9zdG9wLCBoZWlnaHRfc291cmNlKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IHl5ID0geXlfc3RhcnQ7IHl5IDwgeXlfc3RvcDsgeXkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkeSA9IE1hdGguYWJzKGNlbnRlcl95IC0geXkpIC8gcmF0aW9faF9oYWxmO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJfeCA9IGkgKiByYXRpb193O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3MCA9IGR5ICogZHk7IC8vcHJlLWNhbGMgcGFydCBvZiB3XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHh4ID0geHhfc3RhcnQ7IHh4IDwgeHhfc3RvcDsgeHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHggPSBNYXRoLmFicyhjZW50ZXJfeCAtIHh4KSAvIHJhdGlvX3dfaGFsZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLnNxcnQodzAgKyBkeCAqIGR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3BpeGVsIHRvbyBmYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGVybWl0ZSBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodCA9IDIgKiB3ICogdyAqIHcgLSAzICogdyAqIHcgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zX3ggPSA0ICogKHh4ICsgeXkgKiB3aWR0aF9zb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbHBoYVxuICAgICAgICAgICAgICAgICAgICAgICAgZ3hfYSArPSB3ZWlnaHQgKiBkYXRhW3Bvc194ICsgM107XG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHRzX2FscGhhICs9IHdlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29sb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtwb3NfeCArIDNdIDwgMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodCA9IHdlaWdodCAqIGRhdGFbcG9zX3ggKyAzXSAvIDI1MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGd4X3IgKz0gd2VpZ2h0ICogZGF0YVtwb3NfeF07XG4gICAgICAgICAgICAgICAgICAgICAgICBneF9nICs9IHdlaWdodCAqIGRhdGFbcG9zX3ggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGd4X2IgKz0gd2VpZ2h0ICogZGF0YVtwb3NfeCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0cyArPSB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YTJbeDJdID0gZ3hfciAvIHdlaWdodHM7XG4gICAgICAgICAgICAgICAgZGF0YTJbeDIgKyAxXSA9IGd4X2cgLyB3ZWlnaHRzO1xuICAgICAgICAgICAgICAgIGRhdGEyW3gyICsgMl0gPSBneF9iIC8gd2VpZ2h0cztcbiAgICAgICAgICAgICAgICBkYXRhMlt4MiArIDNdID0gZ3hfYSAvIHdlaWdodHNfYWxwaGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy9jbGVhciBhbmQgcmVzaXplIGNhbnZhc1xuICAgICAgICBpZiAocmVzaXplQ2FudmFzKSB7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoX3NvdXJjZSwgaGVpZ2h0X3NvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2RyYXdcbiAgICAgICAgY3R4LnB1dEltYWdlRGF0YShpbWcyLCAwLCAwKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaXRJbWFnZVRvQXNwZWN0UmF0aW8oc3JjQmFzZTY0OiBzdHJpbmcsIGFzcGVjdFJhdGlvOiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbldpZHRoVG9Db250YWluID0gaW1nLmhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbkhlaWdodFRvQ29udGFpbiA9IGltZy53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGgubWF4KGltZy53aWR0aCwgbWluV2lkdGhUb0NvbnRhaW4pO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLm1heChpbWcuaGVpZ2h0LCBtaW5IZWlnaHRUb0NvbnRhaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR4ID0gKGNhbnZhcy53aWR0aCAtIGltZy53aWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR5ID0gKGNhbnZhcy5oZWlnaHQgLSBpbWcuaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIGR4LCBkeSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShjYW52YXMudG9EYXRhVVJMKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdObyBjb250ZXh0JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gc3JjQmFzZTY0O1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSG9zdEJpbmRpbmcsIEhvc3RMaXN0ZW5lciwgSW5wdXQsIE9uQ2hhbmdlcywgT3V0cHV0LFxuICAgIFNpbXBsZUNoYW5nZXMsIENoYW5nZURldGVjdG9yUmVmLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgTmdab25lLCBWaWV3Q2hpbGRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIsIFNhZmVVcmwsIFNhZmVTdHlsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHsgTW92ZVN0YXJ0LCBEaW1lbnNpb25zLCBDcm9wcGVyUG9zaXRpb24sIEltYWdlQ3JvcHBlZEV2ZW50IH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyByZXNldEV4aWZPcmllbnRhdGlvbiwgdHJhbnNmb3JtQmFzZTY0QmFzZWRPbkV4aWZSb3RhdGlvbiB9IGZyb20gJy4uL3V0aWxzL2V4aWYudXRpbHMnO1xuaW1wb3J0IHsgcmVzaXplQ2FudmFzLCBmaXRJbWFnZVRvQXNwZWN0UmF0aW8gfSBmcm9tICcuLi91dGlscy9yZXNpemUudXRpbHMnO1xuXG5leHBvcnQgdHlwZSBPdXRwdXRUeXBlID0gJ2Jhc2U2NCcgfCAnZmlsZScgfCAnYm90aCc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnaW1hZ2UtY3JvcHBlcicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2ltYWdlLWNyb3BwZXIuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2ltYWdlLWNyb3BwZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBJbWFnZUNyb3BwZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuICAgIHByaXZhdGUgb3JpZ2luYWxJbWFnZTogYW55O1xuICAgIHByaXZhdGUgb3JpZ2luYWxCYXNlNjQ6IHN0cmluZztcbiAgICBwcml2YXRlIG1vdmVTdGFydDogTW92ZVN0YXJ0O1xuICAgIHByaXZhdGUgbWF4U2l6ZTogRGltZW5zaW9ucztcbiAgICBwcml2YXRlIG9yaWdpbmFsU2l6ZTogRGltZW5zaW9ucztcbiAgICBwcml2YXRlIHNldEltYWdlTWF4U2l6ZVJldHJpZXMgPSAwO1xuICAgIHByaXZhdGUgY3JvcHBlclNjYWxlZE1pbldpZHRoID0gMjA7XG4gICAgcHJpdmF0ZSBjcm9wcGVyU2NhbGVkTWluSGVpZ2h0ID0gMjA7XG5cbiAgICBzYWZlSW1nRGF0YVVybDogU2FmZVVybCB8IHN0cmluZztcbiAgICBtYXJnaW5MZWZ0OiBTYWZlU3R5bGUgfCBzdHJpbmcgPSAnMHB4JztcbiAgICBpbWFnZVZpc2libGUgPSBmYWxzZTtcblxuICAgIEBWaWV3Q2hpbGQoJ3NvdXJjZUltYWdlJykgc291cmNlSW1hZ2U6IEVsZW1lbnRSZWY7XG5cbiAgICBASW5wdXQoKVxuICAgIHNldCBpbWFnZUZpbGVDaGFuZ2VkKGZpbGU6IEZpbGUpIHtcbiAgICAgICAgdGhpcy5pbml0Q3JvcHBlcigpO1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkSW1hZ2VGaWxlKGZpbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQElucHV0KClcbiAgICBzZXQgaW1hZ2VDaGFuZ2VkRXZlbnQoZXZlbnQ6IGFueSkge1xuICAgICAgICB0aGlzLmluaXRDcm9wcGVyKCk7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmZpbGVzICYmIGV2ZW50LnRhcmdldC5maWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRJbWFnZUZpbGUoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBJbnB1dCgpXG4gICAgc2V0IGltYWdlQmFzZTY0KGltYWdlQmFzZTY0OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5pbml0Q3JvcHBlcigpO1xuICAgICAgICB0aGlzLmNoZWNrRXhpZkFuZExvYWRCYXNlNjRJbWFnZShpbWFnZUJhc2U2NCk7XG4gICAgfVxuXG4gICAgQElucHV0KCkgZm9ybWF0OiAncG5nJyB8ICdqcGVnJyB8ICdibXAnIHwgJ3dlYnAnIHwgJ2ljbycgPSAncG5nJztcbiAgICBASW5wdXQoKSBvdXRwdXRUeXBlOiBPdXRwdXRUeXBlID0gJ2JvdGgnO1xuICAgIEBJbnB1dCgpIG1haW50YWluQXNwZWN0UmF0aW8gPSB0cnVlO1xuICAgIEBJbnB1dCgpIGFzcGVjdFJhdGlvID0gMTtcbiAgICBASW5wdXQoKSByZXNpemVUb1dpZHRoID0gMDtcbiAgICBASW5wdXQoKSByZXNpemVUb0hlaWdodCA9IDA7XG4gICAgQElucHV0KCkgY3JvcHBlck1pbldpZHRoID0gMDtcbiAgICBASW5wdXQoKSBjcm9wcGVyTWluSGVpZ2h0ID0gMDtcbiAgICBASW5wdXQoKSByb3VuZENyb3BwZXIgPSBmYWxzZTtcbiAgICBASW5wdXQoKSBvbmx5U2NhbGVEb3duID0gZmFsc2U7XG4gICAgQElucHV0KCkgaW1hZ2VRdWFsaXR5ID0gOTI7XG4gICAgQElucHV0KCkgYXV0b0Nyb3AgPSB0cnVlO1xuICAgIEBJbnB1dCgpIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICAgIEBJbnB1dCgpIGNvbnRhaW5XaXRoaW5Bc3BlY3RSYXRpbyA9IGZhbHNlO1xuICAgIEBJbnB1dCgpIGNyb3BwZXI6IENyb3BwZXJQb3NpdGlvbiA9IHtcbiAgICAgICAgeDE6IC0xMDAsXG4gICAgICAgIHkxOiAtMTAwLFxuICAgICAgICB4MjogMTAwMDAsXG4gICAgICAgIHkyOiAxMDAwMFxuICAgIH07XG4gICAgQEhvc3RCaW5kaW5nKCdzdHlsZS50ZXh0LWFsaWduJylcbiAgICBASW5wdXQoKSBhbGlnbkltYWdlOiAnbGVmdCcgfCAnY2VudGVyJyA9ICdjZW50ZXInO1xuXG5cbiAgICBAT3V0cHV0KCkgc3RhcnRDcm9wSW1hZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gICAgQE91dHB1dCgpIGltYWdlQ3JvcHBlZCA9IG5ldyBFdmVudEVtaXR0ZXI8SW1hZ2VDcm9wcGVkRXZlbnQ+KCk7XG4gICAgQE91dHB1dCgpIGltYWdlQ3JvcHBlZEJhc2U2NCA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuICAgIEBPdXRwdXQoKSBpbWFnZUNyb3BwZWRGaWxlID0gbmV3IEV2ZW50RW1pdHRlcjxCbG9iPigpO1xuICAgIEBPdXRwdXQoKSBpbWFnZUxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcbiAgICBAT3V0cHV0KCkgY3JvcHBlclJlYWR5ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICAgIEBPdXRwdXQoKSBsb2FkSW1hZ2VGYWlsZWQgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNhbml0aXplcjogRG9tU2FuaXRpemVyLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgem9uZTogTmdab25lKSB7XG4gICAgICAgIHRoaXMuaW5pdENyb3BwZXIoKTtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmNyb3BwZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TWF4U2l6ZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRDcm9wcGVyU2NhbGVkTWluU2l6ZSgpO1xuICAgICAgICAgICAgdGhpcy5jaGVja0Nyb3BwZXJQb3NpdGlvbihmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRvQXV0b0Nyb3AoKTtcbiAgICAgICAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXMuYXNwZWN0UmF0aW8gJiYgdGhpcy5pbWFnZVZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRDcm9wcGVyUG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdENyb3BwZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW1hZ2VWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMub3JpZ2luYWxJbWFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FmZUltZ0RhdGFVcmwgPSAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2cnXG4gICAgICAgICAgICArICdvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQUMwbEVRVlFZVjJOZ0FBSUFBQVUnXG4gICAgICAgICAgICArICdBQWFyVnlGRUFBQUFBU1VWT1JLNUNZSUk9JztcbiAgICAgICAgdGhpcy5tb3ZlU3RhcnQgPSB7XG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBudWxsLFxuICAgICAgICAgICAgeDE6IDAsXG4gICAgICAgICAgICB5MTogMCxcbiAgICAgICAgICAgIHgyOiAwLFxuICAgICAgICAgICAgeTI6IDAsXG4gICAgICAgICAgICBjbGllbnRYOiAwLFxuICAgICAgICAgICAgY2xpZW50WTogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1heFNpemUgPSB7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9yaWdpbmFsU2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JvcHBlci54MSA9IC0xMDA7XG4gICAgICAgIHRoaXMuY3JvcHBlci55MSA9IC0xMDA7XG4gICAgICAgIHRoaXMuY3JvcHBlci54MiA9IDEwMDAwO1xuICAgICAgICB0aGlzLmNyb3BwZXIueTIgPSAxMDAwMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRJbWFnZUZpbGUoZmlsZTogRmlsZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VUeXBlID0gZmlsZS50eXBlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZEltYWdlVHlwZShpbWFnZVR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0V4aWZBbmRMb2FkQmFzZTY0SW1hZ2UoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZEltYWdlRmFpbGVkLmVtaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNWYWxpZEltYWdlVHlwZSh0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIC9pbWFnZVxcLyhwbmd8anBnfGpwZWd8Ym1wfGdpZnx0aWZmKS8udGVzdCh0eXBlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrRXhpZkFuZExvYWRCYXNlNjRJbWFnZShpbWFnZUJhc2U2NDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHJlc2V0RXhpZk9yaWVudGF0aW9uKGltYWdlQmFzZTY0KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdEJhc2U2NDogc3RyaW5nKSA9PiB0aGlzLmZpdEltYWdlVG9Bc3BlY3RSYXRpbyhyZXN1bHRCYXNlNjQpKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdEJhc2U2NDogc3RyaW5nKSA9PiB0aGlzLmxvYWRCYXNlNjRJbWFnZShyZXN1bHRCYXNlNjQpKVxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHRoaXMubG9hZEltYWdlRmFpbGVkLmVtaXQoKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaXRJbWFnZVRvQXNwZWN0UmF0aW8oaW1hZ2VCYXNlNjQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5XaXRoaW5Bc3BlY3RSYXRpb1xuICAgICAgICAgICAgPyBmaXRJbWFnZVRvQXNwZWN0UmF0aW8oaW1hZ2VCYXNlNjQsIHRoaXMuYXNwZWN0UmF0aW8pXG4gICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZShpbWFnZUJhc2U2NCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkQmFzZTY0SW1hZ2UoaW1hZ2VCYXNlNjQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLm9yaWdpbmFsQmFzZTY0ID0gaW1hZ2VCYXNlNjQ7XG4gICAgICAgIHRoaXMuc2FmZUltZ0RhdGFVcmwgPSB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0UmVzb3VyY2VVcmwoaW1hZ2VCYXNlNjQpO1xuICAgICAgICB0aGlzLm9yaWdpbmFsSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxTaXplLndpZHRoID0gdGhpcy5vcmlnaW5hbEltYWdlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0ID0gdGhpcy5vcmlnaW5hbEltYWdlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3JpZ2luYWxJbWFnZS5zcmMgPSBpbWFnZUJhc2U2NDtcbiAgICB9XG5cbiAgICBpbWFnZUxvYWRlZEluVmlldygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxJbWFnZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlTG9hZGVkLmVtaXQoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2VNYXhTaXplUmV0cmllcyA9IDA7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY2hlY2tJbWFnZU1heFNpemVSZWN1cnNpdmVseSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tJbWFnZU1heFNpemVSZWN1cnNpdmVseSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0SW1hZ2VNYXhTaXplUmV0cmllcyA+IDQwKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRJbWFnZUZhaWxlZC5lbWl0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zb3VyY2VJbWFnZSAmJiB0aGlzLnNvdXJjZUltYWdlLm5hdGl2ZUVsZW1lbnQgJiYgdGhpcy5zb3VyY2VJbWFnZS5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zZXRNYXhTaXplKCk7XG4gICAgICAgICAgICB0aGlzLnNldENyb3BwZXJTY2FsZWRNaW5TaXplKCk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Q3JvcHBlclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXJSZWFkeS5lbWl0KCk7XG4gICAgICAgICAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRJbWFnZU1heFNpemVSZXRyaWVzKys7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrSW1hZ2VNYXhTaXplUmVjdXJzaXZlbHkoKTtcbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnKVxuICAgIG9uUmVzaXplKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlc2l6ZUNyb3BwZXJQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLnNldE1heFNpemUoKTtcbiAgICAgICAgdGhpcy5zZXRDcm9wcGVyU2NhbGVkTWluU2l6ZSgpO1xuICAgIH1cblxuICAgIHJvdGF0ZUxlZnQoKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtQmFzZTY0KDgpO1xuICAgIH1cblxuICAgIHJvdGF0ZVJpZ2h0KCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybUJhc2U2NCg2KTtcbiAgICB9XG5cbiAgICBmbGlwSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1CYXNlNjQoMik7XG4gICAgfVxuXG4gICAgZmxpcFZlcnRpY2FsKCkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybUJhc2U2NCg0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRyYW5zZm9ybUJhc2U2NChleGlmT3JpZW50YXRpb246IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEJhc2U2NCkge1xuICAgICAgICAgICAgdHJhbnNmb3JtQmFzZTY0QmFzZWRPbkV4aWZSb3RhdGlvbih0aGlzLm9yaWdpbmFsQmFzZTY0LCBleGlmT3JpZW50YXRpb24pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdEJhc2U2NDogc3RyaW5nKSA9PiB0aGlzLmZpdEltYWdlVG9Bc3BlY3RSYXRpbyhyZXN1bHRCYXNlNjQpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyb3RhdGVkQmFzZTY0OiBzdHJpbmcpID0+IHRoaXMubG9hZEJhc2U2NEltYWdlKHJvdGF0ZWRCYXNlNjQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVzaXplQ3JvcHBlclBvc2l0aW9uKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzb3VyY2VJbWFnZUVsZW1lbnQgPSB0aGlzLnNvdXJjZUltYWdlLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmICh0aGlzLm1heFNpemUud2lkdGggIT09IHNvdXJjZUltYWdlRWxlbWVudC5vZmZzZXRXaWR0aCB8fCB0aGlzLm1heFNpemUuaGVpZ2h0ICE9PSBzb3VyY2VJbWFnZUVsZW1lbnQub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueDEgPSB0aGlzLmNyb3BwZXIueDEgKiBzb3VyY2VJbWFnZUVsZW1lbnQub2Zmc2V0V2lkdGggLyB0aGlzLm1heFNpemUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueDIgPSB0aGlzLmNyb3BwZXIueDIgKiBzb3VyY2VJbWFnZUVsZW1lbnQub2Zmc2V0V2lkdGggLyB0aGlzLm1heFNpemUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueTEgPSB0aGlzLmNyb3BwZXIueTEgKiBzb3VyY2VJbWFnZUVsZW1lbnQub2Zmc2V0SGVpZ2h0IC8gdGhpcy5tYXhTaXplLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MiA9IHRoaXMuY3JvcHBlci55MiAqIHNvdXJjZUltYWdlRWxlbWVudC5vZmZzZXRIZWlnaHQgLyB0aGlzLm1heFNpemUuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNldENyb3BwZXJQb3NpdGlvbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc291cmNlSW1hZ2VFbGVtZW50ID0gdGhpcy5zb3VyY2VJbWFnZS5uYXRpdmVFbGVtZW50O1xuICAgICAgICBpZiAoIXRoaXMubWFpbnRhaW5Bc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyLngxID0gMDtcbiAgICAgICAgICAgIHRoaXMuY3JvcHBlci54MiA9IHNvdXJjZUltYWdlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueTIgPSBzb3VyY2VJbWFnZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZUltYWdlRWxlbWVudC5vZmZzZXRXaWR0aCAvIHRoaXMuYXNwZWN0UmF0aW8gPCBzb3VyY2VJbWFnZUVsZW1lbnQub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueDEgPSAwO1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyLngyID0gc291cmNlSW1hZ2VFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgY29uc3QgY3JvcHBlckhlaWdodCA9IHNvdXJjZUltYWdlRWxlbWVudC5vZmZzZXRXaWR0aCAvIHRoaXMuYXNwZWN0UmF0aW87XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueTEgPSAoc291cmNlSW1hZ2VFbGVtZW50Lm9mZnNldEhlaWdodCAtIGNyb3BwZXJIZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MiA9IHRoaXMuY3JvcHBlci55MSArIGNyb3BwZXJIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueTEgPSAwO1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyLnkyID0gc291cmNlSW1hZ2VFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGNyb3BwZXJXaWR0aCA9IHNvdXJjZUltYWdlRWxlbWVudC5vZmZzZXRIZWlnaHQgKiB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyLngxID0gKHNvdXJjZUltYWdlRWxlbWVudC5vZmZzZXRXaWR0aCAtIGNyb3BwZXJXaWR0aCkgLyAyO1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyLngyID0gdGhpcy5jcm9wcGVyLngxICsgY3JvcHBlcldpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZG9BdXRvQ3JvcCgpO1xuICAgICAgICB0aGlzLmltYWdlVmlzaWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgc3RhcnRNb3ZlKGV2ZW50OiBhbnksIG1vdmVUeXBlOiBzdHJpbmcsIHBvc2l0aW9uOiBzdHJpbmcgfCBudWxsID0gbnVsbCk6IHZvaWQge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLm1vdmVTdGFydCA9IHtcbiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHR5cGU6IG1vdmVUeXBlLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBjbGllbnRYOiB0aGlzLmdldENsaWVudFgoZXZlbnQpLFxuICAgICAgICAgICAgY2xpZW50WTogdGhpcy5nZXRDbGllbnRZKGV2ZW50KSxcbiAgICAgICAgICAgIC4uLnRoaXMuY3JvcHBlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50Om1vdXNlbW92ZScsIFsnJGV2ZW50J10pXG4gICAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6dG91Y2htb3ZlJywgWyckZXZlbnQnXSlcbiAgICBtb3ZlSW1nKGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubW92ZVN0YXJ0LmFjdGl2ZSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMubW92ZVN0YXJ0LnR5cGUgPT09ICdtb3ZlJykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZShldmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0Nyb3BwZXJQb3NpdGlvbih0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3ZlU3RhcnQudHlwZSA9PT0gJ3Jlc2l6ZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZShldmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0Nyb3BwZXJQb3NpdGlvbihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0TWF4U2l6ZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc291cmNlSW1hZ2VFbGVtZW50ID0gdGhpcy5zb3VyY2VJbWFnZS5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLm1heFNpemUud2lkdGggPSBzb3VyY2VJbWFnZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMubWF4U2l6ZS5oZWlnaHQgPSBzb3VyY2VJbWFnZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLm1hcmdpbkxlZnQgPSB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0U3R5bGUoJ2NhbGMoNTAlIC0gJyArIHRoaXMubWF4U2l6ZS53aWR0aCAvIDIgKyAncHgpJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRDcm9wcGVyU2NhbGVkTWluU2l6ZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxJbWFnZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRDcm9wcGVyU2NhbGVkTWluV2lkdGgoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3JvcHBlclNjYWxlZE1pbkhlaWdodCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyU2NhbGVkTWluV2lkdGggPSAyMDtcbiAgICAgICAgICAgIHRoaXMuY3JvcHBlclNjYWxlZE1pbkhlaWdodCA9IDIwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRDcm9wcGVyU2NhbGVkTWluV2lkdGgoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3JvcHBlclNjYWxlZE1pbldpZHRoID0gdGhpcy5jcm9wcGVyTWluV2lkdGggPiAwXG4gICAgICAgICAgICA/IE1hdGgubWF4KDIwLCB0aGlzLmNyb3BwZXJNaW5XaWR0aCAvIHRoaXMub3JpZ2luYWxJbWFnZS53aWR0aCAqIHRoaXMubWF4U2l6ZS53aWR0aClcbiAgICAgICAgICAgIDogMjA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRDcm9wcGVyU2NhbGVkTWluSGVpZ2h0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5tYWludGFpbkFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXJTY2FsZWRNaW5IZWlnaHQgPSBNYXRoLm1heCgyMCwgdGhpcy5jcm9wcGVyU2NhbGVkTWluV2lkdGggLyB0aGlzLmFzcGVjdFJhdGlvKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNyb3BwZXJNaW5IZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXJTY2FsZWRNaW5IZWlnaHQgPSBNYXRoLm1heCgyMCwgdGhpcy5jcm9wcGVyTWluSGVpZ2h0IC8gdGhpcy5vcmlnaW5hbEltYWdlLmhlaWdodCAqIHRoaXMubWF4U2l6ZS5oZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyU2NhbGVkTWluSGVpZ2h0ID0gMjA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrQ3JvcHBlclBvc2l0aW9uKG1haW50YWluU2l6ZSA9IGZhbHNlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmNyb3BwZXIueDEgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueDIgLT0gbWFpbnRhaW5TaXplID8gdGhpcy5jcm9wcGVyLngxIDogMDtcbiAgICAgICAgICAgIHRoaXMuY3JvcHBlci54MSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3JvcHBlci55MSA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MiAtPSBtYWludGFpblNpemUgPyB0aGlzLmNyb3BwZXIueTEgOiAwO1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyLnkxID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jcm9wcGVyLngyID4gdGhpcy5tYXhTaXplLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueDEgLT0gbWFpbnRhaW5TaXplID8gKHRoaXMuY3JvcHBlci54MiAtIHRoaXMubWF4U2l6ZS53aWR0aCkgOiAwO1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVyLngyID0gdGhpcy5tYXhTaXplLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNyb3BwZXIueTIgPiB0aGlzLm1heFNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZXIueTEgLT0gbWFpbnRhaW5TaXplID8gKHRoaXMuY3JvcHBlci55MiAtIHRoaXMubWF4U2l6ZS5oZWlnaHQpIDogMDtcbiAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MiA9IHRoaXMubWF4U2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDptb3VzZXVwJylcbiAgICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDp0b3VjaGVuZCcpXG4gICAgbW92ZVN0b3AoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm1vdmVTdGFydC5hY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVN0YXJ0LmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kb0F1dG9Dcm9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG1vdmUoZXZlbnQ6IGFueSkge1xuICAgICAgICBjb25zdCBkaWZmWCA9IHRoaXMuZ2V0Q2xpZW50WChldmVudCkgLSB0aGlzLm1vdmVTdGFydC5jbGllbnRYO1xuICAgICAgICBjb25zdCBkaWZmWSA9IHRoaXMuZ2V0Q2xpZW50WShldmVudCkgLSB0aGlzLm1vdmVTdGFydC5jbGllbnRZO1xuXG4gICAgICAgIHRoaXMuY3JvcHBlci54MSA9IHRoaXMubW92ZVN0YXJ0LngxICsgZGlmZlg7XG4gICAgICAgIHRoaXMuY3JvcHBlci55MSA9IHRoaXMubW92ZVN0YXJ0LnkxICsgZGlmZlk7XG4gICAgICAgIHRoaXMuY3JvcHBlci54MiA9IHRoaXMubW92ZVN0YXJ0LngyICsgZGlmZlg7XG4gICAgICAgIHRoaXMuY3JvcHBlci55MiA9IHRoaXMubW92ZVN0YXJ0LnkyICsgZGlmZlk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNpemUoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zdCBkaWZmWCA9IHRoaXMuZ2V0Q2xpZW50WChldmVudCkgLSB0aGlzLm1vdmVTdGFydC5jbGllbnRYO1xuICAgICAgICBjb25zdCBkaWZmWSA9IHRoaXMuZ2V0Q2xpZW50WShldmVudCkgLSB0aGlzLm1vdmVTdGFydC5jbGllbnRZO1xuICAgICAgICBzd2l0Y2ggKHRoaXMubW92ZVN0YXJ0LnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueDEgPSBNYXRoLm1pbih0aGlzLm1vdmVTdGFydC54MSArIGRpZmZYLCB0aGlzLmNyb3BwZXIueDIgLSB0aGlzLmNyb3BwZXJTY2FsZWRNaW5XaWR0aCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0b3BsZWZ0JzpcbiAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueDEgPSBNYXRoLm1pbih0aGlzLm1vdmVTdGFydC54MSArIGRpZmZYLCB0aGlzLmNyb3BwZXIueDIgLSB0aGlzLmNyb3BwZXJTY2FsZWRNaW5XaWR0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLnkxID0gTWF0aC5taW4odGhpcy5tb3ZlU3RhcnQueTEgKyBkaWZmWSwgdGhpcy5jcm9wcGVyLnkyIC0gdGhpcy5jcm9wcGVyU2NhbGVkTWluSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLnkxID0gTWF0aC5taW4odGhpcy5tb3ZlU3RhcnQueTEgKyBkaWZmWSwgdGhpcy5jcm9wcGVyLnkyIC0gdGhpcy5jcm9wcGVyU2NhbGVkTWluSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RvcHJpZ2h0JzpcbiAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueDIgPSBNYXRoLm1heCh0aGlzLm1vdmVTdGFydC54MiArIGRpZmZYLCB0aGlzLmNyb3BwZXIueDEgKyB0aGlzLmNyb3BwZXJTY2FsZWRNaW5XaWR0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLnkxID0gTWF0aC5taW4odGhpcy5tb3ZlU3RhcnQueTEgKyBkaWZmWSwgdGhpcy5jcm9wcGVyLnkyIC0gdGhpcy5jcm9wcGVyU2NhbGVkTWluSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueDIgPSBNYXRoLm1heCh0aGlzLm1vdmVTdGFydC54MiArIGRpZmZYLCB0aGlzLmNyb3BwZXIueDEgKyB0aGlzLmNyb3BwZXJTY2FsZWRNaW5XaWR0aCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdib3R0b21yaWdodCc6XG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLngyID0gTWF0aC5tYXgodGhpcy5tb3ZlU3RhcnQueDIgKyBkaWZmWCwgdGhpcy5jcm9wcGVyLngxICsgdGhpcy5jcm9wcGVyU2NhbGVkTWluV2lkdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MiA9IE1hdGgubWF4KHRoaXMubW92ZVN0YXJ0LnkyICsgZGlmZlksIHRoaXMuY3JvcHBlci55MSArIHRoaXMuY3JvcHBlclNjYWxlZE1pbkhlaWdodCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MiA9IE1hdGgubWF4KHRoaXMubW92ZVN0YXJ0LnkyICsgZGlmZlksIHRoaXMuY3JvcHBlci55MSArIHRoaXMuY3JvcHBlclNjYWxlZE1pbkhlaWdodCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdib3R0b21sZWZ0JzpcbiAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueDEgPSBNYXRoLm1pbih0aGlzLm1vdmVTdGFydC54MSArIGRpZmZYLCB0aGlzLmNyb3BwZXIueDIgLSB0aGlzLmNyb3BwZXJTY2FsZWRNaW5XaWR0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLnkyID0gTWF0aC5tYXgodGhpcy5tb3ZlU3RhcnQueTIgKyBkaWZmWSwgdGhpcy5jcm9wcGVyLnkxICsgdGhpcy5jcm9wcGVyU2NhbGVkTWluSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm1haW50YWluQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tBc3BlY3RSYXRpbygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0FzcGVjdFJhdGlvKCk6IHZvaWQge1xuICAgICAgICBsZXQgb3ZlcmZsb3dYID0gMDtcbiAgICAgICAgbGV0IG92ZXJmbG93WSA9IDA7XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLm1vdmVTdGFydC5wb3NpdGlvbikge1xuICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueDIgPSB0aGlzLmNyb3BwZXIueDEgKyAodGhpcy5jcm9wcGVyLnkyIC0gdGhpcy5jcm9wcGVyLnkxKSAqIHRoaXMuYXNwZWN0UmF0aW87XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dYID0gTWF0aC5tYXgodGhpcy5jcm9wcGVyLngyIC0gdGhpcy5tYXhTaXplLndpZHRoLCAwKTtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1kgPSBNYXRoLm1heCgwIC0gdGhpcy5jcm9wcGVyLnkxLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3dYID4gMCB8fCBvdmVyZmxvd1kgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci54MiAtPSAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgPiBvdmVyZmxvd1ggPyAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgOiBvdmVyZmxvd1g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MSArPSAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgPiBvdmVyZmxvd1ggPyBvdmVyZmxvd1kgOiBvdmVyZmxvd1ggLyB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLngyID0gdGhpcy5jcm9wcGVyLngxICsgKHRoaXMuY3JvcHBlci55MiAtIHRoaXMuY3JvcHBlci55MSkgKiB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93WCA9IE1hdGgubWF4KHRoaXMuY3JvcHBlci54MiAtIHRoaXMubWF4U2l6ZS53aWR0aCwgMCk7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dZID0gTWF0aC5tYXgodGhpcy5jcm9wcGVyLnkyIC0gdGhpcy5tYXhTaXplLmhlaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJmbG93WCA+IDAgfHwgb3ZlcmZsb3dZID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueDIgLT0gKG92ZXJmbG93WSAqIHRoaXMuYXNwZWN0UmF0aW8pID4gb3ZlcmZsb3dYID8gKG92ZXJmbG93WSAqIHRoaXMuYXNwZWN0UmF0aW8pIDogb3ZlcmZsb3dYO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueTIgLT0gKG92ZXJmbG93WSAqIHRoaXMuYXNwZWN0UmF0aW8pID4gb3ZlcmZsb3dYID8gb3ZlcmZsb3dZIDogKG92ZXJmbG93WCAvIHRoaXMuYXNwZWN0UmF0aW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RvcGxlZnQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MSA9IHRoaXMuY3JvcHBlci55MiAtICh0aGlzLmNyb3BwZXIueDIgLSB0aGlzLmNyb3BwZXIueDEpIC8gdGhpcy5hc3BlY3RSYXRpbztcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1ggPSBNYXRoLm1heCgwIC0gdGhpcy5jcm9wcGVyLngxLCAwKTtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1kgPSBNYXRoLm1heCgwIC0gdGhpcy5jcm9wcGVyLnkxLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3dYID4gMCB8fCBvdmVyZmxvd1kgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci54MSArPSAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgPiBvdmVyZmxvd1ggPyAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgOiBvdmVyZmxvd1g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MSArPSAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgPiBvdmVyZmxvd1ggPyBvdmVyZmxvd1kgOiBvdmVyZmxvd1ggLyB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RvcHJpZ2h0JzpcbiAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueTEgPSB0aGlzLmNyb3BwZXIueTIgLSAodGhpcy5jcm9wcGVyLngyIC0gdGhpcy5jcm9wcGVyLngxKSAvIHRoaXMuYXNwZWN0UmF0aW87XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dYID0gTWF0aC5tYXgodGhpcy5jcm9wcGVyLngyIC0gdGhpcy5tYXhTaXplLndpZHRoLCAwKTtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1kgPSBNYXRoLm1heCgwIC0gdGhpcy5jcm9wcGVyLnkxLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3dYID4gMCB8fCBvdmVyZmxvd1kgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci54MiAtPSAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgPiBvdmVyZmxvd1ggPyAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgOiBvdmVyZmxvd1g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MSArPSAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgPiBvdmVyZmxvd1ggPyBvdmVyZmxvd1kgOiBvdmVyZmxvd1ggLyB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbXJpZ2h0JzpcbiAgICAgICAgICAgICAgICB0aGlzLmNyb3BwZXIueTIgPSB0aGlzLmNyb3BwZXIueTEgKyAodGhpcy5jcm9wcGVyLngyIC0gdGhpcy5jcm9wcGVyLngxKSAvIHRoaXMuYXNwZWN0UmF0aW87XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dYID0gTWF0aC5tYXgodGhpcy5jcm9wcGVyLngyIC0gdGhpcy5tYXhTaXplLndpZHRoLCAwKTtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1kgPSBNYXRoLm1heCh0aGlzLmNyb3BwZXIueTIgLSB0aGlzLm1heFNpemUuaGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3dYID4gMCB8fCBvdmVyZmxvd1kgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci54MiAtPSAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgPiBvdmVyZmxvd1ggPyAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgOiBvdmVyZmxvd1g7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcHBlci55MiAtPSAob3ZlcmZsb3dZICogdGhpcy5hc3BlY3RSYXRpbykgPiBvdmVyZmxvd1ggPyBvdmVyZmxvd1kgOiBvdmVyZmxvd1ggLyB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgY2FzZSAnYm90dG9tbGVmdCc6XG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLnkyID0gdGhpcy5jcm9wcGVyLnkxICsgKHRoaXMuY3JvcHBlci54MiAtIHRoaXMuY3JvcHBlci54MSkgLyB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93WCA9IE1hdGgubWF4KDAgLSB0aGlzLmNyb3BwZXIueDEsIDApO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93WSA9IE1hdGgubWF4KHRoaXMuY3JvcHBlci55MiAtIHRoaXMubWF4U2l6ZS5oZWlnaHQsIDApO1xuICAgICAgICAgICAgICAgIGlmIChvdmVyZmxvd1ggPiAwIHx8IG92ZXJmbG93WSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLngxICs9IChvdmVyZmxvd1kgKiB0aGlzLmFzcGVjdFJhdGlvKSA+IG92ZXJmbG93WCA/IChvdmVyZmxvd1kgKiB0aGlzLmFzcGVjdFJhdGlvKSA6IG92ZXJmbG93WDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcm9wcGVyLnkyIC09IChvdmVyZmxvd1kgKiB0aGlzLmFzcGVjdFJhdGlvKSA+IG92ZXJmbG93WCA/IG92ZXJmbG93WSA6IG92ZXJmbG93WCAvIHRoaXMuYXNwZWN0UmF0aW87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkb0F1dG9Dcm9wKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5hdXRvQ3JvcCkge1xuICAgICAgICAgICAgdGhpcy5jcm9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcm9wKG91dHB1dFR5cGU6IE91dHB1dFR5cGUgPSB0aGlzLm91dHB1dFR5cGUpOiBJbWFnZUNyb3BwZWRFdmVudCB8IFByb21pc2U8SW1hZ2VDcm9wcGVkRXZlbnQ+IHwgbnVsbCB7XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUltYWdlLm5hdGl2ZUVsZW1lbnQgJiYgdGhpcy5vcmlnaW5hbEltYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDcm9wSW1hZ2UuZW1pdCgpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VQb3NpdGlvbiA9IHRoaXMuZ2V0SW1hZ2VQb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBpbWFnZVBvc2l0aW9uLngyIC0gaW1hZ2VQb3NpdGlvbi54MTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGltYWdlUG9zaXRpb24ueTIgLSBpbWFnZVBvc2l0aW9uLnkxO1xuXG4gICAgICAgICAgICBjb25zdCBjcm9wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgICAgICAgICBjcm9wQ2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjcm9wQ2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgY29uc3QgY3R4ID0gY3JvcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRDb2xvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKCAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEltYWdlLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVBvc2l0aW9uLngxLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVBvc2l0aW9uLnkxLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSB7d2lkdGgsIGhlaWdodCwgaW1hZ2VQb3NpdGlvbiwgY3JvcHBlclBvc2l0aW9uOiB7Li4udGhpcy5jcm9wcGVyfX07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzaXplUmF0aW8gPSB0aGlzLmdldFJlc2l6ZVJhdGlvKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNpemVSYXRpbyAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQud2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoICogcmVzaXplUmF0aW8pO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuaGVpZ2h0ID0gdGhpcy5tYWludGFpbkFzcGVjdFJhdGlvXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgucm91bmQob3V0cHV0LndpZHRoIC8gdGhpcy5hc3BlY3RSYXRpbylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5yb3VuZChoZWlnaHQgKiByZXNpemVSYXRpbyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZUNhbnZhcyhjcm9wQ2FudmFzLCBvdXRwdXQud2lkdGgsIG91dHB1dC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcm9wVG9PdXRwdXRUeXBlKG91dHB1dFR5cGUsIGNyb3BDYW52YXMsIG91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJbWFnZVBvc2l0aW9uKCk6IENyb3BwZXJQb3NpdGlvbiB7XG4gICAgICAgIGNvbnN0IHNvdXJjZUltYWdlRWxlbWVudCA9IHRoaXMuc291cmNlSW1hZ2UubmF0aXZlRWxlbWVudDtcbiAgICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCAvIHNvdXJjZUltYWdlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHgxOiBNYXRoLnJvdW5kKHRoaXMuY3JvcHBlci54MSAqIHJhdGlvKSxcbiAgICAgICAgICAgIHkxOiBNYXRoLnJvdW5kKHRoaXMuY3JvcHBlci55MSAqIHJhdGlvKSxcbiAgICAgICAgICAgIHgyOiBNYXRoLm1pbihNYXRoLnJvdW5kKHRoaXMuY3JvcHBlci54MiAqIHJhdGlvKSwgdGhpcy5vcmlnaW5hbFNpemUud2lkdGgpLFxuICAgICAgICAgICAgeTI6IE1hdGgubWluKE1hdGgucm91bmQodGhpcy5jcm9wcGVyLnkyICogcmF0aW8pLCB0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcm9wVG9PdXRwdXRUeXBlKG91dHB1dFR5cGU6IE91dHB1dFR5cGUsIGNyb3BDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBvdXRwdXQ6IEltYWdlQ3JvcHBlZEV2ZW50KTogSW1hZ2VDcm9wcGVkRXZlbnQgfCBQcm9taXNlPEltYWdlQ3JvcHBlZEV2ZW50PiB7XG4gICAgICAgIHN3aXRjaCAob3V0cHV0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JvcFRvRmlsZShjcm9wQ2FudmFzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0OiBCbG9iIHwgbnVsbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZpbGUgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlQ3JvcHBlZC5lbWl0KG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgJ2JvdGgnOlxuICAgICAgICAgICAgICAgIG91dHB1dC5iYXNlNjQgPSB0aGlzLmNyb3BUb0Jhc2U2NChjcm9wQ2FudmFzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcm9wVG9GaWxlKGNyb3BDYW52YXMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQ6IEJsb2IgfCBudWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZmlsZSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VDcm9wcGVkLmVtaXQob3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBvdXRwdXQuYmFzZTY0ID0gdGhpcy5jcm9wVG9CYXNlNjQoY3JvcENhbnZhcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZUNyb3BwZWQuZW1pdChvdXRwdXQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyb3BUb0Jhc2U2NChjcm9wQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGltYWdlQmFzZTY0ID0gY3JvcENhbnZhcy50b0RhdGFVUkwoJ2ltYWdlLycgKyB0aGlzLmZvcm1hdCwgdGhpcy5nZXRRdWFsaXR5KCkpO1xuICAgICAgICB0aGlzLmltYWdlQ3JvcHBlZEJhc2U2NC5lbWl0KGltYWdlQmFzZTY0KTtcbiAgICAgICAgcmV0dXJuIGltYWdlQmFzZTY0O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JvcFRvRmlsZShjcm9wQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IFByb21pc2U8QmxvYiB8IG51bGw+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2FudmFzQmxvYihjcm9wQ2FudmFzKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdDogQmxvYiB8IG51bGwpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VDcm9wcGVkRmlsZS5lbWl0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENhbnZhc0Jsb2IoY3JvcENhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpOiBQcm9taXNlPEJsb2IgfCBudWxsPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY3JvcENhbnZhcy50b0Jsb2IoXG4gICAgICAgICAgICAgICAgKHJlc3VsdDogQmxvYiB8IG51bGwpID0+IHRoaXMuem9uZS5ydW4oKCkgPT4gcmVzb2x2ZShyZXN1bHQpKSxcbiAgICAgICAgICAgICAgICAnaW1hZ2UvJyArIHRoaXMuZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UXVhbGl0eSgpXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFF1YWxpdHkoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHRoaXMuaW1hZ2VRdWFsaXR5IC8gMTAwKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRSZXNpemVSYXRpbyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZVRvV2lkdGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMub25seVNjYWxlRG93biB8fCB3aWR0aCA+IHRoaXMucmVzaXplVG9XaWR0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc2l6ZVRvV2lkdGggLyB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc2l6ZVRvSGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9ubHlTY2FsZURvd24gfHwgaGVpZ2h0ID4gdGhpcy5yZXNpemVUb0hlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc2l6ZVRvSGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDbGllbnRYKGV2ZW50OiBhbnkpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gZXZlbnQuY2xpZW50WCB8fCBldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXNbMF0gJiYgZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q2xpZW50WShldmVudDogYW55KTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmNsaWVudFkgfHwgZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzWzBdICYmIGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEltYWdlQ3JvcHBlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50L2ltYWdlLWNyb3BwZXIuY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZVxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIEltYWdlQ3JvcHBlckNvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBJbWFnZUNyb3BwZXJDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0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","export class Content {\r\n  constructor(public id: string, public name: string) { }\r\n}\r\n\r\nexport interface Clients {\r\n  status: string;\r\n  statusCode: string;\r\n  content: Content[];\r\n}\r\n\r\nexport class ClientCreateReq {\r\n  constructor(\r\n    public name: string,\r\n    public description: string,\r\n    public clientLogo: string,\r\n    public users: UserData[],\r\n    public categories: CategoryData[],\r\n    public license: ClientLicenseData\r\n  ) { }\r\n}\r\n\r\nexport class ClientLicenseData {\r\n  constructor(\r\n    public tagCount: number,\r\n    public userCount: number,\r\n    public communityCount: number,\r\n    public feedbackCount: number,\r\n    public eventCount: number,\r\n    public promoCount: number\r\n  ) { }\r\n}\r\n\r\nexport class ClientUpdateReq {\r\n  constructor(\r\n    public name: string,\r\n    public description: string,\r\n    public clientLogo: string,\r\n    public primaryContactNo: string,\r\n    public addressLine1: string,\r\n    public addressLine2: string,\r\n    public city: string,\r\n    public state: string,\r\n    public zipCode: string,\r\n    public country: CountryData\r\n  ) { }\r\n}\r\n\r\nexport class CountryData {\r\n  constructor(\r\n    public id: string,\r\n    // public name: string,\r\n    // public code: string\r\n  ) { }\r\n}\r\n\r\nexport class UserData {\r\n  constructor(\r\n    public accountName: string,\r\n    public email: string,\r\n    public role: AdminRoleData,\r\n  ) { }\r\n}\r\n\r\nexport class AdminRoleData {\r\n  constructor(\r\n    public name: string,\r\n    public description: string,\r\n    public authorities: AuthorityData[],\r\n  ) { }\r\n}\r\n\r\nexport class AuthorityData {\r\n  constructor(\r\n    public id: string\r\n  ) { }\r\n}\r\n\r\nexport class UserCreateReq {\r\n  constructor(\r\n    public accountName: string,\r\n    public password: string,\r\n    public email: string,\r\n    public role: RoleData,\r\n    public client: ClientData,\r\n    public communities: CommunityData[],\r\n    public categories: CategoryData[],\r\n  ) { }\r\n}\r\n\r\nexport class UserUpdateReq {\r\n  constructor(\r\n    public accountName: string,\r\n    public email: string,\r\n    public role: RoleData,\r\n    public status : string\r\n  ) { }\r\n}\r\n\r\nexport class UserCategoryUpdateReq {\r\n  constructor(\r\n    public categories: CategoryData[]\r\n  ) { }\r\n}\r\n\r\nexport class UserCommunityUpdateRequest {\r\n  constructor(\r\n    public communities: CommunityData[]\r\n  ) { }\r\n}\r\n\r\n// export class UserCategoryUpdateReq {\r\n//   constructor(\r\n//     public accountName: string,\r\n//     public email: string,\r\n//     public role: RoleData,\r\n//     public categories: CategoryData[]\r\n//   ) { }\r\n// }\r\n\r\nexport class ClientCategoryUpdateReq {\r\n  constructor(\r\n    public categories: CategoryData[]\r\n  ) { }\r\n}\r\n\r\nexport class ClientData {\r\n  constructor(\r\n    public id: string\r\n  ) { }\r\n}\r\n\r\nexport class LicenseUpdateReq {\r\n  constructor(\r\n    public tagCount: number,\r\n    public userCount: number,\r\n    public communityCount: number,\r\n    public feedbackCount: number,\r\n    public eventCount: number,\r\n    public promoCount: number,\r\n    public client: ClientData,\r\n  ) { }\r\n}\r\n\r\nexport class RoleData {\r\n  constructor(\r\n    public id: string\r\n  ) { }\r\n}\r\n\r\nexport class CommunityData {\r\n  constructor(\r\n    public id: string\r\n  ) { }\r\n}\r\n\r\nexport class CategoryData {\r\n  constructor(\r\n    public id: string\r\n  ) { }\r\n}\r\n\r\nexport class LicenseUpdateRequest {\r\n  constructor(\r\n    public id: string\r\n  ) { }\r\n}\r\n\r\nexport class profileUpdateReq {\r\n  constructor(\r\n    public id: string,\r\n    public accountName: string,\r\n    public email: string,\r\n  ) { }\r\n}\r\n\r\nexport class passwordUpdateReq {\r\n  constructor(\r\n    public id: string,\r\n    public password: string,\r\n    public newPassword: string,\r\n  ) { }\r\n}\r\n\r\nexport class userImageReq {\r\n  constructor(\r\n    public id: string,\r\n    public imageContent: string,\r\n    public profileImage: string,\r\n  ) { }\r\n}\r\n\r\nexport interface autoCompletableCategory {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\nexport interface roleAuthority {\r\n  id: string;\r\n  name: string;\r\n  code: string;\r\n}\r\n","\r\n/**\r\n  * Buddhi\r\n  * DO NOT DELETE!\r\n  */\r\n\r\n\r\nexport class GlobalVariable {\r\n\r\n  public validators = {\r\n    regex: {\r\n      _Letter: '^(?:[A-Za-z]+)(?:[A-Za-z _]*)$',\r\n      _PosNumber: '^[+]?([1-9]+(?:[0-9]*)?|\\\\.[0-9]+)$',\r\n      _PosNumberAndLetter: '^(?:[A-Za-z0-9]+)(?:[A-Za-z0-9 ._-]*)$',\r\n      _Password : '(?=(.*[a-zA-Z].*){2,})((?=.*\\\\d.*)|(?=.*[$@$!%*?&].*))[a-zA-Z\\\\d$@$!%*?&\\\\S]{8,20}'\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n    * Client License Max Limits\r\n    */\r\n  public client = {\r\n    license: { tagCount: 1000000, userCount: 1000, comunityCount: 100, feedbackCount: 1000, eventCount: 1000, promoCount: 1000 }\r\n  }\r\n\r\n  public common = {\r\n    matChip: {\r\n      /**\r\n      * Colors\r\n      * primary / accent / warn / default\r\n      */\r\n      userStatusInUpdateUser: { true: \"primary\", false: \"default\" },\r\n      clientStatus: {\r\n        A: { status: \"Active\", style: \"primary\", opposite: { value: \"Inactive\", icon: \"block\" } },\r\n        I: { status: \"Inactive\", style: \"accent\", opposite: { value: \"Active\", icon: \"beenhere\" } },\r\n        D: { status: \"Deleted\", style: \"warn\", opposite: { value: \"Active\", icon: \"beenhere\" } }\r\n      },\r\n      userStatus: {\r\n        ACTIVE: { code: \"A\", display: \"ACTIVE\", style: \"primary\" },\r\n        INACTIVE: { code: \"I\", display: \"INACTIVE\", style: \"default\" },\r\n        DELETED: { code: \"D\", display: \"DELETED\", style: \"warn\" },\r\n        PENDING_ACTIVATION: { code: \"PEA\", display: \"PENDING\", style: \"default\" },\r\n        TEMP_LOCKED_BAD_CREDENTIALS: { code: \"TELBC\", display: \"LOCKED\", style: \"accent\" }\r\n      },\r\n      colorForStatus01: {\r\n        'ACTIVE': \"primary\",\r\n        'INACTIVE': \"default\"\r\n      },\r\n      colorForSurveyStatus01: {\r\n        0: { id: 0, status: \"On Premise\", style: \"accent\" },\r\n        1: { id: 1, status: \"Launched\", style: \"primary\" },\r\n        4: { id: 4, status: \"Offline\", style: \"default\" }\r\n      }\r\n    },\r\n    message: {\r\n      confirmPasswordStatus: {\r\n        1: { value: \"Password field must have at least 8 characters including at least two letters, one number or special character!\", style: \"custom-text-accent\" },\r\n        2: { value: \"Passwords Mismatch!\", style: \"custom-text-warn\" }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<mat-card class=\\\"p-0\\\">\\r\\n  <form [formGroup]=\\\"accountSettingsForm\\\" (ngSubmit)=\\\"submit()\\\">\\r\\n    <mat-card-title>\\r\\n      <div class=\\\"card-title-text\\\">Account Details</div>\\r\\n      <mat-divider></mat-divider>\\r\\n\\r\\n    </mat-card-title>\\r\\n    <mat-card-content class=\\\"mat-typography mt-2\\\">\\r\\n\\r\\n\\r\\n      <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n\\r\\n        <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput name=\\\"clientName\\\" [formControl]=\\\"accountSettingsForm.controls['name']\\\" letterOnly\\r\\n              placeholder=\\\"Name\\\">\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <textarea matInput name=\\\"description\\\" placeholder=\\\"Description\\\"\\r\\n              [formControl]=\\\"accountSettingsForm.controls['description']\\\"></textarea>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput name=\\\"contactNo\\\" [formControl]=\\\"accountSettingsForm.controls['contactNo']\\\"\\r\\n              placeholder=\\\"Contact No\\\">\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput name=\\\"addressLine1\\\" [formControl]=\\\"accountSettingsForm.controls['addressLine1']\\\"\\r\\n              placeholder=\\\"Address Line 1\\\">\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput name=\\\"addressLine2\\\" [formControl]=\\\"accountSettingsForm.controls['addressLine2']\\\"\\r\\n              placeholder=\\\"Address Line 2\\\">\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput name=\\\"city\\\" [formControl]=\\\"accountSettingsForm.controls['city']\\\" letterOnly\\r\\n              placeholder=\\\"City\\\">\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput name=\\\"state\\\" [formControl]=\\\"accountSettingsForm.controls['state']\\\"\\r\\n              positiveNumberAndLetterOnly placeholder=\\\"State\\\">\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput name=\\\"zipCode\\\" [formControl]=\\\"accountSettingsForm.controls['zipCode']\\\" positiveNumberOnly\\r\\n              placeholder=\\\"ZipCode\\\" maxlength=\\\"6\\\">\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n        <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput [formControl]=\\\"accountSettingsForm.controls['country']\\\" placeholder=\\\"Country\\\"  (focus)='loadCountryDD()'\\r\\n              [matAutocomplete]=\\\"auto\\\" (blur)=\\\"onBlurCountry()\\\">\\r\\n            <mat-autocomplete autoActiveFirstOption #auto=\\\"matAutocomplete\\\">\\r\\n              <mat-option *ngFor=\\\"let option of filteredCountries | async\\\" [value]=\\\"option.name\\\">\\r\\n                {{option.name}}\\r\\n              </mat-option>\\r\\n            </mat-autocomplete>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <!-- --------- hidden file input --------- -->\\r\\n        <input (change)=\\\"onSelectFile($event)\\\" #productImgs type=\\\"file\\\" style=\\\"display: none\\\"\\r\\n          [formControl]=\\\"accountSettingsForm.controls['profilePic']\\\" base-sixty-four-input>\\r\\n\\r\\n\\r\\n        <!-- --------- file input click button --------- -->\\r\\n        <!-- <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <div layout-margin layout-padding>\\r\\n            <button mat-raised-button class=\\\"mr-1 mb-1\\\" (click)=\\\"productImgs.click()\\\" type=\\\"button\\\">\\r\\n              Browse Images</button>\\r\\n          </div>\\r\\n        </div> -->\\r\\n\\r\\n        <div layout-margin layout-padding class=\\\"pr-1\\\">\\r\\n          <button mat-raised-button class=\\\"mr-1\\\" (click)=\\\"productImgs.click()\\\" type=\\\"button\\\">\\r\\n            Browse Images</button>\\r\\n          <button mat-raised-button class=\\\"mr-1\\\" (click)=\\\"removeSelectedImg()\\\" type=\\\"button\\\" *ngIf=\\\"url\\\">\\r\\n            Clear Images</button>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <!-- --------- start images preview container --------- -->\\r\\n        <div id=\\\"client_create_image_preview_container\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" layout-align=\\\"center\\\">\\r\\n\\r\\n          <div [@animate]=\\\"{value:'*',params:{y:'50px',delay:'300ms'}}\\\" *ngIf=\\\"url\\\" fxFlex=\\\"100\\\" style=\\\"display: flex;\\\">\\r\\n\\r\\n            <img class=\\\"clientProfilePic\\\" [src]=\\\"url\\\" (error)=\\\"removeSelectedImg()\\\">\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n        <!-- --------- end images preview container --------- -->\\r\\n\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n        <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n          <!-- <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"\\\">Save</button> -->\\r\\n          <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\" [disabled]=\\\"accountSettingsForm.invalid || !url\\\">Save</button>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n    </mat-card-content>\\r\\n\\r\\n  </form>\\r\\n</mat-card>\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\r\nimport { ProfileService } from '../profile.service';\r\nimport { ClientData, profileUpdateReq, autoCompletableCategory, CountryData, ClientUpdateReq } from 'app/model/ClientModel.model';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { AppErrorService } from 'app/shared/services/app-error/app-error.service';\r\nimport { MatSnackBar, MatAutocomplete, MatAutocompleteSelectedEvent, MatChipInputEvent } from '@angular/material';\r\nimport { egretAnimations } from \"app/shared/animations/egret-animations\";\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { startWith, map } from 'rxjs/operators';\r\nimport { CountryDB } from 'app/shared/helpers/countries';\r\nimport { ENTER, COMMA } from '@angular/cdk/keycodes';\r\nimport { AuthenticationService } from 'app/views/sessions/authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-account-settings',\r\n  templateUrl: './account-settings.component.html',\r\n  animations: egretAnimations,\r\n})\r\nexport class AccountSettingsComponent implements OnInit {\r\n\r\n  public countries;\r\n  filteredCountries: Observable<string[]>;\r\n  public selectedCountry;\r\n\r\n  public uploader: FileUploader = new FileUploader({ url: 'upload_url' });\r\n\r\n  public clientId;\r\n  public url;\r\n  imgBaseURL = 'http://localhost:10000/api/downloads/client/';\r\n\r\n  public accountSettingsForm: FormGroup;\r\n  filteredOptions: Observable<string[]>;\r\n\r\n\r\n  @ViewChild('categoryInput') categoryInput: ElementRef<HTMLInputElement>;\r\n  @ViewChild('auto') matAutocomplete: MatAutocomplete;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private profileService: ProfileService,\r\n    private loader: AppLoaderService,\r\n    private snack: MatSnackBar,\r\n    private errDialog: AppErrorService,\r\n    public snackBar: MatSnackBar,\r\n    private authService: AuthenticationService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    let currentUser = this.authService.getLoggedUserDetail();\r\n    this.clientId = currentUser.userData.client.id;\r\n    this.buildItemForm();\r\n    this.getClient();\r\n    this.getCountry();\r\n  }\r\n\r\n  buildItemForm() {\r\n    this.accountSettingsForm = this.fb.group({\r\n      name: ['', Validators.required],\r\n      description: ['', Validators.required],\r\n      profilePic: [''],\r\n      contactNo: ['', Validators.required],\r\n      addressLine1: ['', Validators.required],\r\n      addressLine2: ['', Validators.required],\r\n      city: ['', Validators.required],\r\n      state: ['', Validators.required],\r\n      zipCode: ['', Validators.required],\r\n      country: ['', Validators.required]\r\n    })\r\n  }\r\n\r\n  getClient() {\r\n    this.profileService.getClient(this.clientId).subscribe(successResp => {\r\n      let data = successResp.content;\r\n      this.accountSettingsForm.patchValue({\r\n        name: data.name,\r\n        description: data.description,\r\n        contactNo: data.primaryContactNo,\r\n        addressLine1: data.addressLine1,\r\n        addressLine2: data.addressLine2,\r\n        city: data.city,\r\n        state: data.state,\r\n        zipCode: data.zipCode,\r\n        country: data.country != null ? data.country.name : ''\r\n      });\r\n      this.selectedCountry = data.country != null ? data.country.id : '';\r\n      this.onBlurCountry();\r\n      getBase64ImageFromUrl(this.imgBaseURL + this.clientId)\r\n        .then(result => this.url = result)\r\n        .catch(err => console.error(err));\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  getCountry() {\r\n    this.profileService.getCountry().subscribe(successResp => {\r\n      this.countries = successResp.content;\r\n\r\n      this.filteredCountries = this.accountSettingsForm.get(\"country\").valueChanges.pipe(\r\n        startWith(''),\r\n        map(value => this._filter(value))\r\n      );\r\n\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  submit() {\r\n    const country: CountryData = new CountryData(this.selectedCountry);\r\n    const req: ClientUpdateReq = new ClientUpdateReq(\r\n      this.accountSettingsForm.get('name').value,\r\n      this.accountSettingsForm.get('description').value,\r\n      this.url, this.accountSettingsForm.get('contactNo').value,\r\n      this.accountSettingsForm.get('addressLine1').value,\r\n      this.accountSettingsForm.get('addressLine2').value,\r\n      this.accountSettingsForm.get('city').value,\r\n      this.accountSettingsForm.get('state').value,\r\n      this.accountSettingsForm.get('zipCode').value,\r\n      country\r\n    );\r\n\r\n    this.profileService.updateClientDetails(this.clientId, req).subscribe(\r\n      response => {\r\n        this.snack.open(\"Client Details Updated!\", \"OK\", { duration: 4000 });\r\n      },\r\n      error => {\r\n        this.loader.close();\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n\r\n  //  ----------------------- Account Setting ---------------------------------------------------------\r\n\r\n  private _filter(value: string): any {\r\n    const filterValue = value.toLowerCase();\r\n    return this.countries.filter(option => option.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n  // File uploader validation and upload\r\n  onSelectFile(event) {\r\n\r\n    if (event.target.files && event.target.files[0]) {\r\n\r\n      let file = event.dataTransfer ? event.dataTransfer.files[0] : event.target.files[0];\r\n      let pattern = /image-*/;\r\n      let reader = new FileReader();\r\n      if (!file.type.match(pattern)) {\r\n        this.snackBar.open(\r\n          \"Invalid Format!\",\r\n          \"close\",\r\n          { duration: 2000 }\r\n        );\r\n        return;\r\n      }\r\n      reader.onload = (event: any) => {\r\n        this.url = event.target.result;\r\n        console.log(this.url);\r\n\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n\r\n    } else {\r\n      this.snackBar.open(\r\n        \"Can't upload\",\r\n        \"close\",\r\n        { duration: 2000 }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  removeSelectedImg() {\r\n    this.url = null;\r\n    this.accountSettingsForm.controls['profilePic'].setValue('')\r\n  }\r\n\r\n  onBlurCountry(): void {\r\n    let value = this.accountSettingsForm.get(\"country\").value;\r\n    let status = true;\r\n    this.countries.forEach(element => {\r\n      if (element.name === value) {\r\n        this.selectedCountry = element.id;\r\n        status = false;\r\n      }\r\n    });\r\n\r\n    if (status) {\r\n      this.selectedCountry = null;\r\n      this.accountSettingsForm.get(\"country\").setValue(\"\");\r\n    }\r\n  }\r\n  //  -------------------------------------------------------------------------------------------------\r\n}\r\n\r\nasync function getBase64ImageFromUrl(imageUrl) {\r\n  var res = await fetch(imageUrl);\r\n  var blob = await res.blob();\r\n\r\n  return new Promise((resolve, reject) => {\r\n    var reader = new FileReader();\r\n    reader.addEventListener(\"load\", function () {\r\n      resolve(reader.result);\r\n    }, false);\r\n\r\n    reader.onerror = () => {\r\n      return reject(this);\r\n    };\r\n    reader.readAsDataURL(blob);\r\n  })\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL3Byb2ZpbGUvcHJvZmlsZS1ibGFuay9wcm9maWxlLWJsYW5rLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<p>\\r\\n  profile-blank works!\\r\\n</p>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-profile-blank',\r\n  templateUrl: './profile-blank.component.html',\r\n  styleUrls: ['./profile-blank.component.css']\r\n})\r\nexport class ProfileBlankComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"\\r\\n<mat-card class=\\\"p-0\\\">\\r\\n  <mat-tab-group>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    <!-- <mat-tab label=\\\"Update License\\\">\\r\\n      <mat-card-content class=\\\"mt-3\\\">\\r\\n        <form [formGroup]=\\\"licenseFormGroup\\\"  (ngSubmit)=\\\"submitLicense()\\\" class=\\\"\\\">\\r\\n\\r\\n          <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\" mt-1\\\">\\r\\n\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"tagCount\\\" placeholder=\\\"Tag Count\\\" positiveNumberOnly\\r\\n                  [formControl]=\\\"licenseFormGroup.controls['tagCount']\\\">\\r\\n              </mat-form-field>\\r\\n              <span *ngIf=\\\"licenseFormGroup.controls['tagCount'].hasError('max')\\\" class=\\\"form-error-msg\\\">\\r\\n                {{this.license.tagCount}} max ! </span>\\r\\n            </div>\\r\\n\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"userCount\\\" placeholder=\\\"User Count\\\" positiveNumberOnly\\r\\n                  [formControl]=\\\"licenseFormGroup.controls['userCount']\\\">\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"communityCount\\\" placeholder=\\\"Community Count\\\" positiveNumberOnly\\r\\n                  [formControl]=\\\"licenseFormGroup.controls['communityCount']\\\" (blur)=\\\"validateLicense()\\\"\\r\\n                  (focus)='setOldValue()'>\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"feedbackCount\\\" placeholder=\\\"Feedback Count\\\" positiveNumberOnly\\r\\n                  [formControl]=\\\"licenseFormGroup.controls['feedbackCount']\\\" (blur)=\\\"setDefaultValue('feedbackCount')\\\">\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"eventkCount\\\" placeholder=\\\"Event Count\\\" positiveNumberOnly\\r\\n                  [formControl]=\\\"licenseFormGroup.controls['eventCount']\\\" (blur)=\\\"setDefaultValue('eventCount')\\\">\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"promoCount\\\" placeholder=\\\"Promo Count\\\" positiveNumberOnly\\r\\n                  [formControl]=\\\"licenseFormGroup.controls['promoCount']\\\" (blur)=\\\"setDefaultValue('promoCount')\\\">\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n            <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n              <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"licenseFormGroup.invalid\\\" (click)=\\\"updateLicense()\\\">Save</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </mat-card-content>\\r\\n    </mat-tab> -->\\r\\n\\r\\n\\r\\n    <mat-tab label=\\\"Category\\\">\\r\\n      <mat-card-content class=\\\"mt-3\\\">\\r\\n        <form [formGroup]=\\\"categoryFormGroup\\\">\\r\\n          <ng-template matStepLabel>Category</ng-template>\\r\\n\\r\\n          <mat-form-field class=\\\"matAutocomplete-chip-list\\\">\\r\\n\\r\\n            <mat-chip-list #chipList>\\r\\n              <mat-chip *ngFor=\\\"let category of selectedCategories\\\" [selectable]=\\\"selectable\\\" [removable]=\\\"removable\\\"\\r\\n                (removed)=\\\"remove(category)\\\">\\r\\n                {{category.name}}\\r\\n                <mat-icon matChipRemove *ngIf=\\\"removable\\\">cancel</mat-icon>\\r\\n              </mat-chip>\\r\\n              <input matInput placeholder=\\\"Select category...\\\" #categoryInput [formControl]=\\\"categoryCtrl\\\" [matAutocomplete]=\\\"auto\\\"\\r\\n                [matChipInputFor]=\\\"chipList\\\" [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\" (focus) = \\\"onFocusCategoryDD()\\\"\\r\\n                (matChipInputTokenEnd)=\\\"add($event)\\\" [matChipInputAddOnBlur]=\\\"addOnBlur\\\" aria-label=\\\"Category\\\">\\r\\n            </mat-chip-list>    \\r\\n        \\r\\n            <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\">\\r\\n              <mat-option *ngFor=\\\"let category of filteredCategories | async\\\" [value]=\\\"category.id\\\">\\r\\n                <span>{{category.name}}</span>\\r\\n              </mat-option>\\r\\n            </mat-autocomplete>\\r\\n        \\r\\n          </mat-form-field>\\r\\n\\r\\n          <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n            <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n              <button mat-raised-button color=\\\"primary\\\" matStepperNext [disabled]='categoryFormStatus' (click)=\\\"updateCategory()\\\">Save</button>\\r\\n              <span fxFlex></span>\\r\\n              <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </mat-card-content>\\r\\n    </mat-tab>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  </mat-tab-group>\\r\\n</mat-card>\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\r\nimport { ProfileService } from '../profile.service';\r\nimport { ClientData, LicenseUpdateReq, ClientCategoryUpdateReq, CategoryData, autoCompletableCategory } from 'app/model/ClientModel.model';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { AppErrorService } from 'app/shared/services/app-error/app-error.service';\r\nimport { MatSnackBar, MatAutocomplete, MatAutocompleteSelectedEvent, MatChipInputEvent } from '@angular/material';\r\nimport { egretAnimations } from \"app/shared/animations/egret-animations\";\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { startWith, map } from 'rxjs/operators';\r\nimport { CountryDB } from 'app/shared/helpers/countries';\r\nimport { ENTER, COMMA } from '@angular/cdk/keycodes';\r\nimport { AuthenticationService } from 'app/views/sessions/authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-profile-license',\r\n  templateUrl: './profile-license.component.html'\r\n})\r\nexport class ProfileLicenseComponent implements OnInit {\r\n\r\n  // public globalVariable: GlobalVariable = new GlobalVariable();\r\n  // public license = this.globalVariable.client.license;\r\n  // public regex = this.globalVariable.validators.regex;\r\n\r\n  // public licenseFormGroup: FormGroup;\r\n  public formStatus = false;\r\n  public url;\r\n  public oldestValue = 0;\r\n  public clientId;\r\n  public license;\r\n  // public getItemSub: Subscription;\r\n\r\n  public categoryFormGroup: FormGroup;\r\n\r\n  selectable = true;\r\n  removable = true;\r\n  addOnBlur = true;\r\n  separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  categoryCtrl = new FormControl();\r\n  allCategories: autoCompletableCategory[] = [];\r\n  filteredCategories: Observable<autoCompletableCategory[]>;\r\n  selectedCategories: autoCompletableCategory[] = [];\r\n\r\n  @ViewChild('categoryInput') categoryInput: ElementRef<HTMLInputElement>;\r\n  @ViewChild('auto') matAutocomplete: MatAutocomplete;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    public snackBar: MatSnackBar,\r\n    private profileService: ProfileService,\r\n    private errDialog: AppErrorService,\r\n    private loader: AppLoaderService,\r\n    private snack: MatSnackBar,\r\n    private authService: AuthenticationService\r\n  ) { }\r\n\r\n\r\n  ngOnInit() {\r\n    let currentUser = this.authService.getLoggedUserDetail();\r\n    this.clientId = currentUser.userData.client.id;\r\n    this.getCategory();\r\n    this.getClientCategory();\r\n    this.buildItemForm()\r\n\r\n    // this.buildItemForm(this.data.payload.license)\r\n  }\r\n\r\n  buildItemForm() {\r\n\r\n    // this.licenseFormGroup = this.fb.group({\r\n    //   tagCount: ['', Validators.required],\r\n    //   userCount: ['', Validators.required],\r\n    //   communityCount: ['', Validators.required],\r\n    //   feedbackCount: ['', Validators.required],\r\n    //   eventCount: ['', Validators.required],\r\n    //   promoCount: ['', Validators.required]\r\n    // });\r\n\r\n    this.categoryFormGroup = this.fb.group({\r\n      category: this.categoryCtrl\r\n    });\r\n\r\n\r\n    // this.getClient();\r\n  }\r\n\r\n  getCategory() {\r\n    this.profileService.getCategory().subscribe(successResp => {\r\n      this.allCategories = successResp.content;\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getClientCategory() {\r\n    this.profileService.getClientCategories(this.clientId).subscribe(successResp => {\r\n      successResp.content.forEach(element => {\r\n        this.addSelectedCategory(element.id);\r\n      });\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      });\r\n  }\r\n\r\n  // getClient() {\r\n  //   this.getItemSub = this.profileService.getClient(this.clientId).subscribe(successResp => {\r\n  //     this.license = successResp.content.license;\r\n\r\n  //     this.licenseFormGroup.patchValue({\r\n  //       tagCount: this.license.tagCount,\r\n  //       userCount: this.license.userCount,\r\n  //       communityCount: this.license.communityCount,\r\n  //       feedbackCount: this.license.feedbackCount,\r\n  //       eventCount: this.license.eventCount,\r\n  //       promoCount: this.license.promoCount\r\n  //     });\r\n\r\n  //   },\r\n  //     error => {\r\n  //       this.errDialog.showError({\r\n  //         title: \"Error\",\r\n  //         status: error.status,\r\n  //         type: \"http_error\"\r\n  //       });\r\n  //     }\r\n  //   );\r\n  // }\r\n\r\n\r\n  // setOldValue() {\r\n  //   this.oldestValue = this.licenseFormGroup.controls['communityCount'].value;\r\n  // }\r\n\r\n  // validateLicense() {\r\n  //   let form = this.licenseFormGroup;\r\n  //   if (form.controls['communityCount'].value !== '') {\r\n  //     let value = form.controls['communityCount'].value;\r\n  //     let diff;\r\n\r\n  //     if (value > this.oldestValue) {\r\n  //       diff = value - this.oldestValue;\r\n  //       form.controls['feedbackCount'].setValue(+(form.get('feedbackCount').value) + diff);\r\n  //       form.controls['eventCount'].setValue(+(form.get('eventCount').value) + diff);\r\n  //       form.controls['promoCount'].setValue(+(form.get('promoCount').value) + diff);\r\n  //     }\r\n  //   } else {\r\n  //     form.controls['communityCount'].setValue(1)\r\n  //     form.controls['feedbackCount'].setValue(1)\r\n  //     form.controls['eventCount'].setValue(1)\r\n  //     form.controls['promoCount'].setValue(1)\r\n  //   }\r\n  // }\r\n\r\n  // setDefaultValue(control) {\r\n  //   let form = this.licenseFormGroup;\r\n  //   if (form.controls[control].value === '') {\r\n  //     form.controls[control].setValue(1);\r\n  //   }\r\n  // }\r\n\r\n  // updateLicense() {\r\n  //   let form = this.licenseFormGroup;\r\n  //   let clientData: ClientData = new ClientData(this.clientId);\r\n  //   const req: LicenseUpdateReq = new LicenseUpdateReq(form.get('tagCount').value, form.get('userCount').value, form.get('communityCount').value, form.get('feedbackCount').value, form.get('eventCount').value, form.get('promoCount').value, clientData);\r\n\r\n  //   this.profileService.updateClientLicense(this.license.id, req).subscribe(\r\n  //     response => {\r\n  //       this.snack.open(\"License Data Updated !\", \"OK\", { duration: 4000 });\r\n  //       // this.getClients();\r\n  //       // this.clients = response;\r\n  //       // this.loader.close();\r\n  //       // this.snack.open(\"License Data Updated !\", \"OK\", { duration: 4000 });\r\n  //     },\r\n  //     error => {\r\n  //       this.errDialog.showError({\r\n  //         title: \"Error\",\r\n  //         status: error.status,\r\n  //         type: \"http_error\"\r\n  //       });\r\n  //     }\r\n  //   );\r\n  // }\r\n\r\n\r\n\r\n\r\n  //  ----------------------- Categoty Setting --------------------------------------------------------\r\n\r\n  onFocusCategoryDD() {\r\n    this.filteredCategories = this.categoryCtrl.valueChanges\r\n      .pipe(\r\n        startWith(null),\r\n        map(category => category ? this._filterCategories(category) : this.allCategories.slice())\r\n      );\r\n  }\r\n\r\n  updateCategory() {\r\n    console.log('---------------------- Category ', this.selectedCategories);\r\n\r\n    let categories: CategoryData[] = [];\r\n    this.selectedCategories.forEach(element => {\r\n      categories.push(new CategoryData(element.id));\r\n    });\r\n\r\n    const req: ClientCategoryUpdateReq = new ClientCategoryUpdateReq(categories);\r\n\r\n    this.loader.open();\r\n    this.profileService.updateClientCategory(this.clientId, req).subscribe(\r\n      response => {\r\n        this.loader.close();\r\n        this.snack.open(\"Client Category Updated!\", \"OK\", { duration: 4000 });\r\n      },\r\n      error => {\r\n        this.loader.close();\r\n        this.errDialog.showError({\r\n          title: \"Error\",\r\n          status: error.status,\r\n          type: \"http_error\"\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  add(event: MatChipInputEvent): void {\r\n\r\n    if (!this.matAutocomplete.isOpen) {\r\n      const input = event.input;\r\n      const value = event.value;\r\n\r\n      // if we need to add custom texts as Chips,\r\n      // Add our category\r\n      // if ((value || '').trim()) {\r\n      //   this.categories.push(value.trim());\r\n      // }\r\n\r\n      // Reset the input value\r\n      if (input) {\r\n        input.value = '';\r\n      }\r\n\r\n      this.categoryCtrl.setValue(null);\r\n    }\r\n  }\r\n\r\n  selected(event: MatAutocompleteSelectedEvent): void {\r\n    this.addSelectedCategory(event.option.value);\r\n    this.categoryInput.nativeElement.value = '';\r\n    this.categoryCtrl.setValue(null);\r\n  }\r\n\r\n  addSelectedCategory(id) {\r\n    this.allCategories.forEach((item, index) => {\r\n      if (item.id === id) {\r\n        this.selectedCategories.push(item);\r\n        this.allCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(category: autoCompletableCategory): void {\r\n    this.selectedCategories.forEach((item, index) => {\r\n      if (item.id === category.id) {\r\n        this.allCategories.push(category);\r\n        this.selectedCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  private _filterCategories(value: string): autoCompletableCategory[] {\r\n    const filterValue = value.toLowerCase();\r\n    return this.allCategories.filter(category => category.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n  //  -------------------------------------------------------------------------------------------------\r\n\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL3Byb2ZpbGUvcHJvZmlsZS1vdmVydmlldy9wcm9maWxlLW92ZXJ2aWV3LmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n  <div fxLayout=\\\"column\\\" fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"50\\\">\\r\\n    <!-- Time line -->\\r\\n    <mat-card class=\\\"default\\\">\\r\\n      <mat-card-title>Timeline</mat-card-title>\\r\\n      <mat-card-content>\\r\\n        <div class=\\\"timeline\\\">\\r\\n          <div class=\\\"timeline-item\\\">\\r\\n            <div class=\\\"timeline-badge\\\">\\r\\n              <img src=\\\"assets/images/face-6.jpg\\\" alt=\\\"\\\">\\r\\n            </div>\\r\\n            <div class=\\\"timeline-body\\\">\\r\\n              <div class=\\\"timeline-body-top\\\" fxLayout=\\\"row\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"timeline-body-title mr-1\\\"><b>Jhone Doe</b> updated his status</a>\\r\\n                <span class=\\\"text-muted\\\">1 hour ago</span>\\r\\n                <span fxFlex></span>\\r\\n              </div>\\r\\n              <div class=\\\"timeline-body-content\\\">\\r\\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem necessitatibus natus fugit porro at sunt mollitia repellendus deserunt, libero similique.</p>\\r\\n              </div>\\r\\n              <div class=\\\"timeline-body-actions\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"mr-1 text-muted\\\">Like</a>\\r\\n                <a href=\\\"#\\\" class=\\\"text-muted\\\">Comment</a>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"timeline-item\\\">\\r\\n            <div class=\\\"timeline-badge\\\">\\r\\n              <img src=\\\"assets/images/face-2.jpg\\\" alt=\\\"\\\">\\r\\n            </div>\\r\\n            <div class=\\\"timeline-body\\\">\\r\\n              <div class=\\\"timeline-body-top\\\" fxLayout=\\\"row\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"timeline-body-title mr-1\\\"><b>Henry krick</b> added a new photo</a>\\r\\n                <span class=\\\"text-muted\\\">15 hours ago</span>\\r\\n                <span fxFlex></span>\\r\\n              </div>\\r\\n              <div class=\\\"timeline-body-content\\\">\\r\\n                <img src=\\\"assets/images/photo-600_220.jpg\\\" alt=\\\"\\\">\\r\\n              </div>\\r\\n              <div class=\\\"timeline-body-actions\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"mr-1 text-muted\\\">Like</a>\\r\\n                <a href=\\\"#\\\" class=\\\"text-muted\\\">Comment</a>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"timeline-item\\\">\\r\\n            <div class=\\\"timeline-badge\\\">\\r\\n              <mat-icon class=\\\"icon-badge mat-bg-primary\\\">settings</mat-icon>\\r\\n            </div>\\r\\n            <div class=\\\"timeline-body\\\">\\r\\n              <div class=\\\"timeline-body-top\\\" fxLayout=\\\"row\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"timeline-body-title mr-1\\\"><b>New follower</b></a>\\r\\n                <span class=\\\"text-muted\\\">2 days ago</span>\\r\\n                <span fxFlex></span>\\r\\n              </div>\\r\\n              <div class=\\\"timeline-body-content\\\">\\r\\n                <p><a class=\\\"mat-color-primary\\\" href=\\\"\\\">Kevin Huyn</a> and 34 others followed you.</p>\\r\\n              </div>\\r\\n              <div class=\\\"timeline-body-actions\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"mr-1 text-muted\\\">Like</a>\\r\\n                <a href=\\\"#\\\" class=\\\"text-muted\\\">Comment</a>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"timeline-item\\\">\\r\\n            <div class=\\\"timeline-badge\\\">\\r\\n              <mat-icon class=\\\"icon-badge mat-bg-warn\\\">settings</mat-icon>\\r\\n            </div>\\r\\n            <div class=\\\"timeline-body\\\">\\r\\n              <div class=\\\"timeline-body-top\\\" fxLayout=\\\"row\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"timeline-body-title mr-1\\\"><b>Membership upgraded</b></a>\\r\\n                <span class=\\\"text-muted\\\">5 days ago</span>\\r\\n                <span fxFlex></span>\\r\\n              </div>\\r\\n              <div class=\\\"timeline-body-content\\\">\\r\\n                <p>Membership has been upgraded to pro</p>\\r\\n              </div>\\r\\n              <div class=\\\"timeline-body-actions\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"mr-1 text-muted\\\">Like</a>\\r\\n                <a href=\\\"#\\\" class=\\\"text-muted\\\">Comment</a>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n    <!-- End Time line -->\\r\\n\\r\\n    <mat-card class=\\\"default\\\">\\r\\n      <mat-card-title>Uploaded Photos</mat-card-title>\\r\\n      <mat-card-content class=\\\"p-0\\\">\\r\\n          <mat-grid-list cols=\\\"3\\\" rowHeight=\\\"1:1\\\" class=\\\"app-gallery\\\">\\r\\n              <!-- Gallery item -->\\r\\n              <mat-grid-tile *ngFor=\\\"let photo of photos\\\">\\r\\n                <img [src]=\\\"photo.url\\\" alt=\\\"\\\">\\r\\n                <!-- item detail, show on hover -->\\r\\n                <div class=\\\"gallery-control-wrap\\\">\\r\\n                  <div class=\\\"gallery-control\\\">\\r\\n                    <h4 class=\\\"photo-detail fz-1\\\" [fxHide.lt-sm]=\\\"true\\\">{{photo.name}}</h4>\\r\\n                    <span fxFlex></span>\\r\\n                    <button mat-icon-button [matMenuTriggerFor]=\\\"photoMenu\\\" class=\\\"\\\">\\r\\n                      <mat-icon>more_vert</mat-icon>\\r\\n                    </button>\\r\\n                    <mat-menu #photoMenu=\\\"matMenu\\\">\\r\\n                      <button mat-menu-item><mat-icon>send</mat-icon>Send as attachment</button>\\r\\n                      <button mat-menu-item><mat-icon>favorite</mat-icon>Favorite</button>\\r\\n                      <button mat-menu-item><mat-icon>delete</mat-icon>Delete</button>\\r\\n                    </mat-menu>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </mat-grid-tile>\\r\\n            </mat-grid-list>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n  </div>\\r\\n\\r\\n  <div fxLayout=\\\"column\\\" fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"50\\\">\\r\\n    <mat-card class=\\\"default\\\">\\r\\n      <mat-card-title>Support Tickets</mat-card-title>\\r\\n      <mat-card-content class=\\\"p-0\\\">\\r\\n        <mat-list class=\\\"compact-list mb-1\\\">\\r\\n          <mat-list-item class=\\\"\\\" *ngFor=\\\"let t of tickets\\\">\\r\\n            <img mat-list-avatar class=\\\"mr-1\\\" [src]=\\\"t.img\\\" alt=\\\"\\\">\\r\\n            <div fxLayout=\\\"row\\\" fxFlex=\\\"100\\\">\\r\\n              <h6 class=\\\"m-0 mr-1\\\">{{t.name}}</h6>\\r\\n              <span fxFlex></span>\\r\\n              <div fxFlex=\\\"40\\\">{{t.text | excerpt:20 }}</div>\\r\\n              <span fxFlex></span>\\r\\n              <small class=\\\"text-muted mr-1 ml-1\\\">{{ t.date | relativeTime}}</small>\\r\\n            </div>\\r\\n            <mat-chip mat-sm-chip [color]=\\\"'warn'\\\" [selected]=\\\"t.isOpen\\\">{{t.isOpen ? 'active' : 'closed'}}</mat-chip>\\r\\n          </mat-list-item>\\r\\n        </mat-list>\\r\\n        <div class=\\\"text-right\\\">\\r\\n          <button mat-button class=\\\"full-width\\\">View all</button>\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n\\r\\n    <mat-card class=\\\"default\\\">\\r\\n      <mat-card-title>Assigned Tasks</mat-card-title>\\r\\n      <mat-card-content class=\\\"p-0\\\">\\r\\n        <div class=\\\"list-tasktype\\\">\\r\\n          <div class=\\\"tasktype-item\\\" *ngFor=\\\"let t of tasks\\\">\\r\\n            <mat-checkbox class=\\\"mr-1\\\"></mat-checkbox>\\r\\n            <span>{{t.text}}</span>\\r\\n            <span fxFlex></span>\\r\\n            <mat-chip mat-sm-chip color=\\\"primary\\\" [selected]=\\\"t.status ? true : false\\\">{{t.status ? 'completed' : 'pending'}}</mat-chip>\\r\\n            <button mat-icon-button mat-sm-button [matMenuTriggerFor]=\\\"taskMenu\\\" class=\\\"tasktype-action ml-1\\\">\\r\\n                <mat-icon class=\\\"text-muted\\\">more_vert</mat-icon>\\r\\n            </button>\\r\\n            <mat-menu #taskMenu=\\\"matMenu\\\">\\r\\n              <button mat-menu-item>\\r\\n                <mat-icon>done</mat-icon>\\r\\n                <span>Completed</span>\\r\\n              </button>\\r\\n              <button mat-menu-item>\\r\\n                <mat-icon>edit</mat-icon>\\r\\n                <span>Edit</span>\\r\\n              </button>\\r\\n              <button mat-menu-item>\\r\\n                <mat-icon>delete</mat-icon>\\r\\n                <span>Delete</span>\\r\\n              </button>\\r\\n            </mat-menu>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"text-center\\\">\\r\\n          <button mat-button class=\\\"full-width\\\">View all</button>\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n\\r\\n    <mat-card class=\\\"default\\\">\\r\\n      <mat-card-title>Activity</mat-card-title>\\r\\n      <mat-card-content class=\\\"p-0\\\" fxLayout=\\\"column\\\">\\r\\n        <div class=\\\"activity-data\\\">\\r\\n          <ngx-datatable class=\\\"material bg-white\\\"\\r\\n          [columnMode]=\\\"'force'\\\"\\r\\n          [headerHeight]=\\\"50\\\"\\r\\n          [footerHeight]=\\\"50\\\"\\r\\n          [rowHeight]=\\\"50\\\"\\r\\n          [limit]=\\\"4\\\"\\r\\n          [rows]=\\\"activityData\\\">\\r\\n            <ngx-datatable-column name=\\\"Month\\\" [flexGrow]=\\\"1\\\">\\r\\n              <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n                {{ row?.month }}\\r\\n              </ng-template>\\r\\n            </ngx-datatable-column>\\r\\n            <ngx-datatable-column name=\\\"Spent\\\" [flexGrow]=\\\"1\\\">\\r\\n              <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n                {{ row?.spent }}\\r\\n              </ng-template>\\r\\n            </ngx-datatable-column>\\r\\n            <ngx-datatable-column name=\\\"Opened\\\" [flexGrow]=\\\"1\\\">\\r\\n              <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n                {{ row?.opened }}\\r\\n              </ng-template>\\r\\n            </ngx-datatable-column>\\r\\n            <ngx-datatable-column name=\\\"Closed\\\" [flexGrow]=\\\"1\\\">\\r\\n              <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n                {{ row?.closed }}\\r\\n              </ng-template>\\r\\n            </ngx-datatable-column>\\r\\n          </ngx-datatable>\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-profile-overview',\r\n  templateUrl: './profile-overview.component.html',\r\n  styleUrls: ['./profile-overview.component.css']\r\n})\r\nexport class ProfileOverviewComponent implements OnInit {\r\n  activityData = [{\r\n    month: 'January',\r\n    spent: 240,\r\n    opened: 8,\r\n    closed: 30\r\n  }, {\r\n    month: 'February',\r\n    spent: 140,\r\n    opened: 6,\r\n    closed: 20\r\n  }, {\r\n    month: 'March',\r\n    spent: 220,\r\n    opened: 10,\r\n    closed: 20\r\n  }, {\r\n    month: 'April',\r\n    spent: 440,\r\n    opened: 40,\r\n    closed: 60\r\n  }, {\r\n    month: 'May',\r\n    spent: 340,\r\n    opened: 40,\r\n    closed: 60\r\n  }];\r\n\r\n  tasks = [{\r\n    text: 'Lorem, ipsum dolor sit amet',\r\n    status: 0\r\n  }, {\r\n    text: 'Lorem, ipsum dolor sit amet',\r\n    status: 0\r\n  }, {\r\n    text: 'Lorem, ipsum dolor sit amet',\r\n    status: 1\r\n  }, {\r\n    text: 'Lorem, ipsum dolor sit amet',\r\n    status: 1\r\n  }, {\r\n    text: 'Lorem, ipsum dolor sit amet',\r\n    status: 1\r\n  }]\r\n\r\n  tickets = [{\r\n    img: 'assets/images/face-1.jpg',\r\n    name: 'Mike Dake',\r\n    text: 'Excerpt pipe is used.',\r\n    date: new Date('07/12/2017'),\r\n    isOpen: true\r\n  }, {\r\n    img: 'assets/images/face-5.jpg',\r\n    name: 'Jhone Doe',\r\n    text: 'My dashboard is not working.',\r\n    date: new Date('07/7/2017'),\r\n    isOpen: false\r\n  }, {\r\n    img: 'assets/images/face-3.jpg',\r\n    name: 'Jhonson lee',\r\n    text: 'Fix stock issue',\r\n    date: new Date('04/10/2017'),\r\n    isOpen: false\r\n  }, {\r\n    img: 'assets/images/face-4.jpg',\r\n    name: 'Mikie Jyni',\r\n    text: 'Renew my subscription.',\r\n    date: new Date('07/7/2017'),\r\n    isOpen: false\r\n  }, {\r\n    img: 'assets/images/face-5.jpg',\r\n    name: 'Jhone Dake',\r\n    text: 'Payment confirmation.',\r\n    date: new Date('04/10/2017'),\r\n    isOpen: false\r\n  }]\r\n\r\n  photos = [{\r\n    name: 'Photo 1',\r\n    url: 'assets/images/sq-15.jpg'\r\n  }, {\r\n    name: 'Photo 2',\r\n    url: 'assets/images/sq-8.jpg'\r\n  }, {\r\n    name: 'Photo 3',\r\n    url: 'assets/images/sq-9.jpg'\r\n  }, {\r\n    name: 'Photo 4',\r\n    url: 'assets/images/sq-10.jpg'\r\n  }, {\r\n    name: 'Photo 5',\r\n    url: 'assets/images/sq-11.jpg'\r\n  }, {\r\n    name: 'Photo 6',\r\n    url: 'assets/images/sq-12.jpg'\r\n  }]\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<mat-card class=\\\"p-0\\\">\\r\\n  <mat-tab-group>\\r\\n\\r\\n    <mat-tab label=\\\"Profile Settings\\\">\\r\\n      <mat-card-content class=\\\"mt-3\\\">\\r\\n        <form [formGroup]=\\\"profileSettingsForm\\\" (ngSubmit)=\\\"updateProfile()\\\" class=\\\"userProfileForm\\\">\\r\\n          <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n            <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"accountName\\\" [formControl]=\\\"profileSettingsForm.controls['accountName']\\\"\\r\\n                  positiveNumberAndLetterOnly placeholder=\\\"Name\\\">\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n            <div fxFlex=\\\"100\\\" class=\\\"pr-1 mb-3\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"email\\\" [formControl]=\\\"profileSettingsForm.controls['email']\\\" placeholder=\\\"Email\\\">\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n          </div>\\r\\n          <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"profileSettingsForm.invalid\\\">Save</button>\\r\\n        </form>\\r\\n      </mat-card-content>\\r\\n    </mat-tab>\\r\\n\\r\\n    <mat-tab label=\\\"Security Settings\\\">\\r\\n      <mat-card-content class=\\\"mt-3\\\">\\r\\n        <form [formGroup]=\\\"passwordSettingsForm\\\" (ngSubmit)=\\\"changePassword()\\\" class=\\\"userProfileForm\\\">\\r\\n          <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n            <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"password\\\" type=\\\"password\\\"\\r\\n                  [formControl]=\\\"passwordSettingsForm.controls['currentPassword']\\\" placeholder=\\\"Current Password\\\">\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n            <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"password\\\" type=\\\"password\\\"\\r\\n                  [formControl]=\\\"passwordSettingsForm.controls['password']\\\" placeholder=\\\"Password\\\"\\r\\n                  (keyup)=checkConfirmPassword()>\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n            <div fxFlex=\\\"100\\\" class=\\\"pr-1 mb-3\\\">\\r\\n              <mat-form-field class=\\\"full-width\\\">\\r\\n                <input matInput name=\\\"confirmPassword\\\" type=\\\"password\\\"\\r\\n                  [formControl]=\\\"passwordSettingsForm.controls['confirmPassword']\\\" placeholder=\\\"Confirm Password\\\"\\r\\n                  (keyup)=checkConfirmPassword()>\\r\\n              </mat-form-field>\\r\\n              <span class=\\\"input-bottom-msg\\\"><span *ngIf=\\\"passwordStatus !== null\\\"\\r\\n                  class=\\\"{{statusArray[passwordStatus].style}}\\\">{{statusArray[passwordStatus].value}}</span></span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <button mat-raised-button color=\\\"primary\\\"\\r\\n            [disabled]=\\\"passwordSettingsForm.invalid || passwordStatus !== null\\\">Save</button>\\r\\n\\r\\n        </form>\\r\\n      </mat-card-content>\\r\\n    </mat-tab>\\r\\n\\r\\n\\r\\n    <mat-tab label=\\\"Profile Picture\\\">\\r\\n      <mat-card-content>\\r\\n        <form class=\\\"userProfileForm\\\" style=\\\"min-height:450px\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-3 mt-4\\\">\\r\\n              <img [src]=\\\"url\\\" id=\\\"userProfilePic\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-9 mt-2\\\">\\r\\n              <mat-card>\\r\\n                <mat-card-header>\\r\\n                  <!-- --------- hidden file input --------- -->\\r\\n                  <input (change)=\\\"onSelectFile($event)\\\" #productImgs type=\\\"file\\\" style=\\\"display: none\\\"\\r\\n                    base-sixty-four-input>\\r\\n\\r\\n                  <!-- --------- file input click button --------- -->\\r\\n                  <div layout-margin layout-padding class=\\\"mb-2\\\">\\r\\n                    <button mat-raised-button class=\\\"mr-1\\\" (click)=\\\"productImgs.click()\\\" type=\\\"button\\\">\\r\\n                      Browse Images</button>\\r\\n                    <!-- <button mat-raised-button class=\\\"mr-1\\\" (click)=\\\"removeSelectedImg()\\\" type=\\\"button\\\" *ngIf=\\\"url\\\">\\r\\n                        Clear Images</button> -->\\r\\n                    <button mat-raised-button class=\\\"mr-1\\\" (click)=\\\"updateProfilePic()\\\" type=\\\"button\\\" *ngIf=\\\"url && imageName\\\">\\r\\n                      Save</button>\\r\\n                  </div>\\r\\n                </mat-card-header>\\r\\n                <mat-chip *ngIf=\\\"!imageChangedEvent\\\" color=\\\"primary\\\" disabled>Click \\\"Browse Image\\\"\\r\\n                  and choose\\r\\n                  image</mat-chip>\\r\\n                <mat-chip *ngIf=\\\"imageChangedEvent\\\" color=\\\"accent\\\" disabled>Crop image and click\\r\\n                  \\\"Save\\\" button</mat-chip>\\r\\n\\r\\n                <image-cropper [imageChangedEvent]=\\\"imageChangedEvent\\\" [maintainAspectRatio]=\\\"true\\\" [aspectRatio]=\\\"1 / 1\\\"\\r\\n                  format=\\\"png/jpeg\\\" (imageCropped)=\\\"imageCropped($event)\\\" (imageLoaded)=\\\"imageLoaded()\\\"\\r\\n                  (loadImageFailed)=\\\"loadImageFailed()\\\" style=\\\"max-height:300px;\\\"></image-cropper>\\r\\n                <!-- --------- start images preview container --------- -->\\r\\n\\r\\n              </mat-card>\\r\\n              <!-- --------- end images preview container --------- -->\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n        </form>\\r\\n      </mat-card-content>\\r\\n    </mat-tab>\\r\\n\\r\\n  </mat-tab-group>\\r\\n</mat-card>\"","import { Component, OnInit } from '@angular/core';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\r\nimport { ProfileService } from '../profile.service';\r\nimport { profileUpdateReq, passwordUpdateReq, userImageReq } from 'app/model/ClientModel.model';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { AppErrorService } from 'app/shared/services/app-error/app-error.service';\r\nimport { MatSnackBar } from '@angular/material';\r\nimport { egretAnimations } from \"app/shared/animations/egret-animations\";\r\nimport { GlobalVariable } from 'app/shared/helpers/global-variable';\r\nimport { Router } from '@angular/router';\r\nimport { InteractionService } from 'app/shared/services/app-profile/interaction.service';\r\nimport { AuthenticationService } from 'app/views/sessions/authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-profile-settings',\r\n  templateUrl: './profile-settings.component.html',\r\n  animations: egretAnimations,\r\n})\r\nexport class ProfileSettingsComponent implements OnInit {\r\n  public uploader: FileUploader = new FileUploader({ url: 'upload_url' });\r\n  public hasBaseDropZoneOver: boolean = false;\r\n  public clientId;\r\n  public userId;\r\n  public url;\r\n  public imageName;\r\n  public currentUser;\r\n  public passwordStatus = null;\r\n  public globalVariable: GlobalVariable = new GlobalVariable();\r\n  public statusArray = this.globalVariable.common.message.confirmPasswordStatus;\r\n  public regex = this.globalVariable.validators.regex;\r\n\r\n  public profileSettingsForm: FormGroup;\r\n  public passwordSettingsForm: FormGroup;\r\n\r\n  public imageChangedEvent: any = '';\r\n  public croppedImage: any = '';\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private profileService: ProfileService,\r\n    private loader: AppLoaderService,\r\n    private snack: MatSnackBar,\r\n    private errDialog: AppErrorService,\r\n    public snackBar: MatSnackBar,\r\n    public r: Router,\r\n    private _interactionService: InteractionService,\r\n    private authService: AuthenticationService\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.currentUser = this.authService.getLoggedUserDetail();\r\n    this.userId = this.currentUser.userData.id;\r\n    this.buildItemForm(this.currentUser.userData);\r\n\r\n    // ---------------------------------- UserProfile -------------------------------\r\n\r\n    this._interactionService.changeProfilePicture$.subscribe(\r\n      url => {\r\n        this.url = url;\r\n      }\r\n    );\r\n\r\n    // ------------------------------------------------------------------------------\r\n\r\n  }\r\n\r\n  buildItemForm(data) {\r\n\r\n    this.profileSettingsForm = this.fb.group({\r\n      accountName: new FormControl(data.accountName || '', Validators.required),\r\n      email: new FormControl(data.email || '', [Validators.required, Validators.email]),\r\n    })\r\n\r\n    this.passwordSettingsForm = this.fb.group({\r\n      currentPassword: new FormControl('', Validators.required),\r\n      password: new FormControl('', [Validators.required, Validators.pattern(this.regex._Password)]),\r\n      confirmPassword: new FormControl('', [Validators.required, Validators.pattern(this.regex._Password)])\r\n    })\r\n\r\n  }\r\n\r\n  // File uploader validation and upload\r\n  onSelectFile(event: any) {\r\n    console.log(event);\r\n\r\n    this.imageChangedEvent = event;\r\n\r\n    // if (event.target.files && event.target.files[0]) {\r\n\r\n    //   let file = event.dataTransfer ? event.dataTransfer.files[0] : event.target.files[0];\r\n    //   let pattern = /image-*/;\r\n    //   let reader = new FileReader();\r\n    //   if (!file.type.match(pattern)) {\r\n    //     this.snackBar.open(\r\n    //       \"Invalid Format!\",\r\n    //       \"close\",\r\n    //       { duration: 2000 }\r\n    //     );\r\n    //     return;\r\n    //   }\r\n    //   reader.onload = (event: any) => {\r\n    //     this.url = event.target.result;\r\n    //     this.imageName = file.name;\r\n    //   };\r\n\r\n    //   reader.readAsDataURL(file);\r\n\r\n    // } else {\r\n    //   this.snackBar.open(\r\n    //     \"Can't upload\",\r\n    //     \"close\",\r\n    //     { duration: 2000 }\r\n    //   );\r\n    // }\r\n\r\n  }\r\n\r\n  imageCropped(image: any) {\r\n    console.log(image);\r\n    console.log(this.imageChangedEvent);\r\n\r\n    this.url = \"\";\r\n    this.url = image.base64;\r\n\r\n    if (this.imageChangedEvent.target.files && this.imageChangedEvent.target.files[0]) {\r\n\r\n      let file = this.imageChangedEvent.dataTransfer ? this.imageChangedEvent.dataTransfer.files[0] : this.imageChangedEvent.target.files[0];\r\n      let pattern = /image-*/;\r\n      let reader = new FileReader();\r\n      if (!file.type.match(pattern)) {\r\n        this.snackBar.open(\r\n          \"Invalid Format!\",\r\n          \"close\",\r\n          { duration: 2000 }\r\n        );\r\n        return;\r\n      }\r\n      reader.onload = (event: any) => {\r\n        // this.url = event.target.result;\r\n        this.url;\r\n        this.imageName = file.name;\r\n\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n\r\n    } else {\r\n      this.snackBar.open(\r\n        \"Can't upload\",\r\n        \"close\",\r\n        { duration: 2000 }\r\n      );\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n  imageLoaded() {\r\n    // show cropper\r\n  }\r\n  loadImageFailed() {\r\n    // show message\r\n  }\r\n\r\n  removeSelectedImg() {\r\n    this.url = null;\r\n  }\r\n\r\n  updateProfile() {\r\n    const itemForm = this.profileSettingsForm.value;\r\n    const req: profileUpdateReq = new profileUpdateReq(this.userId, itemForm.accountName, itemForm.email);\r\n\r\n    this.profileService.updateUser(req).subscribe(\r\n      response => {\r\n        this.loader.close();\r\n        this.snack.open(\"Profile Updated!\", \"OK\", { duration: 4000 });\r\n\r\n        this.currentUser.userData.accountName = this.currentUser.accountName = response.content.accountName;\r\n        this.currentUser.userData.email = response.content.email;\r\n        this.authService.setLoggedUserDetail(this.currentUser);\r\n        // localStorage.setItem('currentUser', JSON.stringify(this.currentUser));\r\n        this.changeProfileDetails(response.content.accountName);\r\n      },\r\n      error => {\r\n        this.loader.close();\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n\r\n  changeProfileDetails(userName) {\r\n    this._interactionService.changeProfileDetails(userName);\r\n  }\r\n\r\n  checkConfirmPassword() {\r\n\r\n    const itemForm = this.passwordSettingsForm.value;\r\n\r\n    console.log('-------------------- ', itemForm.password === null ? \"Null\" : itemForm.password === '' ? \"Empty\" : itemForm.password);\r\n    console.log('-------------------- ', itemForm.confirmPassword === null ? \"Null\" : itemForm.confirmPassword === '' ? \"Empty\" : itemForm.confirmPassword);\r\n\r\n\r\n    if (itemForm.password !== '') {\r\n      // --\r\n      let result = itemForm.password.match(this.regex._Password);\r\n      if (result && result.length > 0) {\r\n        this.passwordStatus = null;\r\n      } else {\r\n        this.passwordStatus = 1; // Regex not match with password\r\n      }\r\n      // --\r\n    }\r\n\r\n    if (itemForm.confirmPassword !== '') {\r\n      if (this.passwordStatus === null) {\r\n        // --\r\n        let result = itemForm.password.match(this.regex._Password);\r\n        if (result && result.length > 0) {\r\n          this.passwordStatus = null;\r\n        } else {\r\n          this.passwordStatus = 1; // Regex not match with confirmPassword\r\n        }\r\n        // --\r\n      }\r\n    }\r\n\r\n    if (itemForm.password === '' && itemForm.confirmPassword === '') {\r\n      this.passwordStatus = null;\r\n    }\r\n\r\n    if (itemForm.password !== '' && itemForm.confirmPassword !== '' && this.passwordStatus === null && itemForm.password !== itemForm.confirmPassword) {\r\n      this.passwordStatus = 2;\r\n    }\r\n\r\n  }\r\n\r\n  changePassword() {\r\n\r\n    const itemForm = this.passwordSettingsForm.value\r\n\r\n    const req: passwordUpdateReq = new passwordUpdateReq(this.userId, itemForm.currentPassword, itemForm.confirmPassword);\r\n    this.profileService.updateUserPassword(req).subscribe(\r\n      response => {\r\n        this.passwordSettingsForm.reset();\r\n        this.checkConfirmPassword();\r\n        this.snack.open(\"Password Updated!\", \"OK\", { duration: 4000 });\r\n\r\n      },\r\n      error => {\r\n        console.log(\"------error\", error.error);\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n\r\n  updateProfilePic() {\r\n    this.loader.open();\r\n    const req: userImageReq = new userImageReq(this.userId, this.url, this.imageName);\r\n    this.profileService.updateProfilePic(req).subscribe(\r\n      response => {\r\n        this.loader.close();\r\n        this.imageChangedEvent = \"\";\r\n        this.snack.open(\"Profile Picture Updated!\", \"OK\", { duration: 4000 });\r\n        this._interactionService.changeProfilePicture(this.userId);\r\n        this.imageName = null;\r\n      },\r\n      error => {\r\n        this.loader.close();\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n}\r\n","module.exports = \"<div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n  <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"300px\\\" fxFlex.gt-sm=\\\"50\\\">\\r\\n    <mat-card class=\\\"profile-sidebar mb-1 pb-0\\\">\\r\\n      <div class=\\\"propic text-center\\\">\\r\\n        <img src=\\\"{{this.profileImg}}\\\" alt=\\\"\\\" />\\r\\n      </div>\\r\\n      <div class=\\\"profile-title text-center mb-1\\\">\\r\\n        <div class=\\\"main-title\\\">{{this.userDisplayName}}</div>\\r\\n        <div class=\\\"subtitle mb-05\\\">{{ currentUser.company }}</div>\\r\\n        <div class=\\\"text-muted\\\">\\r\\n          Welcome on Truverus! Hope you're doing good today\\r\\n        </div>\\r\\n      </div>\\r\\n      <!-- <div class=\\\"profile-actions text-center mb-1\\\">\\r\\n        <button color=\\\"primary\\\" mat-raised-button=\\\"\\\" class=\\\"mat-raised-button mat-primary mr-1\\\">\\r\\n          <span class=\\\"mat-button-wrapper\\\">Message</span>\\r\\n          <div class=\\\"mat-button-ripple mat-ripple\\\" matripple=\\\"\\\"></div>\\r\\n          <div class=\\\"mat-button-focus-overlay\\\"></div>\\r\\n        </button><button color=\\\"accent\\\" mat-raised-button=\\\"\\\" class=\\\"mat-raised-button mat-accent\\\">\\r\\n          <span class=\\\"mat-button-wrapper\\\">Follow</span>\\r\\n          <div class=\\\"mat-button-ripple mat-ripple\\\" matripple=\\\"\\\"></div>\\r\\n          <div class=\\\"mat-button-focus-overlay\\\"></div>\\r\\n        </button>\\r\\n      </div> -->\\r\\n      <div class=\\\"profile-nav\\\">\\r\\n        <mat-nav-list>\\r\\n          <!--\\r\\n            <mat-list-item routerLink=\\\"/profile/overview\\\" routerLinkActive=\\\"list-item-active\\\">\\r\\n              <mat-icon>home</mat-icon>\\r\\n              Overview\\r\\n            </mat-list-item>\\r\\n            <mat-divider></mat-divider>\\r\\n          -->\\r\\n          <mat-list-item routerLink=\\\"/profile/profile-settings\\\" routerLinkActive=\\\"list-item-active\\\">\\r\\n            <mat-icon>portrait</mat-icon>\\r\\n            Profile Settings\\r\\n          </mat-list-item>\\r\\n          <mat-divider></mat-divider>\\r\\n          <mat-list-item routerLink=\\\"/profile/account-settings\\\" routerLinkActive=\\\"list-item-active\\\" [roleAuthorization]=\\\"'isPredefined'\\\">\\r\\n            <mat-icon>work</mat-icon>\\r\\n            Account Settings\\r\\n          </mat-list-item>\\r\\n          <mat-divider></mat-divider>\\r\\n\\r\\n          <mat-list-item routerLink=\\\"/profile/general-settings\\\" routerLinkActive=\\\"list-item-active\\\" [roleAuthorization]=\\\"'isPredefined'\\\">\\r\\n            <mat-icon>settings</mat-icon>\\r\\n            General Settings\\r\\n          </mat-list-item>\\r\\n          <!-- <mat-list-item routerLink=\\\"/profile/blank\\\" routerLinkActive=\\\"list-item-active\\\">\\r\\n            <mat-icon>content_paste</mat-icon>\\r\\n            Blank\\r\\n          </mat-list-item> -->\\r\\n\\r\\n        </mat-nav-list>\\r\\n      </div>\\r\\n    </mat-card>\\r\\n  </div>\\r\\n\\r\\n  <!-- Profile Views -->\\r\\n  <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"50\\\" fxFlex.gt-md=\\\"calc(100% - 300px)\\\">\\r\\n    <router-outlet></router-outlet>\\r\\n  </div>\\r\\n</div>\"","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { LocalStorageHandler } from \"../../shared/helpers/local-storage\";\r\nimport { AuthenticationService } from \"../sessions/authentication.service\";\r\nimport { InteractionService } from \"app/shared/services/app-profile/interaction.service\";\r\n\r\n@Component({\r\n  selector: \"app-profile\",\r\n  templateUrl: \"./profile.component.html\"\r\n})\r\nexport class ProfileComponent extends LocalStorageHandler implements OnInit {\r\n\r\n  public activeView: string = \"overview\";\r\n  public currentUser;\r\n  public userDisplayName\r\n\r\n  public userId;\r\n  public profileImg;\r\n\r\n  constructor(\r\n    private router: ActivatedRoute,\r\n    private authService: AuthenticationService,\r\n    private _interactionService: InteractionService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activeView = this.router.snapshot.params[\"view\"];\r\n\r\n    // ---------------------------------- UserProfile -------------------------------\r\n\r\n    this.currentUser = this.authService.getLoggedUserDetail();\r\n    console.log(JSON.stringify(this.currentUser));\r\n    \r\n    this.userDisplayName = this.currentUser.userData.accountName;\r\n\r\n    this._interactionService.changeProfileDetails$.subscribe(\r\n      userName => {\r\n        this.userDisplayName = userName;\r\n      }\r\n    );\r\n\r\n    this._interactionService.changeProfilePicture$.subscribe(\r\n      url => {\r\n        this.profileImg = url;\r\n      }\r\n    );\r\n\r\n    // ------------------------------------------------------------------------------\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport {\r\n  MatListModule,\r\n  MatToolbarModule,\r\n  MatIconModule,\r\n  MatDialogModule,\r\n  MatButtonModule,\r\n  MatCardModule,\r\n  MatMenuModule,\r\n  MatSlideToggleModule,\r\n  MatGridListModule,\r\n  MatChipsModule,\r\n  MatCheckboxModule,\r\n  MatRadioModule,\r\n  MatTabsModule,\r\n  MatInputModule,\r\n  MatProgressBarModule,\r\n  MatAutocompleteModule\r\n} from '@angular/material';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { ChartsModule } from 'ng2-charts/ng2-charts';\r\nimport { FileUploadModule } from 'ng2-file-upload/ng2-file-upload';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\nimport { ProfileComponent } from \"./profile.component\";\r\nimport { ProfileOverviewComponent } from './profile-overview/profile-overview.component';\r\nimport { ProfileSettingsComponent } from './profile-settings/profile-settings.component';\r\nimport { AccountSettingsComponent } from './account-settings/account-settings.component';\r\nimport { ProfileLicenseComponent } from './profile-license/profile-license.component';\r\nimport { ProfileBlankComponent } from './profile-blank/profile-blank.component';\r\nimport { ProfileRoutes } from \"./profile.routing\";\r\nimport { ProfileService } from \"./profile.service\";\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    MatListModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatMenuModule,\r\n    MatSlideToggleModule,\r\n    MatGridListModule,\r\n    MatChipsModule,\r\n    MatCheckboxModule,\r\n    MatDialogModule,\r\n    MatRadioModule,\r\n    MatTabsModule,\r\n    MatInputModule,\r\n    MatToolbarModule,\r\n    MatProgressBarModule,\r\n    FlexLayoutModule,\r\n    NgxDatatableModule,\r\n    ChartsModule,\r\n    FileUploadModule,\r\n    SharedModule,\r\n    MatAutocompleteModule,\r\n    ImageCropperModule,\r\n    RouterModule.forChild(ProfileRoutes)\r\n  ],\r\n  providers: [ProfileService],\r\n  declarations: [ProfileComponent, ProfileOverviewComponent, ProfileSettingsComponent, AccountSettingsComponent, ProfileLicenseComponent, ProfileBlankComponent]\r\n})\r\nexport class ProfileModule { }\r\n","import { Routes } from '@angular/router';\r\n\r\nimport { ProfileComponent } from \"./profile.component\";\r\nimport { ProfileOverviewComponent } from \"./profile-overview/profile-overview.component\";\r\nimport { ProfileSettingsComponent } from \"./profile-settings/profile-settings.component\";\r\nimport { AccountSettingsComponent } from \"./account-settings/account-settings.component\";\r\nimport { ProfileBlankComponent } from \"./profile-blank/profile-blank.component\";\r\nimport { ProfileLicenseComponent } from \"./profile-license/profile-license.component\";\r\n\r\nexport const ProfileRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfileComponent,\r\n    children: [{\r\n      path: 'overview',\r\n      component: ProfileOverviewComponent,\r\n      data: { title: 'Overview', breadcrumb: 'OVERVIEW' }\r\n    }, \r\n    {\r\n      path: 'profile-settings',\r\n      component: ProfileSettingsComponent,\r\n      data: { title: 'Profile Settings', breadcrumb: 'PROFILE SETTINGS' }\r\n    }, \r\n    {\r\n      path: 'account-settings',\r\n      component: AccountSettingsComponent,\r\n      data: { title: 'Account Settings', breadcrumb: 'ACCOUNT SETTINGS' }\r\n    }, \r\n    {\r\n      path: 'general-settings',\r\n      component: ProfileLicenseComponent,\r\n      data: { title: 'General Settings', breadcrumb: 'GENERAL SETTINGS' }\r\n    }, \r\n    {\r\n      path: 'blank',\r\n      component: ProfileBlankComponent,\r\n      data: { title: 'Blank', breadcrumb: 'BLANK' }\r\n    }]\r\n  }\r\n];","import { Injectable } from \"@angular/core\";\r\nimport { Observable, throwError } from \"rxjs\";\r\nimport { catchError, map, tap } from \"rxjs/operators\";\r\nimport {\r\n  HttpClient,\r\n  HttpHeaders,\r\n  HttpErrorResponse\r\n} from \"@angular/common/http\";\r\nimport { environment } from \"environments/environment.prod\";\r\n\r\n@Injectable()\r\nexport class ProfileService {\r\n\r\n  public userUrl: string = environment.userApiUrl + \"platform-users\";\r\n  public userProfileUrl: string = environment.userApiUrl + \"platform-user-profiles\";\r\n  public clientUrl: string = environment.userApiUrl + \"clients\";\r\n  public licenseUrl: string = this.clientUrl + \"/license\";\r\n  public specsUrl: string = environment.userApiUrl + \"spec\";\r\n  public geoUrl: string = environment.userApiUrl + \"geo\";\r\n  public imgBaseURL = environment.userApiUrl + 'downloads';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  updateUser(item): Observable<any> {\r\n    return this.http\r\n      .put<any>(this.userProfileUrl, item)\r\n      .pipe(catchError(this.handleError));\r\n    // return this.http\r\n    //   .put<any>(this.userProfileUrl +\"/\"+ id, item)\r\n    //   .pipe(catchError(this.handleError));\r\n  }\r\n\r\n  updateUserPassword(item): Observable<any> {\r\n    return this.http\r\n      .put<any>(this.userProfileUrl + \"/change-password\", item)\r\n      .pipe(catchError(this.handleError));\r\n  }\r\n\r\n  updateProfilePic(item): Observable<any> {\r\n    return this.http\r\n      .post<any>(this.userUrl + \"/profileImage\", item)\r\n      .pipe(catchError(this.handleError));\r\n  }\r\n\r\n\r\n  getClient(id): Observable<any> {\r\n    return this.http.get(this.clientUrl + \"/\" + id).pipe(catchError(this.handleError));\r\n  }\r\n\r\n  getCategory(): Observable<any> {\r\n    return this.http.get(this.specsUrl + \"/categories\").pipe(catchError(this.handleError));\r\n  }\r\n\r\n  getCountry(): Observable<any> {\r\n    return this.http.get(this.geoUrl + \"/countries\").pipe(catchError(this.handleError));\r\n  }\r\n\r\n  getClientCategories(id): Observable<any> {\r\n    return this.http.get(this.clientUrl + \"/categories/\" + id).pipe(catchError(this.handleError));\r\n  }\r\n\r\n  updateClientLicense(id, item): Observable<any> {\r\n    return this.http\r\n      .put<any>(this.licenseUrl + \"/\" + id, item)\r\n      .pipe(catchError(this.handleError));\r\n  }\r\n\r\n  updateClientCategory(id, item): Observable<any> {\r\n    return this.http\r\n      .put<any>(this.clientUrl + \"/categories/\" + id, item)\r\n      .pipe(catchError(this.handleError));\r\n  }\r\n\r\n  updateClientDetails(id, item): Observable<any> {\r\n    return this.http\r\n      .put<any>(this.clientUrl + \"/\" + id, item)\r\n      .pipe(catchError(this.handleError));\r\n  }\r\n\r\n\r\n\r\n  private handleError(error: HttpErrorResponse | any) {\r\n    console.log(error);\r\n    return throwError(error);\r\n  }\r\n}\r\n"],"sourceRoot":""}