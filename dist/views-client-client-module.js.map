{"version":3,"sources":["webpack:///./src/app/views/client/client.component.html","webpack:///./src/app/views/client/client.component.ts","webpack:///./src/app/views/client/client.module.ts","webpack:///./src/app/views/client/client.routing.ts","webpack:///./src/app/views/client/clients/client-category-popup/client-category-popup.component.html","webpack:///./src/app/views/client/clients/client-category-popup/client-category-popup.component.ts","webpack:///./src/app/views/client/clients/client-create-popup/client-create-popup.component.html","webpack:///./src/app/views/client/clients/client-create-popup/client-create-popup.component.ts","webpack:///./src/app/views/client/clients/client-license-update-popup/client-license-update-popup.component.html","webpack:///./src/app/views/client/clients/client-license-update-popup/client-license-update-popup.component.ts","webpack:///./src/app/views/client/clients/client-table.component.html","webpack:///./src/app/views/client/clients/client-table.component.ts","webpack:///./src/app/views/client/clients/client-update-popup/client-update-popup.component.html","webpack:///./src/app/views/client/clients/client-update-popup/client-update-popup.component.ts","webpack:///./src/app/views/client/clients/user/roles/role-table-popup/role-table-popup.component.html","webpack:///./src/app/views/client/clients/user/roles/role-table-popup/role-table-popup.component.ts","webpack:///./src/app/views/client/clients/user/roles/role-table.component.html","webpack:///./src/app/views/client/clients/user/roles/role-table.component.ts","webpack:///./src/app/views/client/clients/user/user-table/user-category-popup/user-category-popup.component.html","webpack:///./src/app/views/client/clients/user/user-table/user-category-popup/user-category-popup.component.ts","webpack:///./src/app/views/client/clients/user/user-table/user-community-popup/user-community-popup.component.html","webpack:///./src/app/views/client/clients/user/user-table/user-community-popup/user-community-popup.component.ts","webpack:///./src/app/views/client/clients/user/user-table/user-create-popup/user-create-popup.component.html","webpack:///./src/app/views/client/clients/user/user-table/user-create-popup/user-create-popup.component.ts","webpack:///./src/app/views/client/clients/user/user-table/user-table-popup/user-table-popup.component.html","webpack:///./src/app/views/client/clients/user/user-table/user-table-popup/user-table-popup.component.ts","webpack:///./src/app/views/client/clients/user/user-table/user-table.component.html","webpack:///./src/app/views/client/clients/user/user-table/user-table.component.ts","webpack:///./src/app/views/client/clients/user/user.component.html","webpack:///./src/app/views/client/clients/user/user.component.ts"],"names":[],"mappings":"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","file":"views-client-client-module.js","sourcesContent":["module.exports = \"<div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n\\r\\n  <!-- <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"300px\\\" fxFlex.gt-sm=\\\"50\\\">\\r\\n    <mat-card class=\\\"profile-sidebar mb-1 pb-0\\\">\\r\\n      <div class=\\\"propic text-center\\\">\\r\\n        <img src=\\\"assets/images/ui_icons/users.png\\\" alt=\\\"\\\">\\r\\n      </div>\\r\\n      <div class=\\\"profile-title text-center mb-1\\\">\\r\\n        <div class=\\\"main-title\\\">Clients</div>\\r\\n        <div class=\\\"subtitle mb-05\\\">ClearPicture</div>\\r\\n        <div class=\\\"text-muted\\\"> Provides the tools you need to easily manage Users.</div>\\r\\n      </div>\\r\\n      <div class=\\\"profile-nav\\\">\\r\\n        <mat-nav-list>\\r\\n          <mat-list-item routerLink=\\\"/clients/client-table\\\" routerLinkActive=\\\"list-item-active\\\">\\r\\n            <mat-icon>person</mat-icon>\\r\\n            Clients\\r\\n          </mat-list-item>\\r\\n          <mat-divider></mat-divider>\\r\\n          <mat-list-item routerLink=\\\"/clients/role-table\\\" routerLinkActive=\\\"list-item-active\\\">\\r\\n            <mat-icon>settings</mat-icon>\\r\\n            User Roles\\r\\n          </mat-list-item>\\r\\n          <mat-divider></mat-divider>\\r\\n        </mat-nav-list>\\r\\n      </div>\\r\\n    </mat-card>\\r\\n  </div> -->\\r\\n\\r\\n  <!-- Profile Views -->\\r\\n  <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"50\\\" fxFlex.gt-md=\\\"calc(100% - 300px)\\\">\\r\\n    <router-outlet></router-outlet>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { egretAnimations } from '../../shared/animations/egret-animations';\r\nimport { NavigationExtras, Router } from \"@angular/router\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-client',\r\n  templateUrl: './client.component.html',\r\n  animations: egretAnimations\r\n})\r\nexport class ClientComponent implements OnInit {\r\n\r\n constructor( private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    // this.router.navigate([\"clients/client-table\"]);\r\n  }\r\n\r\n}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { ClientComponent } from \"./client.component\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { ClientRoute } from \"./client.routing\";\r\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\nimport {\r\n  MatInputModule,\r\n  MatButtonModule,\r\n  MatCardModule,\r\n  MatDialogModule,\r\n  MatSelectModule,\r\n  MatDatepickerModule,\r\n  MatNativeDateModule,\r\n  MatIconModule,\r\n  MatChipsModule,\r\n  MatDividerModule,\r\n  MatListModule,\r\n  MatExpansionModule,\r\n  MatButtonToggleModule,\r\n  MatSidenavModule,\r\n  MatStepperModule,\r\n  MatToolbarModule,\r\n  MatOptionModule,\r\n  MatCheckboxModule,\r\n  MatTabsModule,\r\n  MatSlideToggleModule,\r\n  MatMenuModule,\r\n  MatAutocompleteModule\r\n} from \"@angular/material\";\r\nimport { NgxIntlTelInputModule } from 'ngx-intl-tel-input';\r\nimport { NgxDatatableModule } from \"@swimlane/ngx-datatable\";\r\nimport { SharedModule } from \"../../shared/shared.module\";\r\nimport { ClientService } from \"./client.service\";\r\nimport { ClientTableComponent } from './clients/client-table.component';\r\nimport { ClientUpdatePopupComponent } from './clients/client-update-popup/client-update-popup.component';\r\nimport { ClientCreatePopupComponent } from './clients/client-create-popup/client-create-popup.component';\r\nimport { ClientCategoryPopupComponent } from './clients/client-category-popup/client-category-popup.component';\r\nimport { ClientLicenseUpdatePopupComponent } from './clients/client-license-update-popup/client-license-update-popup.component';\r\nimport { UserComponent } from './clients/user/user.component';\r\nimport { UserTableComponent } from './clients/user/user-table/user-table.component';\r\nimport { UserCreatePopupComponent } from './clients/user/user-table/user-create-popup/user-create-popup.component';\r\nimport { UserTablePopupComponent } from './clients/user/user-table/user-table-popup/user-table-popup.component';\r\nimport { RoleTableComponent } from './clients/user/roles/role-table.component';\r\nimport { RoleTablePopupComponent } from './clients/user/roles/role-table-popup/role-table-popup.component';\r\nimport { UserCommunityPopupComponent } from './clients/user/user-table/user-community-popup/user-community-popup.component';\r\nimport { UserCategoryPopupComponent } from './clients/user/user-table/user-category-popup/user-category-popup.component';\r\nimport { UserService } from \"../user/user.service\";\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FlexLayoutModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    NgxDatatableModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatDialogModule,\r\n    MatSelectModule,\r\n    MatDatepickerModule,\r\n    MatNativeDateModule,\r\n    MatIconModule,\r\n    MatChipsModule,\r\n    MatDividerModule,\r\n    MatListModule,\r\n    MatExpansionModule,\r\n    MatButtonToggleModule,\r\n    MatSidenavModule,\r\n    RouterModule.forChild(ClientRoute),\r\n    SharedModule,\r\n    MatStepperModule,\r\n    MatToolbarModule,\r\n    MatOptionModule,\r\n    MatCheckboxModule,\r\n    MatTabsModule,\r\n    MatSlideToggleModule,\r\n    MatMenuModule,\r\n    MatAutocompleteModule,\r\n    NgxIntlTelInputModule,\r\n  ],\r\n  declarations: [\r\n    ClientComponent,\r\n    ClientComponent,\r\n    ClientTableComponent,\r\n    ClientCreatePopupComponent,\r\n    ClientCategoryPopupComponent,\r\n    ClientUpdatePopupComponent,\r\n    ClientLicenseUpdatePopupComponent,\r\n    UserComponent,\r\n    UserTableComponent,\r\n    UserCreatePopupComponent,\r\n    UserTablePopupComponent,\r\n    RoleTableComponent,\r\n    RoleTablePopupComponent,\r\n    UserCommunityPopupComponent,\r\n    UserCategoryPopupComponent\r\n  ],\r\n  entryComponents: [\r\n    ClientCreatePopupComponent,\r\n    ClientCategoryPopupComponent,\r\n    ClientUpdatePopupComponent,\r\n    ClientLicenseUpdatePopupComponent,\r\n    UserCreatePopupComponent,\r\n    UserTablePopupComponent,\r\n    RoleTablePopupComponent,\r\n    UserCommunityPopupComponent,\r\n    UserCategoryPopupComponent\r\n  ],\r\n  providers: [ClientService,UserService]\r\n})\r\nexport class ClientModule { }\r\n","import { Routes } from \"@angular/router\";\r\nimport { ClientComponent } from \"./client.component\";\r\nimport { ClientTableComponent } from \"./clients/client-table.component\";\r\nimport { UserComponent } from \"./clients/user/user.component\";\r\nimport { UserTableComponent } from \"./clients/user/user-table/user-table.component\";\r\nimport { RoleTableComponent } from \"./clients/user/roles/role-table.component\";\r\n\r\nexport const ClientRoute: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: ClientComponent,\r\n    children: [\r\n      {\r\n        path: \"client-table\",\r\n        component: ClientTableComponent,\r\n        data: { title: \"Clients\", breadcrumb: \"Clients\" }\r\n      },\r\n      {\r\n        path: \"user\",\r\n        component: UserComponent,\r\n        data: { title: \"Users\", breadcrumb: \"Users\" },\r\n        children: [\r\n          {\r\n            path: \"user-table\",\r\n            component: UserTableComponent,\r\n            data: { title: \"Users\", breadcrumb: \"Users\" }\r\n          },\r\n          {\r\n            path: \"user-table/:clientId\",\r\n            component: UserTableComponent,\r\n            data: { title: \"Users\", breadcrumb: \"Users\" }\r\n          },\r\n          {\r\n            path: \"role-table\",\r\n            component: RoleTableComponent,\r\n            data: { title: \"Roles\", breadcrumb: \"Roles\" }\r\n          },\r\n          {\r\n            path: \"role-table/:clientId\",\r\n            component: RoleTableComponent,\r\n            data: { title: \"Roles\", breadcrumb: \"Roles\" }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        path: \"role-table\",\r\n        component: RoleTableComponent,\r\n        data: { title: \"Roles\", breadcrumb: \"Roles\" }\r\n      }\r\n    ]\r\n  }\r\n];\r\n","module.exports = \"<mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n  <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n    <span class=\\\"title dialog-title\\\">Category</span>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"mat-typography mt-1\\\">\\r\\n\\r\\n  <mat-form-field class=\\\"matAutocomplete-chip-list\\\">\\r\\n\\r\\n    <mat-chip-list #chipList>\\r\\n      <mat-chip *ngFor=\\\"let category of selectedCategories\\\" [selectable]=\\\"selectable\\\" [removable]=\\\"removable\\\"\\r\\n        (removed)=\\\"remove(category)\\\">\\r\\n        {{category.name}}\\r\\n        <mat-icon matChipRemove *ngIf=\\\"removable\\\">cancel</mat-icon>\\r\\n      </mat-chip>\\r\\n      <input matInput placeholder=\\\"Select category...\\\" #categoryInput [formControl]=\\\"categoryCtrl\\\" [matAutocomplete]=\\\"auto\\\"\\r\\n        [matChipInputFor]=\\\"chipList\\\" [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\r\\n        (matChipInputTokenEnd)=\\\"add($event)\\\" [matChipInputAddOnBlur]=\\\"addOnBlur\\\" aria-label=\\\"Category\\\">\\r\\n    </mat-chip-list>    \\r\\n\\r\\n    <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\">\\r\\n      <mat-option *ngFor=\\\"let category of filteredCategories | async\\\" [value]=\\\"category.id\\\">\\r\\n        <span>{{category.name}}</span>\\r\\n      </mat-option>\\r\\n    </mat-autocomplete>\\r\\n\\r\\n  </mat-form-field>\\r\\n\\r\\n  <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n    <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n      <button mat-raised-button color=\\\"primary\\\" (click)=\\\"submit()\\\">Save</button>\\r\\n      <span fxFlex></span>\\r\\n      <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</mat-dialog-content>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup, FormControl } from '@angular/forms';\r\n\r\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\r\nimport { ElementRef, ViewChild } from '@angular/core';\r\nimport { MatAutocompleteSelectedEvent, MatChipInputEvent, MatAutocomplete } from '@angular/material';\r\nimport { Observable } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { autoCompletableCategory } from 'app/model/ClientModel.model';\r\n\r\n@Component({\r\n  selector: 'app-client-category-popup',\r\n  templateUrl: './client-category-popup.component.html'\r\n})\r\nexport class ClientCategoryPopupComponent implements OnInit {\r\n  // visible = true;\r\n  selectable = true;\r\n  removable = true;\r\n  addOnBlur = true;\r\n  separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  categoryCtrl = new FormControl();\r\n  allCategories: autoCompletableCategory[] = [];\r\n  filteredCategories: Observable<autoCompletableCategory[]>;\r\n  selectedCategories: autoCompletableCategory[] = [];\r\n  categories: string[] = [];\r\n  categoriesValue: string[] = [];\r\n\r\n  @ViewChild('categoryInput') categoryInput: ElementRef<HTMLInputElement>;\r\n  @ViewChild('auto') matAutocomplete: MatAutocomplete;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<ClientCategoryPopupComponent>,\r\n    private fb: FormBuilder,\r\n  ) {\r\n    this.filteredCategories = this.categoryCtrl.valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(category => category ? this._filterCategories(category) : this.allCategories.slice())\r\n      );\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.allCategories = JSON.parse(JSON.stringify(this.data.category));\r\n    this.selectedCategories = [];\r\n    if (this.data.selectedCategory.content.length > 0) {\r\n      this.data.selectedCategory.content.forEach(element => {\r\n        this.addSelectedCategory(element.id)\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  submit() {\r\n    this.dialogRef.close(this.selectedCategories);\r\n  }\r\n\r\n\r\n  add(event: MatChipInputEvent): void {\r\n\r\n    if (!this.matAutocomplete.isOpen) {\r\n      const input = event.input;\r\n      const value = event.value;\r\n\r\n      // if we need to add custom texts as Chips,\r\n      // Add our category\r\n      // if ((value || '').trim()) {\r\n      //   this.categories.push(value.trim());\r\n      // }\r\n\r\n      // Reset the input value\r\n      if (input) {\r\n        input.value = '';\r\n      }\r\n\r\n      this.categoryCtrl.setValue(null);\r\n    }\r\n  }\r\n\r\n  selected(event: MatAutocompleteSelectedEvent): void {\r\n    this.addSelectedCategory(event.option.value);\r\n    this.categoryInput.nativeElement.value = '';\r\n    this.categoryCtrl.setValue(null);\r\n  }\r\n\r\n  addSelectedCategory(id){\r\n    this.allCategories.forEach((item, index) => {\r\n      if (item.id === id) {\r\n        this.selectedCategories.push(item);\r\n        this.allCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(category: autoCompletableCategory): void {\r\n    this.selectedCategories.forEach((item, index) => {\r\n      if (item.id === category.id) {\r\n        this.allCategories.push(category);\r\n        this.selectedCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  private _filterCategories(value: string): autoCompletableCategory[] {\r\n    const filterValue = value.toLowerCase();\r\n    return this.allCategories.filter(category => category.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n}\r\n","module.exports = \"<mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n  <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n    <span class=\\\"title dialog-title\\\">Create Client</span>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"mat-typography mt-1\\\" id=\\\"client-create\\\">\\r\\n\\r\\n\\r\\n  <mat-horizontal-stepper [linear]=\\\"true\\\">\\r\\n\\r\\n    <mat-step [stepControl]=\\\"clientFormGroup\\\">\\r\\n\\r\\n      <form [formGroup]=\\\"clientFormGroup\\\">\\r\\n\\r\\n        <ng-template matStepLabel>Client</ng-template>\\r\\n\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"clientName\\\" letterOnly placeholder=\\\"Name\\\"\\r\\n                [formControl]=\\\"clientFormGroup.controls['name']\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <textarea matInput name=\\\"description\\\" placeholder=\\\"Description\\\"\\r\\n                [formControl]=\\\"clientFormGroup.controls['description']\\\"></textarea>\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n            <button mat-raised-button color=\\\"primary\\\" matStepperNext [disabled]=\\\"clientFormGroup.invalid\\\">Next</button>\\r\\n            <span fxFlex></span>\\r\\n            <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </form>\\r\\n\\r\\n    </mat-step>\\r\\n\\r\\n\\r\\n    <mat-step [stepControl]=\\\"profilePicFormGroup\\\">\\r\\n      <form [formGroup]=\\\"profilePicFormGroup\\\">\\r\\n        <ng-template matStepLabel>Profile Picture</ng-template>\\r\\n\\r\\n        <!-- --------- hidden file input --------- -->\\r\\n        <input (change)=\\\"onSelectFile($event)\\\" #productImgs type=\\\"file\\\" style=\\\"display: none\\\"\\r\\n          [formControl]=\\\"profilePicFormGroup.controls['profilePic']\\\" base-sixty-four-input>\\r\\n\\r\\n\\r\\n        <!-- --------- file input click button --------- -->\\r\\n        <!-- <div layout-margin layout-padding>\\r\\n          <button mat-raised-button class=\\\"mr-1 mb-1\\\" (click)=\\\"productImgs.click()\\\" type=\\\"button\\\">\\r\\n            Browse Images</button>\\r\\n        </div> -->\\r\\n        <div layout-margin layout-padding class=\\\"mb-2\\\">\\r\\n          <button mat-raised-button class=\\\"mr-1\\\" (click)=\\\"productImgs.click()\\\" type=\\\"button\\\">\\r\\n            Browse Images</button>\\r\\n          <button mat-raised-button class=\\\"mr-1\\\" (click)=\\\"removeSelectedImg()\\\" type=\\\"button\\\" *ngIf=\\\"clientProfilePic\\\">\\r\\n            Clear Images</button>\\r\\n        </div>\\r\\n\\r\\n        <!-- --------- start images preview container --------- -->\\r\\n        <div id=\\\"client_create_image_preview_container\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" layout-align=\\\"center\\\">\\r\\n\\r\\n          <!-- --------- start card --------- -->\\r\\n          <!-- <div [@animate]=\\\"{value:'*',params:{y:'50px',delay:'300ms'}}\\\" *ngIf=\\\"clientProfilePic\\\" fxFlex=\\\"100\\\" style=\\\"display: flex;\\\">\\r\\n            <mat-card class=\\\"p-0\\\">\\r\\n\\r\\n              <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n                <span fxFlex></span>\\r\\n                <button type=\\\"button\\\" class=\\\"close p-1\\\" aria-label=\\\"Close\\\" (click)=\\\"removeSelectedImg()\\\">\\r\\n                  <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n                </button>\\r\\n              </div>\\r\\n\\r\\n              <img [src]=\\\"clientProfilePic\\\">\\r\\n            </mat-card>\\r\\n          </div> -->\\r\\n\\r\\n          <div [@animate]=\\\"{value:'*',params:{y:'50px',delay:'300ms'}}\\\" *ngIf=\\\"clientProfilePic\\\" fxFlex=\\\"100\\\"\\r\\n            style=\\\"display: flex;\\\">\\r\\n\\r\\n            <img class=\\\"clientProfilePic\\\" [src]=\\\"clientProfilePic\\\">\\r\\n\\r\\n          </div>\\r\\n          <!-- --------- end card --------- -->\\r\\n\\r\\n        </div>\\r\\n        <!-- --------- end images preview container --------- -->\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n            <button mat-raised-button color=\\\"accent\\\" matStepperPrevious class=\\\"mr-1\\\">Back</button>\\r\\n            <button mat-raised-button color=\\\"primary\\\" matStepperNext [disabled]=\\\"!clientProfilePic\\\">Next</button>\\r\\n            <span fxFlex></span>\\r\\n            <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </form>\\r\\n    </mat-step>\\r\\n\\r\\n\\r\\n    <mat-step [stepControl]=\\\"adminFormGroup\\\">\\r\\n      <form [formGroup]=\\\"adminFormGroup\\\">\\r\\n        <ng-template matStepLabel>Admin User</ng-template>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"username\\\" positiveNumberAndLetterOnly placeholder=\\\"Username\\\"\\r\\n                [formControl]=\\\"adminFormGroup.controls['username']\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"email\\\" placeholder=\\\"Email\\\" [formControl]=\\\"adminFormGroup.controls['email']\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n          <!-- , module.moduleName, item.code, $event.checked) -->\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"pr-1 mb-3\\\">\\r\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" class=\\\"pt-2\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n              <div fxFlex=\\\"50\\\" class=\\\"pr-1 pt-2\\\"  *ngFor=\\\"let item of allAuthorities\\\">\\r\\n                <mat-checkbox (change)=\\\"onChange(item.id)\\\" class=\\\"full-width\\\"\\r\\n                  value=\\\"{{item.code}}\\\">{{item.name}}</mat-checkbox>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n            <button mat-raised-button color=\\\"accent\\\" matStepperPrevious class=\\\"mr-1\\\">Back</button>\\r\\n            <button mat-raised-button color=\\\"primary\\\" matStepperNext [disabled]=\\\"adminFormGroup.invalid\\\">Next</button>\\r\\n            <span fxFlex></span>\\r\\n            <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </mat-step>\\r\\n\\r\\n    <mat-step [stepControl]=\\\"categoryFormGroup\\\">\\r\\n      <form [formGroup]=\\\"categoryFormGroup\\\">\\r\\n        <ng-template matStepLabel>Category</ng-template>\\r\\n\\r\\n        <mat-form-field class=\\\"matAutocomplete-chip-list\\\">\\r\\n\\r\\n          <mat-chip-list #chipList>\\r\\n            <mat-chip *ngFor=\\\"let category of selectedCategories\\\" [selectable]=\\\"selectable\\\" [removable]=\\\"removable\\\"\\r\\n              (removed)=\\\"remove(category)\\\">\\r\\n              {{category.name}}\\r\\n              <mat-icon matChipRemove *ngIf=\\\"removable\\\">cancel</mat-icon>\\r\\n            </mat-chip>\\r\\n            <input matInput placeholder=\\\"Select category...\\\" #categoryInput [formControl]=\\\"categoryCtrl\\\"\\r\\n              [matAutocomplete]=\\\"auto\\\" [matChipInputFor]=\\\"chipList\\\" [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\r\\n              (matChipInputTokenEnd)=\\\"add($event)\\\" [matChipInputAddOnBlur]=\\\"addOnBlur\\\" aria-label=\\\"Category\\\"\\r\\n              [required]=\\\"this.selectedCategories.length === 0\\\">\\r\\n          </mat-chip-list>\\r\\n\\r\\n          <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\">\\r\\n            <mat-option *ngFor=\\\"let category of filteredCategories | async\\\" [value]=\\\"category.id\\\">\\r\\n              <span>{{category.name}}</span>\\r\\n            </mat-option>\\r\\n          </mat-autocomplete>\\r\\n\\r\\n        </mat-form-field>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n            <button mat-raised-button color=\\\"accent\\\" matStepperPrevious class=\\\"mr-1\\\">Back</button>\\r\\n            <button mat-raised-button color=\\\"primary\\\" matStepperNext\\r\\n              [disabled]='this.selectedCategories.length === 0'>Next</button>\\r\\n            <span fxFlex></span>\\r\\n            <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </mat-step>\\r\\n\\r\\n    <mat-step [stepControl]=\\\"licenseFormGroup\\\">\\r\\n      <form [formGroup]=\\\"licenseFormGroup\\\">\\r\\n        <ng-template matStepLabel>License</ng-template>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"tagCount\\\" placeholder=\\\"Tag Count\\\" positiveNumberOnly\\r\\n                [formControl]=\\\"licenseFormGroup.controls['tagCount']\\\">\\r\\n            </mat-form-field>\\r\\n            <span *ngIf=\\\"licenseFormGroup.controls['tagCount'].hasError('max')\\\" class=\\\"form-error-msg\\\">\\r\\n              {{this.license.tagCount}} max ! </span>\\r\\n          </div>\\r\\n\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"userCount\\\" placeholder=\\\"User Count\\\" positiveNumberOnly\\r\\n                [formControl]=\\\"licenseFormGroup.controls['userCount']\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"communityCount\\\" placeholder=\\\"Comunity Count\\\" positiveNumberOnly\\r\\n                [formControl]=\\\"licenseFormGroup.controls['communityCount']\\\" (blur)=\\\"validateLicense()\\\"\\r\\n                (focus)='setOldValue()'>\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"feedbackCount\\\" placeholder=\\\"Feedback Count\\\" positiveNumberOnly\\r\\n                [formControl]=\\\"licenseFormGroup.controls['feedbackCount']\\\" (blur)=\\\"setDefaultValue('feedbackCount')\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"eventkCount\\\" placeholder=\\\"Event Count\\\" positiveNumberOnly\\r\\n                [formControl]=\\\"licenseFormGroup.controls['eventCount']\\\" (blur)=\\\"setDefaultValue('eventCount')\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"promoCount\\\" placeholder=\\\"Promo Count\\\" positiveNumberOnly\\r\\n                [formControl]=\\\"licenseFormGroup.controls['promoCount']\\\" (blur)=\\\"setDefaultValue('promoCount')\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n            <button mat-raised-button color=\\\"accent\\\" matStepperPrevious class=\\\"mr-1\\\">Back</button>\\r\\n            <button mat-raised-button color=\\\"primary\\\" (click)=\\\"submit()\\\"\\r\\n              [disabled]=\\\"licenseFormGroup.invalid\\\">Submit</button>\\r\\n            <span fxFlex></span>\\r\\n            <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </mat-step>\\r\\n\\r\\n  </mat-horizontal-stepper>\\r\\n\\r\\n\\r\\n</mat-dialog-content>\"","import { Component, OnInit, Inject, ViewChild, ElementRef } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatSnackBar, MatAutocomplete, MatChipInputEvent, MatAutocompleteSelectedEvent } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup, FormControl } from '@angular/forms';\r\nimport { egretAnimations } from \"../../../../shared/animations/egret-animations\";\r\nimport { GlobalVariable } from \"../../../../shared/helpers/global-variable\";\r\nimport { ENTER, COMMA } from '@angular/cdk/keycodes';\r\nimport { Observable } from 'rxjs';\r\nimport { startWith, map } from 'rxjs/operators';\r\nimport { autoCompletableCategory, roleAuthority } from 'app/model/ClientModel.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-client-create-popup',\r\n  templateUrl: './client-create-popup.component.html',\r\n  animations: egretAnimations,\r\n})\r\nexport class ClientCreatePopupComponent implements OnInit {\r\n\r\n  public globalVariable: GlobalVariable = new GlobalVariable();\r\n  public license = this.globalVariable.client.license;\r\n  public regex = this.globalVariable.validators.regex;\r\n\r\n  selectable = true;\r\n  removable = true;\r\n  addOnBlur = true;\r\n  separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  categoryCtrl = new FormControl();\r\n  allCategories: autoCompletableCategory[] = [];\r\n  allAuthorities: roleAuthority[] = [];\r\n  selectedAuthorities: roleAuthority[] = [];\r\n  filteredCategories: Observable<autoCompletableCategory[]>;\r\n  selectedCategories: autoCompletableCategory[] = [];\r\n  categories: string[] = [];\r\n  // categoriesValue: string[] = [];\r\n\r\n  public oldestValue = 0;\r\n\r\n  @ViewChild('categoryInput') categoryInput: ElementRef<HTMLInputElement>;\r\n  @ViewChild('auto') matAutocomplete: MatAutocomplete;\r\n\r\n\r\n  public clientFormGroup: FormGroup;\r\n  public profilePicFormGroup: FormGroup;\r\n  public adminFormGroup: FormGroup;\r\n  public categoryFormGroup: FormGroup;\r\n  public licenseFormGroup: FormGroup;\r\n  // public categoryFormStatus = true;\r\n  public clientProfilePic;\r\n\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<ClientCreatePopupComponent>,\r\n    private fb: FormBuilder,\r\n    public snackBar: MatSnackBar\r\n  ) {\r\n    this.filteredCategories = this.categoryCtrl.valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(category => category ? this._filterCategories(category) : this.allCategories.slice())\r\n      );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.allCategories = JSON.parse(JSON.stringify(this.data.category));\r\n    this.selectedCategories = [];\r\n\r\n    this.data.section.forEach(section => {\r\n      section.authorities.forEach(authority => {\r\n        if (authority.code !== 'cm-a') {\r\n          this.allAuthorities.push(authority);\r\n        }\r\n      });\r\n    });\r\n    this.selectedAuthorities = [];\r\n    this.buildItemForm()\r\n  }\r\n\r\n  buildItemForm() {\r\n\r\n    // this.clientFormGroup = this.fb.group({\r\n    //   name: [''],\r\n    //   description: ['']\r\n    // });\r\n    // this.profilePicFormGroup = this.fb.group({\r\n    //   profilePic: [\"\"]\r\n    // });\r\n    // this.adminFormGroup = this.fb.group({\r\n    //   username: [''],\r\n    //   email: ['']\r\n    // });\r\n\r\n    this.clientFormGroup = this.fb.group({\r\n      name: ['', [Validators.required, Validators.pattern(this.regex._Letter)]],\r\n      description: ['', Validators.required]\r\n    });\r\n    this.profilePicFormGroup = this.fb.group({\r\n      profilePic: [\"\", Validators.required]\r\n    });\r\n    this.adminFormGroup = this.fb.group({\r\n      username: ['', Validators.required],\r\n      email: ['', [Validators.required, Validators.email]]\r\n    });\r\n\r\n    this.categoryFormGroup = this.fb.group({\r\n      category: this.categoryCtrl\r\n    });\r\n\r\n    this.licenseFormGroup = this.fb.group({\r\n      tagCount: ['', [Validators.required, Validators.max(this.license.tagCount), Validators.min(0), Validators.pattern(this.regex._PosNumber)]],\r\n      userCount: ['', Validators.required],\r\n      communityCount: ['1', Validators.required],\r\n      feedbackCount: ['1', Validators.required],\r\n      eventCount: ['1', Validators.required],\r\n      promoCount: ['1', Validators.required]\r\n    });\r\n\r\n  }\r\n\r\n  setOldValue() {\r\n    this.oldestValue = this.licenseFormGroup.controls['communityCount'].value;\r\n  }\r\n\r\n  validateLicense() {\r\n    let form = this.licenseFormGroup;\r\n    let value = form.controls['communityCount'].value;\r\n\r\n    if (value !== '' && value !== '0') {\r\n\r\n      let diff = value - this.oldestValue;\r\n\r\n      if (diff > 0) {\r\n        form.controls['feedbackCount'].setValue(+(form.get('feedbackCount').value) + diff);\r\n        form.controls['eventCount'].setValue(+(form.get('eventCount').value) + diff);\r\n        form.controls['promoCount'].setValue(+(form.get('promoCount').value) + diff);\r\n      }\r\n    } else {\r\n      this.setDefaultValue('communityCount');\r\n      this.setDefaultValue('feedbackCount');\r\n      this.setDefaultValue('eventCount');\r\n      this.setDefaultValue('promoCount');\r\n    }\r\n  }\r\n\r\n  setDefaultValue(control) {\r\n    let form = this.licenseFormGroup;\r\n    let value = form.controls[control].value;\r\n    if (value === '' || value === '0') {\r\n      form.controls[control].setValue(1);\r\n    }\r\n  }\r\n\r\n  submit() {\r\n    let forms = [this.clientFormGroup.value, this.clientProfilePic, this.adminFormGroup.value, this.licenseFormGroup.value, this.selectedCategories, this.selectedAuthorities];\r\n    console.log(forms);\r\n\r\n    this.dialogRef.close(forms);\r\n  }\r\n\r\n\r\n  // File uploader validation and upload\r\n  onSelectFile(event) {\r\n\r\n    if (event.target.files && event.target.files[0]) {\r\n\r\n      let file = event.dataTransfer ? event.dataTransfer.files[0] : event.target.files[0];\r\n      let pattern = /image-*/;\r\n      let reader = new FileReader();\r\n      if (!file.type.match(pattern)) {\r\n        this.snackBar.open(\r\n          \"Invalid Format!\",\r\n          \"close\",\r\n          { duration: 2000 }\r\n        );\r\n        return;\r\n      }\r\n      reader.onload = (event: any) => {\r\n        this.clientProfilePic = event.target.result;\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n\r\n    } else {\r\n      this.snackBar.open(\r\n        \"Can't upload\",\r\n        \"close\",\r\n        { duration: 2000 }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  removeSelectedImg() {\r\n    this.clientProfilePic = null;\r\n    this.profilePicFormGroup.controls['profilePic'].setValue('')\r\n  }\r\n\r\n  add(event: MatChipInputEvent): void {\r\n\r\n    if (!this.matAutocomplete.isOpen) {\r\n      const input = event.input;\r\n      const value = event.value;\r\n\r\n      // if we need to add custom texts as Chips,\r\n      // Add our category\r\n      // if ((value || '').trim()) {\r\n      //   this.categories.push(value.trim());\r\n      // }\r\n\r\n      // Reset the input value\r\n      if (input) {\r\n        input.value = '';\r\n      }\r\n\r\n      this.categoryCtrl.setValue(null);\r\n    }\r\n  }\r\n\r\n  selected(event: MatAutocompleteSelectedEvent): void {\r\n    this.addSelectedCategory(event.option.value);\r\n    this.categoryInput.nativeElement.value = '';\r\n    this.categoryCtrl.setValue(null);\r\n  }\r\n\r\n  addSelectedCategory(id) {\r\n    this.allCategories.forEach((item, index) => {\r\n      if (item.id === id) {\r\n        this.selectedCategories.push(item);\r\n        this.allCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(category: autoCompletableCategory): void {\r\n    this.selectedCategories.forEach((item, index) => {\r\n      if (item.id === category.id) {\r\n        this.allCategories.push(category);\r\n        this.selectedCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  private _filterCategories(value: string): autoCompletableCategory[] {\r\n    const filterValue = value.toLowerCase();\r\n    return this.allCategories.filter(category => category.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n\r\n  onChange(id) {\r\n    console.log(id);\r\n    if (this.selectedAuthorities.includes(id)) {\r\n      this.selectedAuthorities.forEach((item, index) => {\r\n        if (item === id) {\r\n          this.selectedAuthorities.splice(index, 1);\r\n        }\r\n      });\r\n    } else {\r\n      this.selectedAuthorities.push(id);\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\n","module.exports = \"<form [formGroup]=\\\"licenseFormGroup\\\" (ngSubmit)=\\\"submit()\\\" id=\\\"client-update\\\">\\r\\n  <mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n    <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n      <span class=\\\"title dialog-title\\\">Update Client</span>\\r\\n    </div>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content class=\\\"mat-typography mt-1\\\">\\r\\n\\r\\n\\r\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"tagCount\\\" placeholder=\\\"Tag Count\\\" positiveNumberOnly\\r\\n            [formControl]=\\\"licenseFormGroup.controls['tagCount']\\\">\\r\\n        </mat-form-field>\\r\\n        <span *ngIf=\\\"licenseFormGroup.controls['tagCount'].hasError('max')\\\" class=\\\"form-error-msg\\\">\\r\\n          {{this.license.tagCount}} max ! </span>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"userCount\\\" placeholder=\\\"User Count\\\" positiveNumberOnly\\r\\n            [formControl]=\\\"licenseFormGroup.controls['userCount']\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"communityCount\\\" placeholder=\\\"Community Count\\\" positiveNumberOnly\\r\\n            [formControl]=\\\"licenseFormGroup.controls['communityCount']\\\" (blur)=\\\"validateLicense()\\\" (focus)='setOldValue()'>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"feedbackCount\\\" placeholder=\\\"Feedback Count\\\" positiveNumberOnly\\r\\n            [formControl]=\\\"licenseFormGroup.controls['feedbackCount']\\\" (blur)=\\\"setDefaultValue('feedbackCount')\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"eventkCount\\\" placeholder=\\\"Event Count\\\" positiveNumberOnly\\r\\n            [formControl]=\\\"licenseFormGroup.controls['eventCount']\\\" (blur)=\\\"setDefaultValue('eventCount')\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"promoCount\\\" placeholder=\\\"Promo Count\\\" positiveNumberOnly\\r\\n            [formControl]=\\\"licenseFormGroup.controls['promoCount']\\\" (blur)=\\\"setDefaultValue('promoCount')\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </mat-dialog-content>\\r\\n\\r\\n  <mat-card-footer>\\r\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n      <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n        <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"licenseFormGroup.invalid\\\">Save</button>\\r\\n        <span fxFlex></span>\\r\\n        <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </mat-card-footer>\\r\\n\\r\\n</form>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatSnackBar, MatAutocompleteSelectedEvent } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { egretAnimations } from \"../../../../shared/animations/egret-animations\";\r\nimport { GlobalVariable } from 'app/shared/helpers/global-variable';\r\n\r\n\r\n@Component({\r\n  selector: 'app-client-license-update-popup',\r\n  templateUrl: './client-license-update-popup.component.html',\r\n  animations: egretAnimations,\r\n})\r\nexport class ClientLicenseUpdatePopupComponent implements OnInit {\r\n  \r\n  public globalVariable: GlobalVariable = new GlobalVariable();\r\n  public license = this.globalVariable.client.license;\r\n  public regex = this.globalVariable.validators.regex;\r\n\r\n  public licenseFormGroup: FormGroup;\r\n  public formStatus = false;\r\n  public url;\r\n  public oldestValue = 0;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<ClientLicenseUpdatePopupComponent>,\r\n    private fb: FormBuilder,\r\n    public snackBar: MatSnackBar\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.buildItemForm(this.data.payload.license)\r\n  }\r\n\r\n  buildItemForm(item) {\r\n\r\n    console.log(item);\r\n    \r\n    this.licenseFormGroup = this.fb.group({\r\n      tagCount: [item.tagCount || '', Validators.required],\r\n      userCount: [item.userCount || '', Validators.required],\r\n      communityCount: [item.communityCount || '', Validators.required],\r\n      feedbackCount: [item.feedbackCount || '', Validators.required],\r\n      eventCount: [item.eventCount || '', Validators.required],\r\n      promoCount: [item.promoCount || '', Validators.required]\r\n    });\r\n\r\n  }\r\n\r\n  \r\n  setOldValue() {\r\n    this.oldestValue = this.licenseFormGroup.controls['communityCount'].value;\r\n  }\r\n\r\n  validateLicense() {\r\n    let form = this.licenseFormGroup;\r\n    if (form.controls['communityCount'].value !== '') {\r\n      let value = form.controls['communityCount'].value;\r\n      let diff;\r\n\r\n      if (value > this.oldestValue) {\r\n        diff = value - this.oldestValue;\r\n        form.controls['feedbackCount'].setValue(+(form.get('feedbackCount').value) + diff);\r\n        form.controls['eventCount'].setValue(+(form.get('eventCount').value) + diff);\r\n        form.controls['promoCount'].setValue(+(form.get('promoCount').value) + diff);\r\n      }\r\n    } else {\r\n      form.controls['communityCount'].setValue(1)\r\n      form.controls['feedbackCount'].setValue(1)\r\n      form.controls['eventCount'].setValue(1)\r\n      form.controls['promoCount'].setValue(1)\r\n    }\r\n  }\r\n\r\n  setDefaultValue(control) {\r\n    let form = this.licenseFormGroup;\r\n    if (form.controls[control].value === '') {\r\n      form.controls[control].setValue(1);\r\n    }\r\n  }\r\n\r\n  submit() {\r\n    this.dialogRef.close(this.licenseFormGroup.value);\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<mat-card class=\\\"p-0\\\" [@animate]=\\\"{value:'*',params:{y:'50px',delay:'300ms'}}\\\">\\r\\n  <mat-card-title>\\r\\n    <div class=\\\"card-title-text\\\">Clients</div>\\r\\n    <mat-divider></mat-divider>\\r\\n\\r\\n    <div class=\\\"m-333 mb-1 mt-1 mr-1\\\">\\r\\n      <p class=\\\"mat-select-lable\\\"> Page Size: </p>\\r\\n      <mat-select class=\\\"mat-raised-select\\\" [(value)]=\\\"pageSize\\\" (selectionChange)=\\\"changeValue()\\\">\\r\\n        <mat-option [value]=\\\"10\\\">10</mat-option>\\r\\n        <mat-option [value]=\\\"20\\\">20</mat-option>\\r\\n      </mat-select>\\r\\n      <span fxFlex></span>\\r\\n      <button mat-raised-button class=\\\"mb-05 ml-05\\\" color=\\\"accent\\\" (click)=\\\"clientCreatePopUp()\\\">Add Client</button>\\r\\n    </div>\\r\\n\\r\\n  </mat-card-title>\\r\\n  <mat-card-content class=\\\"p-0\\\">\\r\\n\\r\\n    <ngx-datatable class=\\\"material ml-0 mr-0\\\" [rows]=\\\"clients\\\" [columnMode]=\\\"'force'\\\" [headerHeight]=\\\"50\\\"\\r\\n      [footerHeight]=\\\"50\\\" [limit]=\\\"10\\\" [rowHeight]=\\\"'auto'\\\">\\r\\n      <ngx-datatable-column name=\\\"Name\\\" [flexGrow]=\\\"1\\\" [maxWidth]=\\\"500\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          {{ row?.name }}\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Description\\\" [flexGrow]=\\\"1\\\" [maxWidth]=\\\"500\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          {{ row?.description }}\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Status\\\" [flexGrow]=\\\"1\\\" [maxWidth]=\\\"150\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          <mat-chip mat-sm-chip color=\\\"{{statusArray[row?.status].style}}\\\" [selected]=\\\"true\\\">\\r\\n            {{statusArray[row?.status].status}}</mat-chip>\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Actions\\\" [flexGrow]=\\\"1\\\" [maxWidth]=\\\"150\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\r\\n          <!-- <button mat-icon-button mat-sm-button color=\\\"primary\\\" class=\\\"mr-1\\\" (click)=\\\"navigateUserTable(row)\\\">\\r\\n            <mat-icon>list</mat-icon>\\r\\n          </button>\\r\\n          <button mat-icon-button mat-sm-button color=\\\"primary\\\" class=\\\"mr-1\\\" (click)=\\\"openPopUp(row)\\\">\\r\\n            <mat-icon>edit</mat-icon>\\r\\n          </button> -->\\r\\n          <!-- <button mat-icon-button mat-sm-button color=\\\"warn\\\" (click)=\\\"deleteItem(row)\\\">\\r\\n            <mat-icon>delete</mat-icon>\\r\\n          </button> -->\\r\\n\\r\\n          <button class=\\\"card-control\\\" mat-icon-button [matMenuTriggerFor]=\\\"menu\\\">\\r\\n            <mat-icon>more_vert</mat-icon>\\r\\n          </button>\\r\\n\\r\\n          <mat-menu #menu=\\\"matMenu\\\">\\r\\n            <button mat-menu-item (click)=\\\"navigateUserTable(row)\\\">\\r\\n              <mat-icon>list</mat-icon>View\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"clientUpdatePopUp(row)\\\">\\r\\n              <mat-icon>edit</mat-icon>Edit\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"licenseUpdatePopUp(row)\\\">\\r\\n              <mat-icon>vpn_key</mat-icon>License\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"categoryUpdatePopUp(row)\\\">\\r\\n              <mat-icon>assignment_ind</mat-icon><span>Category</span>\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"updateClientStatus(row)\\\">\\r\\n              <mat-icon>{{statusArray[row?.status].opposite.icon}}</mat-icon>{{statusArray[row?.status].opposite.value}}\\r\\n            </button>\\r\\n          </mat-menu>\\r\\n\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n    </ngx-datatable>\\r\\n\\r\\n  </mat-card-content>\\r\\n</mat-card>\\r\\n\"","import { Component, OnInit, OnDestroy } from \"@angular/core\";\r\nimport { ClientService } from \"../client.service\";\r\nimport { MatDialogRef, MatDialog, MatSnackBar } from \"@angular/material\";\r\nimport { AppLoaderService } from \"../../../shared/services/app-loader/app-loader.service\";\r\nimport { ClientUpdatePopupComponent } from \"./client-update-popup/client-update-popup.component\";\r\nimport { ClientCreatePopupComponent } from \"./client-create-popup/client-create-popup.component\";\r\nimport { Subscription, Observable } from \"rxjs\";\r\nimport { egretAnimations } from \"../../../shared/animations/egret-animations\";\r\nimport { AppErrorService } from \"../../../shared/services/app-error/app-error.service\";\r\nimport { NavigationExtras, Router } from \"@angular/router\";\r\nimport {\r\n  ClientCreateReq,\r\n  UserData,\r\n  ClientUpdateReq,\r\n  ClientLicenseData,\r\n  CountryData,\r\n  ClientData,\r\n  LicenseUpdateReq,\r\n  CategoryData,\r\n  ClientCategoryUpdateReq,\r\n  AdminRoleData,\r\n  AuthorityData\r\n} from \"app/model/ClientModel.model\";\r\nimport { authProperties } from \"./../../../shared/services/auth/auth-properties\";\r\nimport * as jwt_decode from \"jwt-decode\";\r\nimport { ClientCategoryPopupComponent } from \"./client-category-popup/client-category-popup.component\";\r\nimport { ClientLicenseUpdatePopupComponent } from \"./client-license-update-popup/client-license-update-popup.component\";\r\nimport { GlobalVariable } from \"app/shared/helpers/global-variable\";\r\n\r\n@Component({\r\n  selector: \"app-client-table\",\r\n  templateUrl: \"./client-table.component.html\",\r\n  animations: egretAnimations\r\n})\r\nexport class ClientTableComponent implements OnInit, OnDestroy {\r\n  public countries;\r\n  filteredCountries: Observable<string[]>;\r\n\r\n  public clientId;\r\n  public clients: any[];\r\n  public category: any[];\r\n  public sections: any[];\r\n  public statusArray = new GlobalVariable().common.matChip.clientStatus;\r\n\r\n  public pageSize = 10;\r\n\r\n  public getItemSub: Subscription;\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private snack: MatSnackBar,\r\n    private clientService: ClientService,\r\n    private loader: AppLoaderService,\r\n    private errDialog: AppErrorService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    let currentuser = JSON.parse(localStorage.getItem('currentUser'));\r\n    this.clientId = currentuser.userData.client.id;\r\n    this.getClients();\r\n    this.getCategory();\r\n    this.getCountry();\r\n    this.getDisplayAuthority();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.getItemSub) {\r\n      this.getItemSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  getClients() {\r\n    this.clientService.getClients().subscribe(\r\n      successResp => {\r\n        this.clients = successResp.content;\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getCategory() {\r\n    this.clientService.getCategory().subscribe(\r\n      successResp => {\r\n        this.category = successResp.content;\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getCountry() {\r\n    this.clientService.getCountry().subscribe(\r\n      successResp => {\r\n        this.countries = successResp.content;\r\n        // this.filteredCountries = this.accountSettingsForm.get(\"country\").valueChanges.pipe(\r\n        //   startWith(''),\r\n        //   map(value => this._filter(value))\r\n        // );\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getDisplayAuthority() {\r\n    this.clientService.getDisplayAuthority().subscribe(\r\n      successResp => {\r\n        this.sections = successResp.content;\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  clientUpdatePopUp(data: any = {}) {\r\n    this.clientService.getClient(data.id).subscribe(\r\n      successResp => {\r\n        let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n          ClientUpdatePopupComponent,\r\n          {\r\n            width: \"720px\",\r\n            disableClose: true,\r\n            data: { payload: successResp.content, country: this.countries }\r\n          }\r\n        );\r\n\r\n        dialogRef.afterClosed().subscribe(res => {\r\n          if (!res) {\r\n            // If user press cancel\r\n            return;\r\n          }\r\n          console.log(res);\r\n\r\n          this.loader.open();\r\n          const country: CountryData = new CountryData(res[2]);\r\n          const req: ClientUpdateReq = new ClientUpdateReq(\r\n            res[0].name,\r\n            res[0].description,\r\n            res[1],\r\n            res[0].contactNo,\r\n            res[0].addressLine1,\r\n            res[0].addressLine2,\r\n            res[0].city,\r\n            res[0].state,\r\n            res[0].zipCode,\r\n            country\r\n          );\r\n\r\n          this.clientService.updateClient(data.id, req).subscribe(\r\n            response => {\r\n              this.getClients();\r\n              this.loader.close();\r\n              this.snack.open(\"Client Updated!\", \"OK\", { duration: 4000 });\r\n            },\r\n            error => {\r\n              this.loader.close();\r\n              this.errDialog.showError(error);\r\n            }\r\n          );\r\n        });\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  clientCreatePopUp() {\r\n    let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n      ClientCreatePopupComponent,\r\n      {\r\n        width: \"900px\",\r\n        disableClose: true,\r\n        data: { category: this.category, section: this.sections }\r\n      }\r\n    );\r\n\r\n    dialogRef.afterClosed().subscribe(res => {\r\n      console.log(res);\r\n\r\n      if (!res) {\r\n        // If user press cancel\r\n        return;\r\n      }\r\n\r\n      this.loader.open();\r\n\r\n      let authorities: AuthorityData[] = [];\r\n      res[5].forEach(element => {\r\n        authorities.push(new AuthorityData(element));\r\n      });\r\n      let role: AdminRoleData = new AdminRoleData('Admin role', 'Admin description', authorities);\r\n\r\n      let users: UserData[] = [];\r\n      users.push(new UserData(res[2].username, res[2].email, role));\r\n\r\n      let license: ClientLicenseData = new ClientLicenseData(\r\n        res[3].tagCount,\r\n        res[3].userCount,\r\n        res[3].communityCount,\r\n        res[3].feedbackCount,\r\n        res[3].eventCount,\r\n        res[3].promoCount\r\n      );\r\n\r\n      let categories: CategoryData[] = [];\r\n      res[4].forEach(element => {\r\n        categories.push(new CategoryData(element.id));\r\n      });\r\n\r\n      const req: ClientCreateReq = new ClientCreateReq(\r\n        res[0].name,\r\n        res[0].description,\r\n        res[1],\r\n        users,\r\n        categories,\r\n        license\r\n      );\r\n\r\n      this.clientService.addClient(req).subscribe(\r\n        response => {\r\n          this.getClients();\r\n          this.clients = response;\r\n          this.loader.close();\r\n          this.snack.open(\"New Client added !\", \"OK\", { duration: 4000 });\r\n        },\r\n        error => {\r\n          this.loader.close();\r\n          this.errDialog.showError(error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  categoryUpdatePopUp(data: any = {}) {\r\n    this.clientService.getClientCategories(data.id).subscribe(\r\n      successResp => {\r\n        console.log(successResp);\r\n\r\n        this.clientService.getClientCategories(data.id).subscribe(successResp => {\r\n          console.log(successResp);\r\n\r\n          let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n            ClientCategoryPopupComponent,\r\n            {\r\n              width: \"720px\",\r\n              disableClose: true,\r\n              data: { category: this.category, selectedCategory: successResp }\r\n            }\r\n          );\r\n          dialogRef.afterClosed().subscribe(res => {\r\n            if (!res) {\r\n              // If user press cancel\r\n              return;\r\n            }\r\n            console.log(res);\r\n\r\n            let categories: CategoryData[] = [];\r\n            res.forEach(element => {\r\n              categories.push(new CategoryData(element.id));\r\n            });\r\n\r\n\r\n            const req: ClientCategoryUpdateReq = new ClientCategoryUpdateReq(categories);\r\n\r\n            this.loader.open();\r\n            this.clientService.updateClientCategory(this.clientId, req).subscribe(\r\n              response => {\r\n                this.loader.close();\r\n                this.snack.open(\"Client Category Updated!\", \"OK\", { duration: 4000 });\r\n              },\r\n              error => {\r\n                this.loader.close();\r\n                this.errDialog.showError({\r\n                  title: \"Error\",\r\n                  status: error.status,\r\n                  type: \"http_error\"\r\n                });\r\n              }\r\n            );\r\n\r\n          });\r\n\r\n          // this.loader.open();\r\n          // const country: CountryData = new CountryData('a65715e919d0995f361360cf0b8c2c03', 'Åland Islands', 'AX');\r\n          // const req: ClientUpdateReq = new ClientUpdateReq(\r\n          //   res[0].name, res[0].description, res[1], res[0].contactNo, res[0].addressLine1, res[0].addressLine2, res[0].city, res[0].state, res[0].zipCode, country\r\n          // );\r\n\r\n          // this.clientService.updateClient(data.id, req).subscribe(\r\n          //   response => {\r\n          //     this.getClients();\r\n          //     this.loader.close();\r\n          //     this.snack.open(\"Client Updated!\", \"OK\", { duration: 4000 });\r\n          //   },\r\n          //   error => {\r\n          //     this.loader.close();\r\n          //     this.errDialog.showError(error);\r\n          //   }\r\n          // );\r\n        });\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  licenseUpdatePopUp(data: any = {}) {\r\n    this.clientService.getClient(data.id).subscribe(\r\n      successResp => {\r\n        let resClient = successResp.content;\r\n\r\n        let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n          ClientLicenseUpdatePopupComponent,\r\n          {\r\n            width: \"720px\",\r\n            disableClose: true,\r\n            data: { payload: resClient }\r\n          }\r\n        );\r\n        dialogRef.afterClosed().subscribe(res => {\r\n          if (!res) {\r\n            // If user press cancel\r\n            return;\r\n          }\r\n          console.log(res);\r\n\r\n          this.loader.open();\r\n\r\n          let clientData: ClientData = new ClientData(resClient.id);\r\n          const req: LicenseUpdateReq = new LicenseUpdateReq(\r\n            res.tagCount,\r\n            res.userCount,\r\n            res.communityCount,\r\n            res.feedbackCount,\r\n            res.eventCount,\r\n            res.promoCount,\r\n            clientData\r\n          );\r\n\r\n          this.clientService\r\n            .updateClientLicense(resClient.license.id, req)\r\n            .subscribe(\r\n              response => {\r\n                this.getClients();\r\n                this.clients = response;\r\n                this.loader.close();\r\n                this.snack.open(\"License Data Updated !\", \"OK\", {\r\n                  duration: 4000\r\n                });\r\n              },\r\n              error => {\r\n                this.loader.close();\r\n                this.errDialog.showError(error);\r\n              }\r\n            );\r\n        });\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  updateClientStatus(data: any = {}) {\r\n    this.clientService.updateClientStatus(data.id).subscribe(\r\n      successResp => {\r\n        console.log(successResp.content);\r\n        this.getClients();\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  navigateUserTable(res: any) {\r\n\r\n    // let extraParam: NavigationExtras = {\r\n    //   queryParams: {\r\n    //     clientId: res.id,\r\n    //     clientName: res.name\r\n    //   }\r\n    // };\r\n    // this.router.navigate([\"clients/user/user-table\"], extraParam);\r\n    // this.router.navigate([\"clients/user/user-table;clientId=\" + res.id]);\r\n\r\n    this.clientService.getClient(res.id).subscribe(\r\n      successResp => {\r\n        console.log(successResp.content);\r\n        localStorage.setItem(\"currentClient\", JSON.stringify(successResp.content));\r\n        this.router.navigate([\"clients/user/user-table\"]);\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n\r\n  }\r\n}\r\n\r\n// Raveen : Buddi's code : 2019/04/11\r\n// this.clientService.getClient(res.id).subscribe(\r\n//     successResp => {\r\n//       console.log(successResp.content);\r\n//       localStorage.setItem(\r\n//         \"currentClient\",\r\n//         JSON.stringify(successResp.content)\r\n//       );\r\n//       this.router.navigate([\"clients/user/user-table\"]);\r\n//     },\r\n//     error => {\r\n//       this.errDialog.showError(error);\r\n//     }\r\n//   );\r\n","module.exports = \"<form [formGroup]=\\\"itemForm\\\" (ngSubmit)=\\\"submit()\\\"  id=\\\"client-update\\\">\\r\\n  <mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n    <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n      <span class=\\\"title dialog-title\\\">Update Client</span>\\r\\n    </div>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content class=\\\"mat-typography mt-1\\\">\\r\\n\\r\\n\\r\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n\\r\\n      <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"clientName\\\" [formControl]=\\\"itemForm.controls['name']\\\" letterOnly placeholder=\\\"Name\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <textarea matInput name=\\\"description\\\" placeholder=\\\"Description\\\"\\r\\n            [formControl]=\\\"itemForm.controls['description']\\\"></textarea>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"contactNo\\\" [formControl]=\\\"itemForm.controls['contactNo']\\\"  placeholder=\\\"Contact No\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"addressLine1\\\" [formControl]=\\\"itemForm.controls['addressLine1']\\\"\\r\\n            placeholder=\\\"Address Line 1\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"addressLine2\\\" [formControl]=\\\"itemForm.controls['addressLine2']\\\"\\r\\n            placeholder=\\\"Address Line 2\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"city\\\" [formControl]=\\\"itemForm.controls['city']\\\" letterOnly placeholder=\\\"City\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"state\\\" [formControl]=\\\"itemForm.controls['state']\\\" positiveNumberAndLetterOnly placeholder=\\\"State\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"zipCode\\\" [formControl]=\\\"itemForm.controls['zipCode']\\\" positiveNumberOnly placeholder=\\\"ZipCode\\\" maxlength=\\\"6\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <!-- <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"example-full-width\\\">\\r\\n          <input matInput [formControl]=\\\"itemForm.controls['country']\\\" placeholder=\\\"Country\\\" [matAutocomplete]=\\\"auto\\\" (blur)=\\\"onBlurCountry()\\\">\\r\\n          <mat-autocomplete autoActiveFirstOption #auto=\\\"matAutocomplete\\\">\\r\\n            <mat-option *ngFor=\\\"let option of filteredOptions | async\\\" [value]=\\\"option.name\\\">\\r\\n              {{option.name}}\\r\\n            </mat-option>\\r\\n          </mat-autocomplete>\\r\\n        </mat-form-field>\\r\\n      </div> -->\\r\\n\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n          <mat-form-field class=\\\"full-width\\\">\\r\\n            <input matInput [formControl]=\\\"itemForm.controls['country']\\\" placeholder=\\\"Country\\\"\\r\\n              [matAutocomplete]=\\\"auto\\\" (blur)=\\\"onBlurCountry()\\\">\\r\\n            <mat-autocomplete autoActiveFirstOption #auto=\\\"matAutocomplete\\\">\\r\\n              <mat-option *ngFor=\\\"let option of filteredCountries | async\\\" [value]=\\\"option.name\\\">\\r\\n                {{option.name}}\\r\\n              </mat-option>\\r\\n            </mat-autocomplete>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n\\r\\n\\r\\n      <!-- --------- hidden file input --------- -->\\r\\n      <input (change)=\\\"onSelectFile($event)\\\" #productImgs type=\\\"file\\\" style=\\\"display: none\\\"\\r\\n        [formControl]=\\\"itemForm.controls['profilePic']\\\" base-sixty-four-input>\\r\\n\\r\\n\\r\\n      <!-- --------- file input click button --------- -->\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <div layout-margin layout-padding>\\r\\n          <button mat-raised-button class=\\\"mr-1 mb-1\\\" (click)=\\\"productImgs.click()\\\" type=\\\"button\\\">\\r\\n            Browse Images</button>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <!-- --------- start images preview container --------- -->\\r\\n      <div id=\\\"client_update_image_preview_container\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\" layout-align=\\\"center\\\">\\r\\n\\r\\n        <!-- --------- start card --------- -->\\r\\n        <div [@animate]=\\\"{value:'*',params:{y:'50px',delay:'300ms'}}\\\" *ngIf=\\\"url\\\" fxFlex=\\\"100\\\" style=\\\"display: flex;\\\">\\r\\n          <mat-card class=\\\"p-0\\\">\\r\\n\\r\\n            <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n              <span fxFlex></span>\\r\\n              <button type=\\\"button\\\" class=\\\"close p-1\\\" aria-label=\\\"Close\\\" (click)=\\\"removeSelectedImg()\\\">\\r\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n              </button>\\r\\n            </div>\\r\\n\\r\\n            <img [src]=\\\"url\\\">\\r\\n          </mat-card>\\r\\n        </div>\\r\\n        <!-- --------- end card --------- -->\\r\\n\\r\\n      </div>\\r\\n      <!-- --------- end images preview container --------- -->\\r\\n\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </mat-dialog-content>\\r\\n\\r\\n  <mat-card-footer>\\r\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n      <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n        <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"itemForm.invalid || !url\\\">Save</button>\\r\\n        <span fxFlex></span>\\r\\n        <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </mat-card-footer>\\r\\n\\r\\n</form>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatSnackBar, MatAutocompleteSelectedEvent } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { startWith, map } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\nimport { CountryDB } from \"../../../../shared/helpers/countries\";\r\nimport { egretAnimations } from \"../../../../shared/animations/egret-animations\";\r\nimport { ClientService } from '../../client.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-client-update-popup',\r\n  templateUrl: './client-update-popup.component.html',\r\n  animations: egretAnimations,\r\n})\r\nexport class ClientUpdatePopupComponent implements OnInit {\r\n\r\n  // public countryDB: CountryDB = new CountryDB();\r\n  // public countries = this.countryDB.countries;\r\n\r\n  public countries;\r\n  filteredCountries: Observable<string[]>;\r\n  public selectedCountry;\r\n\r\n  public itemForm: FormGroup;\r\n  public formStatus = false;\r\n  public url;\r\n  public imgBaseURL : string;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<ClientUpdatePopupComponent>,\r\n    public clientService : ClientService,\r\n    private fb: FormBuilder,\r\n    public snackBar: MatSnackBar\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.imgBaseURL = this.clientService.imageUrl;\r\n    this.countries = this.data.country;\r\n    console.log(this.countries);\r\n\r\n    this.buildItemForm(this.data.payload)\r\n\r\n    this.filteredCountries = this.itemForm.get(\"country\").valueChanges.pipe(\r\n      startWith(''),\r\n      map(value => this._filter(value))\r\n    );\r\n\r\n  }\r\n\r\n  buildItemForm(item) {\r\n\r\n    console.log(item);\r\n\r\n    let country = null;\r\n    if (item.country) {\r\n      country = item.country.name;\r\n      this.selectedCountry = item.country.id;\r\n    }\r\n\r\n    this.itemForm = this.fb.group({\r\n      name: [item.name || '', Validators.required],\r\n      description: [item.description || '', Validators.required],\r\n      profilePic: [''],\r\n      contactNo: [item.primaryContactNo || '', Validators.required],\r\n      addressLine1: [item.addressLine1 || '', Validators.required],\r\n      addressLine2: [item.addressLine2 || '', Validators.required],\r\n      city: [item.city || '', Validators.required],\r\n      state: [item.state || '', Validators.required],\r\n      zipCode: [item.zipCode || '', Validators.required],\r\n      country: [country || '', Validators.required]\r\n    })\r\n\r\n    getBase64ImageFromUrl(this.imgBaseURL + item.id)\r\n      .then(result => this.url = result)\r\n      .catch(err => console.error(err));\r\n  }\r\n\r\n  private _filter(value: string): any {\r\n    const filterValue = value.toLowerCase();\r\n    return this.countries.filter(option => option.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n  submit() {\r\n    let forms = [this.itemForm.value, this.url, this.selectedCountry];\r\n    this.dialogRef.close(forms)\r\n  }\r\n\r\n  // File uploader validation and upload\r\n  onSelectFile(event) {\r\n\r\n    if (event.target.files && event.target.files[0]) {\r\n\r\n      let file = event.dataTransfer ? event.dataTransfer.files[0] : event.target.files[0];\r\n      let pattern = /image-*/;\r\n      let reader = new FileReader();\r\n      if (!file.type.match(pattern)) {\r\n        this.snackBar.open(\r\n          \"Invalid Format!\",\r\n          \"close\",\r\n          { duration: 2000 }\r\n        );\r\n        return;\r\n      }\r\n      reader.onload = (event: any) => {\r\n        this.url = event.target.result;\r\n        console.log(this.url);\r\n\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n\r\n    } else {\r\n      this.snackBar.open(\r\n        \"Can't upload\",\r\n        \"close\",\r\n        { duration: 2000 }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  removeSelectedImg() {\r\n    this.url = null;\r\n  }\r\n\r\n\r\n  onBlurCountry(): void {\r\n    let value = this.itemForm.get(\"country\").value;\r\n    let status = true;\r\n    this.countries.forEach(element => {\r\n      if (element.name === value) {\r\n        this.selectedCountry = element.id;\r\n        status = false;\r\n      }\r\n    });\r\n\r\n    if (status) {\r\n      this.selectedCountry = null;\r\n      this.itemForm.get(\"country\").setValue(\"\");\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\nasync function getBase64ImageFromUrl(imageUrl) {\r\n  var res = await fetch(imageUrl);\r\n  var blob = await res.blob();\r\n\r\n  return new Promise((resolve, reject) => {\r\n    var reader = new FileReader();\r\n    reader.addEventListener(\"load\", function () {\r\n      resolve(reader.result);\r\n    }, false);\r\n\r\n    reader.onerror = () => {\r\n      return reject(this);\r\n    };\r\n    reader.readAsDataURL(blob);\r\n  })\r\n}\r\n","module.exports = \"<mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n    <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n        <span class=\\\"title dialog-title\\\">{{data.title}}</span>\\r\\n    </div>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"mat-typography mt-1\\\" style=\\\"overflow: unset; max-height: unset;\\\">\\r\\n    <form [formGroup]=\\\"roleFormGroup\\\">\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n                <mat-form-field class=\\\"full-width\\\">\\r\\n                    <input matInput required formControlName=\\\"name\\\" placeholder=\\\"Role Name\\\">\\r\\n                </mat-form-field>\\r\\n            </div>\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n                <mat-form-field class=\\\"full-width\\\">\\r\\n                    <input matInput required formControlName=\\\"description\\\" placeholder=\\\"Description\\\">\\r\\n                </mat-form-field>\\r\\n            </div>\\r\\n        </div>\\r\\n    </form>\\r\\n\\r\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n        <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n            <span>Select Role Authorities</span>\\r\\n        </div>\\r\\n        <div fxFlex=\\\"100\\\" class=\\\"pr-1\\\">\\r\\n            <mat-tab-group *ngIf=\\\"this.predefined !== 'true'\\\">\\r\\n                <div *ngFor=\\\"let module of this.componentList; let i = index\\\">\\r\\n                    <mat-tab label=\\\"{{module.name}}\\\" *ngIf=\\\"module.authorities.length !== 0\\\">\\r\\n                        <form [formGroup]=\\\"authoritiesFormGroup\\\">\\r\\n                            <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" class=\\\"pt-2\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n                                <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\" style=\\\"padding-top: 5px;\\\"\\r\\n                                    *ngFor=\\\"let item of module.authorities\\\">\\r\\n                                    <mat-checkbox [checked]=\\\"item.checked\\\"\\r\\n                                        (change)=\\\"onChangeUserRole(item, $event.checked)\\\" class=\\\"full-width\\\"\\r\\n                                        value=\\\"{{item.code}}\\\">{{item.name}}</mat-checkbox>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </form>\\r\\n                    </mat-tab>\\r\\n                </div>\\r\\n                <!-- <div *ngFor=\\\"let module of this.componentList; let i = index\\\">\\r\\n          <mat-tab label=\\\"{{module.moduleName}}\\\">\\r\\n            <form [formGroup]=\\\"authoritiesFormGroup\\\">\\r\\n              <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" style=\\\"padding-top: 5px;\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n                <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\" style=\\\"padding-top: 5px;\\\" *ngFor=\\\"let item of module.data\\\">\\r\\n                  <mat-checkbox [checked]=\\\"item.checked\\\" (change)=\\\"onChange(item.id, module.moduleName, item.code, $event.checked)\\\" class=\\\"full-width\\\" value=\\\"{{item.code}}\\\">{{item.name}}</mat-checkbox>\\r\\n                </div>\\r\\n              </div>\\r\\n            </form>\\r\\n          </mat-tab>\\r\\n        </div> -->\\r\\n            </mat-tab-group>\\r\\n            <mat-tab-group *ngIf=\\\"this.predefined === 'true'\\\">\\r\\n                <mat-tab label=\\\"Display Authorities\\\">\\r\\n                    <form [formGroup]=\\\"authoritiesFormGroup\\\">\\r\\n                        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" class=\\\"pt-2\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n                            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\" style=\\\"padding-top: 5px;\\\"\\r\\n                                *ngFor=\\\"let item of allDisplayAuthority\\\">\\r\\n                                <mat-checkbox [checked]=\\\"item.checked\\\"\\r\\n                                    (change)=\\\"onChangeAdminRole(item, $event.checked)\\\" class=\\\"full-width\\\"\\r\\n                                    value=\\\"{{item.code}}\\\">{{item.name}}</mat-checkbox>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </form>\\r\\n                </mat-tab>\\r\\n            </mat-tab-group>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</mat-dialog-content>\\r\\n<mat-dialog-actions align=\\\"end\\\">\\r\\n    <button mat-raised-button color=\\\"accent\\\" [disabled]=\\\"this.newDisplayAuthority.length == 0 || roleFormGroup.invalid\\\"\\r\\n        (click)=\\\"submit()\\\" *ngIf=\\\"this.predefined === 'true'\\\">Save</button>\\r\\n    <button mat-raised-button color=\\\"accent\\\" [disabled]=\\\"this.selectedAuthorities.length == 0 || roleFormGroup.invalid\\\"\\r\\n        (click)=\\\"submit()\\\" *ngIf=\\\"this.predefined !== 'true'\\\">Save</button>\\r\\n    <span fxFlex></span>\\r\\n    <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n</mat-dialog-actions>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup, FormArray, FormControl } from '@angular/forms';\r\nimport { ClientService } from '../../../../client.service';\r\nimport { ClientData, AuthorityData } from 'app/model/ClientModel.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-role-table-popup',\r\n  templateUrl: './role-table-popup.component.html'\r\n})\r\nexport class RoleTablePopupComponent implements OnInit {\r\n  //Raveen : need to implement a custom directive for the pattern validation\r\n  //public codeRegex = '/^-?[0-9]+(\\.[0-9]*){0,1}$/g';\r\n\r\n  public clientID;\r\n  public predefined;\r\n  public isNew;\r\n\r\n  public allAuthority = [];\r\n  public allDisplayAuthority = [];\r\n  public adminRoleDisplayAuthority = [];\r\n  public newDisplayAuthority = [];\r\n  public removedDisplayAuthority = [];\r\n  public commonAndAdminAuthorities = [];\r\n\r\n  public selectedAuthorities = [];\r\n  public componentList = [];\r\n  public adminComponentList = [];\r\n\r\n\r\n  public authoritiesFormGroup: FormGroup;\r\n  public roleFormGroup: FormGroup;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<RoleTablePopupComponent>,\r\n    private fb: FormBuilder,\r\n    private clientService: ClientService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    console.log(this.data);\r\n\r\n    this.clientID = this.data.clientID;\r\n    this.predefined = this.data.roleData.predefined;\r\n    this.isNew = this.data.roleData.isNew;\r\n    this.commonAndAdminAuthorities = this.data.commonAndAdminAuthorities;\r\n\r\n    if (this.isNew) {\r\n      this.createUserAuthorityComponentList(this.data.adminRoleAuthorities);\r\n    } else {\r\n      this.formatRoleAuthority(this.data.roleData);\r\n    }\r\n\r\n    this.buildRoleForms(this.data.roleData);\r\n    this.buildauthoritiesForm();\r\n  }\r\n\r\n\r\n  formatRoleAuthority(data) {\r\n    let roleData = JSON.parse(JSON.stringify(data));\r\n    if (this.predefined === 'true') {\r\n      this.createAdminAuthorityComponentList(this.data.adminRoleAuthorities);\r\n    } else {\r\n      roleData.authorities.forEach(authority => {\r\n        if (authority.type === 'U' || authority.type === 'D') {\r\n          this.selectedAuthorities.push(authority.id);\r\n        }\r\n      });\r\n      this.createUserAuthorityComponentList(this.data.adminRoleAuthorities);\r\n    }\r\n  }\r\n\r\n  createUserAuthorityComponentList(data) {\r\n    const roleData = JSON.parse(JSON.stringify(data));\r\n    let displayAuthoritySection = { name: \"Display Authority\", authorities: [] };\r\n\r\n    // I had to foreach section twice for update selectedAuthorities and remove unnecessary authorities\r\n    // -------------------------------------------------------------------------------------------------------------\r\n\r\n    roleData.forEach(section => {\r\n      section.authorities.forEach((authority) => {\r\n        if (authority.type === 'D' || authority.type === 'U') {\r\n          let status = false;\r\n          if (this.selectedAuthorities.includes(authority.id)) {\r\n            status = true;\r\n          }\r\n          authority['checked'] = status;\r\n        }\r\n      });\r\n\r\n      section.authorities.forEach((authority, index) => {\r\n        if (authority.type === 'D') {\r\n          displayAuthoritySection.authorities.push(authority);\r\n          section.authorities.splice(index, 1);\r\n        } else if (authority.type !== 'D' && authority.type !== 'U') {\r\n          section.authorities.splice(index, 1);\r\n        }\r\n      });\r\n    });\r\n\r\n    // roleData.forEach(section => {\r\n    //   section.authorities.forEach((authority, index) => {\r\n    //     if (authority.type === 'D' || authority.type === 'U') {\r\n    //       let status = false;\r\n    //       if (this.selectedAuthorities.includes(authority.id)) {\r\n    //         status = true;\r\n    //       }\r\n    //       authority['checked'] = status;\r\n\r\n    //       if (authority.type === 'D') {\r\n    //         displayAuthoritySection.authorities.push(authority);\r\n    //         section.authorities.splice(index, 1);\r\n    //       }\r\n    //     } else {\r\n    //       console.log(authority);\r\n    //       section.authorities.splice(index, 1);\r\n    //     }\r\n    //   });\r\n    // });\r\n    // -------------------------------------------------------------------------------------------------------------\r\n\r\n    roleData.splice(0, 0, displayAuthoritySection);\r\n    this.componentList = roleData;\r\n    console.log('-------------------------------------- componentList', this.componentList);\r\n  }\r\n\r\n  createAdminAuthorityComponentList(data) {\r\n    let roleData = JSON.parse(JSON.stringify(data));\r\n\r\n    this.clientService.getAllUserAuthority().subscribe(response => {\r\n      this.allAuthority = response.content;\r\n\r\n      this.allAuthority.forEach(section => {\r\n        section.authorities.forEach(authority => {\r\n\r\n          if (authority.type === 'D' && authority.code !== 'cm-a') {\r\n            authority['sectionId'] = section.id;\r\n            this.allDisplayAuthority.push(authority)\r\n          }\r\n        });\r\n      });\r\n\r\n      roleData.forEach(section => {\r\n        section.authorities.forEach(authority => {\r\n          if (authority.type === 'D') {\r\n            authority['sectionId'] = section.id;\r\n            this.adminRoleDisplayAuthority.push(authority);\r\n            this.newDisplayAuthority.push(authority);\r\n          }\r\n        });\r\n      });\r\n\r\n      this.allDisplayAuthority.forEach(authority => {\r\n        let status = false;\r\n        const index = this.adminRoleDisplayAuthority.findIndex(x => x.id === authority.id);\r\n        if (index >= 0) {\r\n          status = true;\r\n        }\r\n        authority['checked'] = status;\r\n      });\r\n\r\n    });\r\n\r\n    this.adminComponentList = this.allDisplayAuthority;\r\n    console.log('-------------------------------------- adminComponentList', this.adminComponentList);\r\n\r\n  }\r\n\r\n\r\n\r\n  /*\r\n  * Build New Role Form Group\r\n  * Created by Prasad Kumara\r\n  * 14/02/2019\r\n  */\r\n  buildRoleForms(item) {\r\n    this.roleFormGroup = this.fb.group({\r\n      name: [item.name || '', Validators.required],\r\n      description: [item.description || '', Validators.required]\r\n    });\r\n  }\r\n\r\n  /*\r\n  * Create New User Role Authorities Form Group\r\n  * Created by Prasad Kumara\r\n  * 14/02/2019\r\n  */\r\n  buildauthoritiesForm() {\r\n    this.authoritiesFormGroup = this.fb.group({\r\n      data: this.fb.array([])\r\n    });\r\n  }\r\n\r\n\r\n  submit() {\r\n\r\n    if (this.predefined === 'true') {\r\n\r\n      // update removedDisplayAuthority array -----------------------------------------------------------------\r\n      this.adminRoleDisplayAuthority.forEach(authority => {\r\n        if (this.newDisplayAuthority.findIndex(x => x.id === authority.id) < 0) {\r\n          this.removedDisplayAuthority.push(new AuthorityData(authority.id));\r\n        }\r\n      });\r\n      // ------------------------------------------------------------------------------------------------------\r\n\r\n\r\n      // Add Authorities to selectedAuthorities array by selected Display Authorities -------------------------\r\n      this.newDisplayAuthority.forEach(newAuthority => {\r\n        this.selectedAuthorities.push(newAuthority.id);\r\n        this.allAuthority.forEach(section => {\r\n          if (newAuthority.sectionId === section.id) {\r\n            section.authorities.forEach(authority => {\r\n              if (!this.selectedAuthorities.includes(authority.id)) {\r\n                this.selectedAuthorities.push(authority.id);\r\n              }\r\n            });\r\n          }\r\n        });\r\n      });\r\n      // ------------------------------------------------------------------------------------------------------\r\n\r\n\r\n      // Add Admin And Common Authorities ---------------------------------------------------------------------\r\n      this.commonAndAdminAuthorities.forEach(authority => {\r\n        this.selectedAuthorities.push(authority.id);\r\n      });\r\n      // ------------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n    } else {\r\n\r\n      // Add Common Authorities --------------------------------------------------------------------------------\r\n      this.commonAndAdminAuthorities.forEach(authority => {\r\n        if (authority.type === 'C') {\r\n          this.selectedAuthorities.push(authority.id);\r\n        }\r\n      });\r\n      // ------------------------------------------------------------------------------------------------------\r\n\r\n    }\r\n\r\n\r\n    // create selected authorities (AuthorityData) array ------------------------------------------------------\r\n    let authorities: AuthorityData[] = [];\r\n    this.selectedAuthorities.forEach(authorityID => {\r\n      authorities.push(new AuthorityData(authorityID));\r\n    });\r\n    // --------------------------------------------------------------------------------------------------------\r\n\r\n\r\n    // create req ---------------------------------------------------------------------------------------------\r\n    const roleFormValue = this.roleFormGroup.value;\r\n    let roleData = {};\r\n    if (this.isNew) {\r\n      roleData = {\r\n        name: roleFormValue.name,\r\n        description: roleFormValue.description,\r\n        authorities: authorities,\r\n        client: new ClientData(this.clientID)\r\n      };\r\n    } else {\r\n      roleData = {\r\n        name: roleFormValue.name,\r\n        description: roleFormValue.description,\r\n        authorities: authorities,\r\n        removedAuthorities: this.removedDisplayAuthority,\r\n        localizedName: \"\"\r\n      };\r\n    }\r\n    // --------------------------------------------------------------------------------------------------------\r\n\r\n    console.log(roleData);\r\n\r\n    this.dialogRef.close(roleData);\r\n  }\r\n\r\n  onChangeUserRole(authority, isChecked: boolean) {\r\n    const dataArray = <FormArray>this.authoritiesFormGroup.controls.data;\r\n    // console.log('------------------------------------------ dataArray', dataArray);\r\n\r\n    if (isChecked) {\r\n      dataArray.push(new FormControl(authority.code));\r\n      this.selectedAuthorities.push(authority.id);\r\n    } else {\r\n      const index = dataArray.controls.findIndex(x => x.value === authority.code);\r\n      dataArray.removeAt(index);\r\n      const i = this.selectedAuthorities.findIndex(y => y === authority.id);\r\n      this.selectedAuthorities.splice(i, 1);\r\n    }\r\n  }\r\n\r\n  onChangeAdminRole(authority, isChecked: boolean) {\r\n    const dataArray = <FormArray>this.authoritiesFormGroup.controls.data;\r\n    // console.log('------------------------------------------ dataArray', dataArray);\r\n\r\n    if (isChecked) {\r\n      dataArray.push(new FormControl(authority.code));\r\n      // this.selectedAuthorities.push(authority.id);\r\n      this.newDisplayAuthority.push(authority);\r\n    } else {\r\n      const index = dataArray.controls.findIndex(x => x.value === authority.code);\r\n      dataArray.removeAt(index);\r\n      const i = this.newDisplayAuthority.findIndex(y => y.id === authority.id);\r\n      this.newDisplayAuthority.splice(i, 1);\r\n      // const j = this.selectedAuthorities.findIndex(y => y === authority.id);\r\n      // this.selectedAuthorities.splice(j, 1);\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"<mat-card class=\\\"p-0\\\" [@animate]=\\\"{value:'*',params:{y:'50px',delay:'300ms'}}\\\">\\r\\n  <mat-card-title>\\r\\n    <div class=\\\"card-title-text\\\">Roles</div>\\r\\n    <mat-divider></mat-divider>\\r\\n\\r\\n    <div class=\\\"m-333\\\">\\r\\n      <button mat-raised-button class=\\\"mb-05 ml-05\\\" color=\\\"primary\\\" (click)=\\\"openPopUp({}, true)\\\"  [roleAuthorization]=\\\"'pur-c'\\\">Add Role</button>\\r\\n      <span fxFlex></span>\\r\\n      <p class=\\\"mat-select-lable\\\"> Page Size: </p>\\r\\n      <mat-select class=\\\"mat-raised-select\\\" [(value)]=\\\"pageSize\\\" (selectionChange)=\\\"changeValue()\\\">\\r\\n        <mat-option [value]=\\\"10\\\">10</mat-option>\\r\\n        <mat-option [value]=\\\"20\\\">20</mat-option>\\r\\n      </mat-select>\\r\\n    </div>\\r\\n\\r\\n  </mat-card-title>\\r\\n  <mat-card-content class=\\\"p-0\\\">\\r\\n\\r\\n    <ngx-datatable class=\\\"material ml-0 mr-0\\\" [rows]=\\\"roles\\\" [columnMode]=\\\"'flex'\\\" [headerHeight]=\\\"50\\\"\\r\\n      [footerHeight]=\\\"50\\\" [limit]=\\\"10\\\" [rowHeight]=\\\"'auto'\\\">\\r\\n      <ngx-datatable-column name=\\\"Role Name\\\" [flexGrow]=\\\"1\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          {{ row?.name }}\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n      <!-- <ngx-datatable-column name=\\\"Role Description\\\" [flexGrow]=\\\"2\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          {{ row?.description }}\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Last Modified Date\\\" [flexGrow]=\\\"2\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          {{ row?.lastModifiedDate }}\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column> -->\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Actions\\\" [flexGrow]=\\\"1\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          <!-- <button mat-icon-button mat-sm-button color=\\\"primary\\\" class=\\\"mr-1\\\" (click)=\\\"editRole(row)\\\">\\r\\n            <mat-icon>edit</mat-icon>\\r\\n          </button>\\r\\n          <button mat-icon-button mat-sm-button color=\\\"warn\\\" (click)=\\\"deleteRole(row)\\\">\\r\\n            <mat-icon>delete</mat-icon>\\r\\n          </button> -->\\r\\n\\r\\n          <span fxFlex></span>\\r\\n          <button class=\\\"card-control\\\" mat-icon-button [matMenuTriggerFor]=\\\"menu\\\">\\r\\n            <mat-icon>more_vert</mat-icon>\\r\\n          </button>\\r\\n          <mat-menu #menu=\\\"matMenu\\\">\\r\\n            <button mat-menu-item (click)=\\\"editRole(row)\\\" [roleAuthorization]=\\\"'pur-u'\\\">\\r\\n              <mat-icon>edit</mat-icon>Edit\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"deleteRole(row)\\\" [roleAuthorization]=\\\"'pur-d'\\\">\\r\\n              <mat-icon>delete</mat-icon>Delete\\r\\n            </button>\\r\\n          </mat-menu>\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n    </ngx-datatable>\\r\\n\\r\\n\\r\\n    <!-- <table class=\\\"table table-hover\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th class=\\\"pl-1\\\">Feedback Topic</th>\\r\\n          <th>Feedback Type</th>\\r\\n          <th>Start Date</th>\\r\\n          <th>End Date</th>\\r\\n          <th width=\\\"150px\\\" class=\\\"\\\">Actions</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let row of rows;\\\">\\r\\n          <td class=\\\"pt-1 pb-1 pl-1\\\">{{row?.topic}}</td>\\r\\n          <td class=\\\"pt-1 pb-1\\\">{{row?.type =='P' ? 'Product' : 'E Vote'}}</td>\\r\\n          <td class=\\\"pt-1 pb-1\\\">{{row?.startDate}}</td>\\r\\n          <td class=\\\"pt-1 pb-1\\\">{{row?.endDate}}</td>\\r\\n          <td class=\\\"pt-1 pb-1 pr-1\\\">\\r\\n            <div class=\\\"pb-1\\\">\\r\\n              <div class=\\\"col-lg-4 col-sm-4 col-xs-4\\\">\\r\\n                <button mat-icon-button mat-sm-button (click)='navigateSurveyBuilder(row)' color=\\\"primary\\\" class=\\\"\\\">\\r\\n                  <mat-icon>view_headline</mat-icon>\\r\\n                </button>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-4 col-sm-4 col-xs-4\\\">\\r\\n                <button mat-icon-button mat-sm-button (click)='openSurveyPopup(row,false)' color=\\\"primary\\\" class=\\\"\\\">\\r\\n                  <mat-icon>edit</mat-icon>\\r\\n                </button>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-4 col-sm-4 col-xs-4\\\">\\r\\n                <button mat-icon-button mat-sm-button (click)=\\\"deleteSurvey(row)\\\" color=\\\"warn\\\" class=\\\"\\\">\\r\\n                  <mat-icon>delete</mat-icon>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n      <tfoot>\\r\\n        <tr>\\r\\n          <td class=\\\"pt-1 pb-1 pl-1\\\">\\r\\n            <div class=\\\"pagination\\\">{{totalRecords}} Total</div>\\r\\n          </td>\\r\\n          <td colspan=\\\"4\\\">\\r\\n\\r\\n            <nav aria-label=\\\"Page navigation example\\\">\\r\\n              <ul class=\\\"pagination\\\" *ngIf=\\\"totalPages.length > 1\\\">\\r\\n                <li class=\\\"page-item\\\" [ngClass]=\\\"{'disabled':pageNumber <= 1}\\\">\\r\\n                  <a class=\\\"page-link\\\" (click)=\\\"this.getPageSurvey(pageNumber-1);\\\" aria-label=\\\"Previous\\\">\\r\\n                    <span aria-hidden=\\\"true\\\">&laquo;</span>\\r\\n                    <span class=\\\"sr-only\\\">Previous</span>\\r\\n                  </a>\\r\\n                </li>\\r\\n                <li class=\\\"page-item\\\" *ngFor=\\\"let page of totalPages\\\" [ngClass]=\\\"{'active':pageNumber === page}\\\">\\r\\n                  <a class=\\\"page-link\\\" (click)=\\\"this.getPageSurvey(page);\\\">\\r\\n                    {{page}}\\r\\n                  </a>\\r\\n                </li>\\r\\n                <li class=\\\"page-item\\\" [ngClass]=\\\"{'disabled':pageNumber >= totalPages.length}\\\">\\r\\n                  <a class=\\\"page-link\\\" (click)=\\\"this.getPageSurvey(pageNumber+1);\\\" aria-label=\\\"Next\\\">\\r\\n                    <span aria-hidden=\\\"true\\\">&raquo;</span>\\r\\n                    <span class=\\\"sr-only\\\">Next</span>\\r\\n                  </a>\\r\\n                </li>\\r\\n              </ul>\\r\\n            </nav>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </tfoot>\\r\\n    </table> -->\\r\\n\\r\\n  </mat-card-content>\\r\\n</mat-card>\"","import { Component, OnInit, OnDestroy } from \"@angular/core\";\r\nimport { ClientService } from \"../../../client.service\";\r\nimport { MatDialogRef, MatDialog, MatSnackBar } from \"@angular/material\";\r\nimport { AppConfirmService } from \"../../../../../shared/services/app-confirm/app-confirm.service\";\r\nimport { AppLoaderService } from \"../../../../../shared/services/app-loader/app-loader.service\";\r\nimport { RoleTablePopupComponent } from \"./role-table-popup/role-table-popup.component\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { egretAnimations } from \"../../../../../shared/animations/egret-animations\";\r\nimport { AppErrorService } from \"../../../../../shared/services/app-error/app-error.service\";\r\n\r\nimport { AuthenticationService } from \"../../../../sessions/authentication.service\";\r\nimport { authProperties } from \"./../../../../../shared/services/auth/auth-properties\";\r\nimport * as jwt_decode from \"jwt-decode\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: \"app-role-table\",\r\n  templateUrl: \"./role-table.component.html\",\r\n  animations: egretAnimations\r\n})\r\nexport class RoleTableComponent implements OnInit, OnDestroy {\r\n  public pageSize = 10;\r\n\r\n  public roles: any[];\r\n  public adminRoleId;\r\n  public adminRoleAuthorities;\r\n  public commonAndAdminAuthorities = [];\r\n\r\n  public componentList = [];\r\n  public editRoleId: String;\r\n  public clientId;\r\n\r\n  public getItemSub: Subscription;\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private snack: MatSnackBar,\r\n    private clientService: ClientService,\r\n    private confirmService: AppConfirmService,\r\n    private loader: AppLoaderService,\r\n    private errDialog: AppErrorService,\r\n    private activeRoute: ActivatedRoute,\r\n    private authService: AuthenticationService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    const currentClient = JSON.parse(localStorage.getItem('currentClient'));\r\n    if (currentClient) {\r\n      this.clientId = currentClient.id;\r\n      this.getClientRoles();\r\n      this.getCommonAndAdminAuthorities();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.getItemSub) {\r\n      this.getItemSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  getClientRoles() {\r\n    this.getItemSub = this.clientService.getClient(this.clientId).subscribe(successResp => {\r\n      this.roles = successResp.content.roles;\r\n      this.roles.forEach(role => {\r\n        if (role.predefined === 'true') {\r\n          this.adminRoleId = role.id;\r\n        }\r\n      });\r\n      this.getAdminAuthorities(this.adminRoleId);\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getAdminAuthorities(id) {\r\n    this.clientService.getAdminAuthority(id).subscribe(response => {\r\n      this.adminRoleAuthorities = response.content;\r\n    });\r\n  }\r\n\r\n  getCommonAndAdminAuthorities() {\r\n    this.clientService.getCommonAndAdminAuthority().subscribe(response => {\r\n      response.content.forEach(section => {\r\n        section.authorities.forEach(authority => {\r\n          this.commonAndAdminAuthorities.push(authority);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  openPopUp(roleData: any = {}, isNew?) {\r\n    let title = isNew ? \"Create New User Role\" : \"Update User Role\";\r\n    roleData[\"isNew\"] = isNew;\r\n    let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n      RoleTablePopupComponent,\r\n      {\r\n        width: \"900px\",\r\n        disableClose: true,\r\n        data: {\r\n          title: title,\r\n          roleData: roleData,\r\n          clientID: this.clientId,\r\n          adminRoleAuthorities: this.adminRoleAuthorities,\r\n          commonAndAdminAuthorities: this.commonAndAdminAuthorities\r\n        }\r\n      }\r\n    );\r\n    dialogRef.afterClosed().subscribe(res => {\r\n      if (!res) {\r\n        // If user press cancel\r\n        return;\r\n      }\r\n      this.loader.open();\r\n      if (isNew) {\r\n        // console.log('------------ create user role object ---------------');\r\n        console.log(res);\r\n        this.clientService.createNewRole(res).subscribe(response => {\r\n          // console.log('--------------- create user role response ----------------');\r\n          // console.log(response);\r\n          this.snack.open('User Role Created', 'close', {\r\n            duration: 2000\r\n          });\r\n          this.getClientRoles();\r\n        },\r\n          error => {\r\n            this.errDialog.showError(error);\r\n          });\r\n      } else {\r\n        console.log('------------ update user role object ---------------');\r\n        console.log(res);\r\n        this.clientService.updateRloe(this.editRoleId, res).subscribe(\r\n          response => {\r\n            // console.log('--------------- create user role response ----------------');\r\n            // console.log(response);\r\n            this.snack.open(\"User Role Updated\", \"close\", {\r\n              duration: 2000\r\n            });\r\n            this.getClientRoles();\r\n          },\r\n          error => {\r\n            this.errDialog.showError(error);\r\n          });\r\n      }\r\n      this.loader.close();\r\n    });\r\n  }\r\n\r\n  editRole(role) {\r\n    this.editRoleId = role.id;\r\n    this.clientService.getRoleAuthorities(role.id).subscribe(\r\n      response => {\r\n        const roleData = {\r\n          name: response.content.name,\r\n          description: response.content.description,\r\n          predefined: response.content.predefined,\r\n          authorities: response.content.authorities\r\n        };\r\n        this.openPopUp(roleData, false);\r\n      },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      });\r\n  }\r\n\r\n  deleteRole(row) {\r\n    this.confirmService\r\n      .confirm({ message: `Delete ${row.name}?` })\r\n      .subscribe(res => {\r\n        if (res) {\r\n          this.getClientRoles();\r\n        }\r\n      });\r\n  }\r\n}\r\n","module.exports = \"<mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n  <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n    <span class=\\\"title dialog-title\\\">Category</span>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"mat-typography mt-1\\\">\\r\\n\\r\\n\\r\\n  <mat-form-field class=\\\"matAutocomplete-chip-list\\\">\\r\\n\\r\\n    <mat-chip-list #chipList>\\r\\n      <mat-chip *ngFor=\\\"let category of selectedCategories\\\" [selectable]=\\\"selectable\\\" [removable]=\\\"removable\\\"\\r\\n        (removed)=\\\"remove(category)\\\">\\r\\n        {{category.name}}\\r\\n        <mat-icon matChipRemove *ngIf=\\\"removable\\\">cancel</mat-icon>\\r\\n      </mat-chip>\\r\\n      <input matInput placeholder=\\\"Select category...\\\" #categoryInput [formControl]=\\\"categoryCtrl\\\"\\r\\n        [matAutocomplete]=\\\"auto\\\" [matChipInputFor]=\\\"chipList\\\" [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\r\\n        (matChipInputTokenEnd)=\\\"add($event)\\\" [matChipInputAddOnBlur]=\\\"addOnBlur\\\"\\r\\n        aria-label=\\\"Category\\\">\\r\\n    </mat-chip-list>\\r\\n\\r\\n    <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\">\\r\\n      <mat-option *ngFor=\\\"let category of filteredCategories | async\\\" [value]=\\\"category.id\\\">\\r\\n        <span>{{category.name}}</span>\\r\\n      </mat-option>\\r\\n    </mat-autocomplete>\\r\\n\\r\\n  </mat-form-field>\\r\\n\\r\\n  <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n    <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n      <button mat-raised-button color=\\\"primary\\\" (click)=\\\"submit()\\\">Save</button>\\r\\n      <span fxFlex></span>\\r\\n      <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</mat-dialog-content>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatSnackBar } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup, FormControl } from '@angular/forms';\r\n\r\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\r\nimport { ElementRef, ViewChild } from '@angular/core';\r\nimport { MatAutocompleteSelectedEvent, MatChipInputEvent, MatAutocomplete } from '@angular/material';\r\nimport { Observable } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { autoCompletableCategory, CategoryData, ClientCategoryUpdateReq } from 'app/model/ClientModel.model';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { AppErrorService } from 'app/shared/services/app-error/app-error.service';\r\n\r\n@Component({\r\n  selector: 'app-user-category-popup',\r\n  templateUrl: './user-category-popup.component.html'\r\n})\r\nexport class UserCategoryPopupComponent implements OnInit {\r\n\r\n  selectable = true;\r\n  removable = true;\r\n  addOnBlur = true;\r\n  separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  categoryCtrl = new FormControl();\r\n  allCategories: autoCompletableCategory[] = [];\r\n  filteredCategories: Observable<autoCompletableCategory[]>;\r\n  selectedCategories: autoCompletableCategory[] = [];\r\n\r\n  @ViewChild('categoryInput') categoryInput: ElementRef<HTMLInputElement>;\r\n  @ViewChild('auto') matAutocomplete: MatAutocomplete;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<UserCategoryPopupComponent>,\r\n    private fb: FormBuilder,\r\n    private errDialog: AppErrorService,\r\n    private loader: AppLoaderService,\r\n    private snack: MatSnackBar\r\n  ) {\r\n    this.filteredCategories = this.categoryCtrl.valueChanges\r\n      .pipe(\r\n        startWith(null),\r\n        map(category => category ? this._filterCategories(category) : this.allCategories.slice())\r\n      );\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.allCategories = JSON.parse(JSON.stringify(this.data.category));\r\n    this.selectedCategories = [];\r\n    if (this.data.selectedCategory.length > 0) {\r\n      this.data.selectedCategory.forEach(element => {\r\n        this.addSelectedCategory(element.id)\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  submit() {\r\n    this.dialogRef.close(this.selectedCategories);\r\n  }\r\n\r\n  add(event: MatChipInputEvent): void {\r\n\r\n    if (!this.matAutocomplete.isOpen) {\r\n      const input = event.input;\r\n      const value = event.value;\r\n\r\n      // if we need to add custom texts as Chips,\r\n      // Add our category\r\n      // if ((value || '').trim()) {\r\n      //   this.categories.push(value.trim());\r\n      // }\r\n\r\n      // Reset the input value\r\n      if (input) {\r\n        input.value = '';\r\n      }\r\n\r\n      this.categoryCtrl.setValue(null);\r\n    }\r\n  }\r\n\r\n  selected(event: MatAutocompleteSelectedEvent): void {\r\n    this.addSelectedCategory(event.option.value);\r\n    this.categoryInput.nativeElement.value = '';\r\n    this.categoryCtrl.setValue(null);\r\n  }\r\n\r\n  addSelectedCategory(id) {\r\n    this.allCategories.forEach((item, index) => {\r\n      if (item.id === id) {\r\n        this.selectedCategories.push(item);\r\n        this.allCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(category: autoCompletableCategory): void {\r\n    this.selectedCategories.forEach((item, index) => {\r\n      if (item.id === category.id) {\r\n        this.allCategories.push(category);\r\n        this.selectedCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  private _filterCategories(value: string): autoCompletableCategory[] {\r\n    const filterValue = value.toLowerCase();\r\n    return this.allCategories.filter(category => category.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n}\r\n\r\n","module.exports = \"<mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n  <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n    <span class=\\\"title dialog-title\\\">Community</span>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"mat-typography mt-1\\\" style=\\\"overflow: unset; max-height: unset;\\\">\\r\\n  <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-3\\\" *ngIf=\\\"allCommunities.length !== 0\\\">\\r\\n    <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\" *ngFor=\\\"let community of allCommunities\\\">\\r\\n      <mat-checkbox [checked]=\\\"community.isChecked\\\" (change)=\\\"onChange($event)\\\" class=\\\"full-width\\\"\\r\\n        [value]=\\\"community.id\\\">\\r\\n        {{community.name}}</mat-checkbox>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"alert alert-warning\\\" role=\\\"alert\\\" *ngIf=\\\"allCommunities.length === 0\\\">\\r\\n    Client has no any assigned communities.!\\r\\n  </div>\\r\\n  <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-2\\\">\\r\\n    <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n      <button mat-raised-button color=\\\"primary\\\" (click)=\\\"submit()\\\" *ngIf=\\\"allCommunities.length !== 0\\\">Save</button>\\r\\n      <span fxFlex></span>\\r\\n      <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n    </div>\\r\\n  </div>\\r\\n</mat-dialog-content>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatCheckboxChange } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup, FormControl } from '@angular/forms';\r\n\r\n\r\n@Component({\r\n  selector: 'app-user-community-popup',\r\n  templateUrl: './user-community-popup.component.html'\r\n})\r\nexport class UserCommunityPopupComponent implements OnInit {\r\n\r\n\r\n  allCommunities = [];\r\n  selectedCommunities = [];\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<UserCommunityPopupComponent>,\r\n    private fb: FormBuilder,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.allCommunities = JSON.parse(JSON.stringify(this.data.community));\r\n    this.selectedCommunities = this.data.selectedCommunity;\r\n    this.allCommunities.forEach(element => {\r\n      if (this.selectedCommunities.length > 0) {\r\n        let status = false;\r\n        this.selectedCommunities.forEach(community => {\r\n          if (community.id.indexOf(element.id) === 0) {\r\n            status = true;\r\n          }\r\n          element['isChecked'] = status;\r\n        });\r\n      }\r\n    });\r\n    \r\n  }\r\n\r\n  onChange(event: MatCheckboxChange): void {\r\n    if (event.checked) {\r\n      this.allCommunities.forEach((item) => {\r\n        if (item.id === event.source.value) {\r\n          this.selectedCommunities.push(item);\r\n        }\r\n      });\r\n    } else {\r\n      this.selectedCommunities.forEach((item, index) => {\r\n        if (item.id === event.source.value) {\r\n          this.selectedCommunities.splice(index, 1);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  submit() {\r\n    this.dialogRef.close(this.selectedCommunities);\r\n  }\r\n}\r\n","module.exports = \"<mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n  <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n    <span class=\\\"title dialog-title\\\">Create User</span>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"mat-typography mt-1\\\" id=\\\"client-create\\\">\\r\\n\\r\\n\\r\\n  <mat-horizontal-stepper [linear]=\\\"true\\\">\\r\\n\\r\\n    <mat-step [stepControl]=\\\"userFormGroup\\\">\\r\\n\\r\\n      <form [formGroup]=\\\"userFormGroup\\\">\\r\\n\\r\\n        <ng-template matStepLabel>Client</ng-template>\\r\\n\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"username\\\" [formControl]=\\\"userFormGroup.controls['username']\\\"\\r\\n                placeholder=\\\"User Name\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"password\\\" type=\\\"password\\\" [formControl]=\\\"userFormGroup.controls['password']\\\"\\r\\n                positiveNumberAndLetterOnly placeholder=\\\"Password\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <input matInput name=\\\"email\\\" [formControl]=\\\"userFormGroup.controls['email']\\\" placeholder=\\\"Email\\\">\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n          <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n            <mat-form-field class=\\\"full-width\\\">\\r\\n              <mat-select [formControl]=\\\"userFormGroup.controls['role']\\\" placeholder=\\\"Select A User Role\\\">\\r\\n                <mat-option>none</mat-option>\\r\\n                <mat-option *ngFor=\\\"let roles of roles\\\" [value]=\\\"roles.id\\\">{{roles.name}}</mat-option>\\r\\n              </mat-select>\\r\\n            </mat-form-field>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n            <button mat-raised-button color=\\\"primary\\\" matStepperNext>Next</button>\\r\\n            <span fxFlex></span>\\r\\n            <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </form>\\r\\n\\r\\n    </mat-step>\\r\\n\\r\\n\\r\\n    <mat-step [stepControl]=\\\"categoryFormGroup\\\">\\r\\n      <form [formGroup]=\\\"categoryFormGroup\\\">\\r\\n        <ng-template matStepLabel>Category</ng-template>\\r\\n\\r\\n        <mat-form-field class=\\\"matAutocomplete-chip-list\\\">\\r\\n          <mat-chip-list #chipList>\\r\\n            <mat-chip *ngFor=\\\"let category of selectedCategories\\\" [selectable]=\\\"selectable\\\" [removable]=\\\"removable\\\"\\r\\n              (removed)=\\\"remove(category)\\\">\\r\\n              {{category.name}}\\r\\n              <mat-icon matChipRemove *ngIf=\\\"removable\\\">cancel</mat-icon>\\r\\n            </mat-chip>\\r\\n            <input matInput placeholder=\\\"Select category...\\\" #categoryInput [formControl]=\\\"categoryCtrl\\\"\\r\\n              [matAutocomplete]=\\\"auto\\\" [matChipInputFor]=\\\"chipList\\\" [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\r\\n              (matChipInputTokenEnd)=\\\"add($event)\\\" [matChipInputAddOnBlur]=\\\"addOnBlur\\\" aria-label=\\\"Category\\\" [required]=\\\"this.selectedCategories.length === 0\\\">\\r\\n          </mat-chip-list>\\r\\n\\r\\n          <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\">\\r\\n            <mat-option *ngFor=\\\"let category of filteredCategories | async\\\" [value]=\\\"category.id\\\">\\r\\n              <span>{{category.name}}</span>\\r\\n            </mat-option>\\r\\n          </mat-autocomplete>\\r\\n\\r\\n        </mat-form-field>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n            <button mat-raised-button color=\\\"accent\\\" matStepperPrevious class=\\\"mr-1\\\">Back</button>\\r\\n            <button mat-raised-button color=\\\"primary\\\" matStepperNext\\r\\n              [disabled]=\\\"this.selectedCategories.length == 0\\\">Next</button>\\r\\n            <span fxFlex></span>\\r\\n            <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </mat-step>\\r\\n\\r\\n    <mat-step [stepControl]=\\\"communityFormGroup\\\">\\r\\n      <form [formGroup]=\\\"communityFormGroup\\\">\\r\\n        <ng-template matStepLabel>Community</ng-template>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n\\r\\n          <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"\\\"\\r\\n            *ngIf=\\\"allCommunities.length !== 0\\\">\\r\\n            <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\" *ngFor=\\\"let community of allCommunities\\\">\\r\\n              <mat-checkbox [checked]=\\\"community.isChecked\\\" (change)=\\\"onChange($event)\\\" class=\\\"full-width\\\"\\r\\n                [value]=\\\"community.id\\\">\\r\\n                {{community.name}}</mat-checkbox>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"alert alert-warning\\\" role=\\\"alert\\\" *ngIf=\\\"allCommunities.length === 0\\\">\\r\\n            Client has no any assigned communities.!\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n          <div fxFlex=\\\"100\\\" class=\\\"mt-1\\\">\\r\\n            <button mat-raised-button color=\\\"accent\\\" matStepperPrevious class=\\\"mr-1\\\">Back</button>\\r\\n            <button mat-raised-button color=\\\"primary\\\" (click)=\\\"submit()\\\">Submit</button>\\r\\n            <span fxFlex></span>\\r\\n            <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </form>\\r\\n    </mat-step>\\r\\n\\r\\n  </mat-horizontal-stepper>\\r\\n\\r\\n\\r\\n</mat-dialog-content>\"","import { Component, OnInit, Inject, ViewChild, ElementRef } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatSnackBar, MatAutocomplete, MatAutocompleteSelectedEvent, MatChipInputEvent, MatCheckboxChange } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup, FormControl } from '@angular/forms';\r\nimport { egretAnimations } from \"../../../../../../shared/animations/egret-animations\";\r\nimport { GlobalVariable } from \"../../../../../../shared/helpers/global-variable\";\r\nimport { Observable } from 'rxjs';\r\nimport { startWith, map } from 'rxjs/operators';\r\nimport { ENTER, COMMA } from '@angular/cdk/keycodes';\r\nimport { autoCompletableCategory } from 'app/model/ClientModel.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-user-create-popup',\r\n  templateUrl: './user-create-popup.component.html',\r\n  animations: egretAnimations,\r\n})\r\nexport class UserCreatePopupComponent implements OnInit {\r\n\r\n  public globalVariable: GlobalVariable = new GlobalVariable();\r\n  public license = this.globalVariable.client.license;\r\n  public regex = this.globalVariable.validators.regex;\r\n\r\n  public userFormGroup: FormGroup;\r\n  public categoryFormGroup: FormGroup;\r\n  public communityFormGroup: FormGroup;\r\n  public licenseFormGroup: FormGroup;\r\n  // public formStatus = false;\r\n\r\n  public roles;\r\n\r\n  selectable = true;\r\n  removable = true;\r\n  addOnBlur = true;\r\n  separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  categoryCtrl = new FormControl();\r\n  allCategories: autoCompletableCategory[] = [];\r\n  filteredCategories: Observable<autoCompletableCategory[]>;\r\n  selectedCategories: autoCompletableCategory[] = [];\r\n\r\n  allCommunities = [];\r\n  selectedCommunities = [];\r\n\r\n  @ViewChild('categoryInput') categoryInput: ElementRef<HTMLInputElement>;\r\n  @ViewChild('auto') matAutocomplete: MatAutocomplete;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<UserCreatePopupComponent>,\r\n    private fb: FormBuilder,\r\n    public snackBar: MatSnackBar\r\n  ) {\r\n    this.filteredCategories = this.categoryCtrl.valueChanges\r\n      .pipe(\r\n        startWith(null),\r\n        map(category => category ? this._filterCategories(category) : this.allCategories.slice())\r\n      );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.roles = this.data.roles;\r\n    this.allCategories = JSON.parse(JSON.stringify(this.data.category));\r\n\r\n    this.allCommunities = JSON.parse(JSON.stringify(this.data.community));\r\n    this.buildItemForm()\r\n  }\r\n\r\n  buildItemForm() {\r\n\r\n    // this.userFormGroup = this.fb.group({\r\n    //   username: new FormControl(''),\r\n    //   password: new FormControl(''),\r\n    //   email: new FormControl(''),\r\n    //   role: new FormControl('')\r\n    // });\r\n    \r\n    this.userFormGroup = this.fb.group({\r\n      username: new FormControl('', Validators.required),\r\n      password: new FormControl('', Validators.required),\r\n      email: new FormControl('', [Validators.required, Validators.email]),\r\n      role: new FormControl('', Validators.required)\r\n    });\r\n    this.categoryFormGroup = this.fb.group({\r\n      category: this.categoryCtrl\r\n    });\r\n    this.communityFormGroup = this.fb.group({\r\n      username: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  submit() {\r\n    let forms = [this.userFormGroup.value, this.selectedCategories, this.selectedCommunities];\r\n    this.dialogRef.close(forms);\r\n  }\r\n\r\n  add(event: MatChipInputEvent): void {\r\n\r\n    if (!this.matAutocomplete.isOpen) {\r\n      const input = event.input;\r\n      const value = event.value;\r\n\r\n      // if we need to add custom texts as Chips,\r\n      // Add our category\r\n      // if ((value || '').trim()) {\r\n      //   this.categories.push(value.trim());\r\n      // }\r\n\r\n      // Reset the input value\r\n      if (input) {\r\n        input.value = '';\r\n      }\r\n\r\n      this.categoryCtrl.setValue(null);\r\n    }\r\n  }\r\n\r\n  selected(event: MatAutocompleteSelectedEvent): void {\r\n    this.addSelectedCategory(event.option.value);\r\n    this.categoryInput.nativeElement.value = '';\r\n    this.categoryCtrl.setValue(null);\r\n  }\r\n\r\n  addSelectedCategory(id) {\r\n    this.allCategories.forEach((item, index) => {\r\n      if (item.id === id) {\r\n        this.selectedCategories.push(item);\r\n        this.allCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  remove(category: autoCompletableCategory): void {\r\n    this.selectedCategories.forEach((item, index) => {\r\n      if (item.id === category.id) {\r\n        this.allCategories.push(category);\r\n        this.selectedCategories.splice(index, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Community checkbox onchange event\r\n  onChange(event: MatCheckboxChange): void {\r\n    if (event.checked) {\r\n      this.allCommunities.forEach((item) => {\r\n        if (item.id === event.source.value) {\r\n          this.selectedCommunities.push(item);\r\n        }\r\n      });\r\n    } else {\r\n      this.selectedCommunities.forEach((item, index) => {\r\n        if (item.id === event.source.value) {\r\n          this.selectedCommunities.splice(index, 1);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private _filterCategories(value: string): autoCompletableCategory[] {\r\n    const filterValue = value.toLowerCase();\r\n    return this.allCategories.filter(category => category.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n}\r\n\r\n","module.exports = \"<form [formGroup]=\\\"itemForm\\\" (ngSubmit)=\\\"submit()\\\">\\r\\n  <mat-toolbar matDialogTitle class=\\\"mat-primary m-0\\\">\\r\\n    <div fxFlex fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n      <span class=\\\"title dialog-title\\\">Update User</span>\\r\\n    </div>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content class=\\\"mat-typography mt-1\\\">\\r\\n    <div fxLayout=\\\"row\\\" fxLayout.lt-sm=\\\"column\\\" fxLayoutWrap=\\\"wrap\\\" class=\\\"mt-1\\\">\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"username\\\" [formControl]=\\\"itemForm.controls['username']\\\" placeholder=\\\"User Name\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <input matInput name=\\\"email\\\" [formControl]=\\\"itemForm.controls['email']\\\" placeholder=\\\"Email\\\">\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pr-1\\\">\\r\\n        <mat-form-field class=\\\"full-width\\\">\\r\\n          <mat-select [formControl]=\\\"itemForm.controls['role']\\\" placeholder=\\\"Select A User Role\\\"\\r\\n            [disabled]=\\\"roleStatus\\\">\\r\\n            <mat-option>none</mat-option>\\r\\n            <mat-option *ngFor=\\\"let roles of roles\\\" [value]=\\\"roles.id\\\">{{roles.name}}</mat-option>\\r\\n          </mat-select>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n      <div fxFlex=\\\"50\\\" class=\\\"pt-1 pr-1\\\">\\r\\n        <mat-slide-toggle color=\\\"primary\\\" [formControl]=\\\"itemForm.controls['status']\\\" [(ngModel)]=\\\"isActive\\\" (change)=\\\"changeUserStatus()\\\">\\r\\n          User Status : <mat-chip color=\\\"{{statusArray[userStatus].style}}\\\" selected>\\r\\n            {{statusArray[userStatus].display}}</mat-chip>\\r\\n        </mat-slide-toggle>\\r\\n      </div>\\r\\n      <div fxFlex=\\\" 100\\\" class=\\\"mt-1\\\">\\r\\n        <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"itemForm.invalid\\\">Save</button>\\r\\n        <span fxFlex></span>\\r\\n        <button mat-button color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"dialogRef.close(false)\\\">Cancel</button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </mat-dialog-content>\\r\\n</form>\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { FormBuilder, Validators, FormGroup, FormControl } from '@angular/forms';\r\nimport { GlobalVariable } from 'app/shared/helpers/global-variable';\r\n\r\n@Component({\r\n  selector: 'app-user-table-popup',\r\n  templateUrl: './user-table-popup.component.html'\r\n})\r\nexport class UserTablePopupComponent implements OnInit {\r\n\r\n  public itemForm: FormGroup;\r\n  public roles: any[] = [];\r\n  public roleStatus = false;\r\n  public isActive;\r\n  public userStatus;\r\n  public oldUserStatus;\r\n  public statusArray = new GlobalVariable().common.matChip.userStatus;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<UserTablePopupComponent>,\r\n    private fb: FormBuilder,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.roles = this.data.roles;\r\n    this.buildItemForm(this.data.payload);\r\n  }\r\n\r\n  buildItemForm(item) {\r\n\r\n    let role = null;\r\n    if (item.id !== undefined) {\r\n      console.log(item);\r\n      role = item.role.id;\r\n      this.userStatus = this.oldUserStatus = item.status;\r\n      this.isActive = item.status === \"ACTIVE\" ? true : false;\r\n    }\r\n\r\n    this.itemForm = this.fb.group({\r\n      username: new FormControl(item.userName || '', Validators.required),\r\n      email: new FormControl(item.email || '', [Validators.required, Validators.email]),\r\n      role: new FormControl(role, Validators.required),\r\n      status: new FormControl(this.isActive)\r\n    })\r\n\r\n  }\r\n\r\n  changeUserStatus() {\r\n    if (this.isActive) {\r\n      this.userStatus = \"ACTIVE\";\r\n    } else {\r\n      if(this.oldUserStatus === \"ACTIVE\"){\r\n        this.userStatus = \"INACTIVE\";\r\n      } else {\r\n        this.userStatus = this.oldUserStatus;\r\n      }\r\n    }\r\n  }\r\n\r\n  submit() {\r\n    this.itemForm.value.status = this.userStatus; \r\n    this.dialogRef.close(this.itemForm.value);\r\n  }\r\n}\r\n","module.exports = \"<mat-card class=\\\"p-0\\\" [@animate]=\\\"{value:'*',params:{y:'50px',delay:'300ms'}}\\\">\\r\\n  <mat-card-title>\\r\\n\\r\\n    <div class=\\\"m-333 mt-3\\\">\\r\\n      <button mat-raised-button class=\\\"mb-05 ml-05\\\" color=\\\"primary\\\" (click)=\\\"openUserCreatePopup()\\\"\\r\\n        [roleAuthorization]=\\\"'pu-c'\\\">Add User</button>\\r\\n      <span fxFlex></span>\\r\\n      <p class=\\\"mat-select-lable\\\"> Page Size: </p>\\r\\n      <mat-select class=\\\"mat-raised-select\\\" [(value)]=\\\"pageSize\\\" (selectionChange)=\\\"changeValue()\\\">\\r\\n        <mat-option [value]=\\\"10\\\">10</mat-option>\\r\\n        <mat-option [value]=\\\"20\\\">20</mat-option>\\r\\n      </mat-select>\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </mat-card-title>\\r\\n  <mat-card-content class=\\\"p-0\\\">\\r\\n\\r\\n    <ngx-datatable class=\\\"material ml-0 mr-0\\\" [rows]=\\\"users\\\" [columnMode]=\\\"'force'\\\" [headerHeight]=\\\"50\\\"\\r\\n      [footerHeight]=\\\"50\\\" [limit]=\\\"10\\\" [rowHeight]=\\\"'auto'\\\">\\r\\n\\r\\n      <ngx-datatable-column name=\\\"\\\" [flexGrow]=\\\"1\\\" [maxWidth]=\\\"80\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          <img mat-list-avatar class=\\\"\\\" src=\\\"assets/images/face-1.jpg\\\" alt=\\\"\\\"\\r\\n            style=\\\"flex-shrink: 0; width: 40px; height: 40px; border-radius: 50%; object-fit: cover;\\\">\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Name\\\" [flexGrow]=\\\"1\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          {{ row?.userName }}\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Email\\\" [flexGrow]=\\\"1\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          {{ row?.email }}\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Role\\\" [flexGrow]=\\\"1\\\" [maxWidth]=\\\"180\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          <mat-chip mat-sm-chip color=\\\"warn\\\" [selected]=\\\"true\\\">{{row?.role.name}}</mat-chip>\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Status\\\" [flexGrow]=\\\"1\\\" [maxWidth]=\\\"150\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          <mat-chip mat-sm-chip color=\\\"{{statusArray[row?.status].style}}\\\" selected>{{statusArray[row?.status].display}}</mat-chip>\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n\\r\\n\\r\\n      <ngx-datatable-column name=\\\"Actions\\\" [flexGrow]=\\\"1\\\" [maxWidth]=\\\"80\\\">\\r\\n        <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n          <button class=\\\"card-control\\\" mat-icon-button [matMenuTriggerFor]=\\\"menu1\\\">\\r\\n            <mat-icon>more_vert</mat-icon>\\r\\n          </button>\\r\\n          <mat-menu #menu1=\\\"matMenu\\\">\\r\\n            <button mat-menu-item (click)=\\\"openEditPopUp(row)\\\" [roleAuthorization]=\\\"'pu-u'\\\">\\r\\n              <mat-icon>edit</mat-icon>\\r\\n              <span>Edit</span>\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"openCommunityPopUp(row)\\\" [roleAuthorization]=\\\"'puc-u'\\\">\\r\\n              <mat-icon>assignment_ind</mat-icon>\\r\\n              <span>Community</span>\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"openCategoryPopUp(row)\\\" [roleAuthorization]=\\\"'pucat-u'\\\">\\r\\n              <mat-icon>assistant</mat-icon>\\r\\n              <span>Category</span>\\r\\n            </button>\\r\\n            <button mat-menu-item (click)=\\\"removeUser(row)\\\" [roleAuthorization]=\\\"'pu-d'\\\">\\r\\n              <mat-icon>delete</mat-icon>Delete\\r\\n            </button>\\r\\n          </mat-menu>\\r\\n        </ng-template>\\r\\n      </ngx-datatable-column>\\r\\n    </ngx-datatable>\\r\\n\\r\\n  </mat-card-content>\\r\\n</mat-card>\"","import { Component, OnInit } from '@angular/core';\r\nimport { ClientService } from \"../../../client.service\";\r\nimport { MatDialogRef, MatDialog, MatSnackBar } from \"@angular/material\";\r\nimport { AppLoaderService } from \"../../../../../shared/services/app-loader/app-loader.service\";\r\nimport { UserCreatePopupComponent } from \"../user-table/user-create-popup/user-create-popup.component\";\r\nimport { UserTablePopupComponent } from \"../user-table/user-table-popup/user-table-popup.component\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { egretAnimations } from \"../../../../../shared/animations/egret-animations\";\r\nimport { AppErrorService } from \"../../../../../shared/services/app-error/app-error.service\";\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { UserCreateReq, ClientData, RoleData, CommunityData, CategoryData, UserUpdateReq, UserCategoryUpdateReq, UserCommunityUpdateRequest } from 'app/model/ClientModel.model';\r\nimport { UserCategoryPopupComponent } from './user-category-popup/user-category-popup.component';\r\nimport { UserCommunityPopupComponent } from './user-community-popup/user-community-popup.component';\r\nimport { AuthenticationService } from 'app/views/sessions/authentication.service';\r\nimport { GlobalVariable } from 'app/shared/helpers/global-variable';\r\nimport { AppConfirmService } from 'app/shared/services/app-confirm/app-confirm.service';\r\n\r\n@Component({\r\n  selector: 'app-user-table',\r\n  templateUrl: './user-table.component.html',\r\n  animations: egretAnimations\r\n})\r\nexport class UserTableComponent implements OnInit {\r\n\r\n  public users: any[];\r\n  public roles: any[] = [];\r\n  public statusArray = new GlobalVariable().common.matChip.userStatus;\r\n  public pageSize = 10;\r\n  public clientId;\r\n  public name;\r\n  public url;\r\n\r\n  public clientCategory;\r\n\r\n  public getItemSub: Subscription;\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private snack: MatSnackBar,\r\n    private clientService: ClientService,\r\n    private loader: AppLoaderService,\r\n    private errDialog: AppErrorService,\r\n    private activeRoute: ActivatedRoute,\r\n    private authService: AuthenticationService,\r\n    private confirmService: AppConfirmService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    const currentClient = JSON.parse(localStorage.getItem('currentClient'));\r\n    if (currentClient) {\r\n      this.clientId = currentClient.id;\r\n      this.getUsersByClient();\r\n      this.getClientCategories();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.getItemSub) {\r\n      this.getItemSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n  getUsersByClient() {\r\n    this.getItemSub = this.clientService.getClient(this.clientId).subscribe(successResp => {\r\n      this.users = successResp.content.users;\r\n      this.users.forEach((item, index) => {\r\n        if (item.role.name === \"Super Administrator\") this.users.splice(index, 1);\r\n      });\r\n      successResp.content.roles.forEach((item) => {\r\n        this.roles.push(item);\r\n      });\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  // for get admin role ----------------------------------------------------------\r\n  getUserRoles() {\r\n    this.getItemSub = this.clientService.getRoles().subscribe(successResp => {\r\n      successResp.content.forEach((item) => {\r\n        if (item.name === \"Admin\") this.roles.push(item);\r\n      });\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getClientCategories() {\r\n    this.getItemSub = this.clientService.getClientCategories(this.clientId).subscribe(successResp => {\r\n      this.clientCategory = successResp.content;\r\n      console.log(this.clientCategory);\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getClientAndUserCommunities(popup, user?) {\r\n    this.getItemSub = this.clientService.getClientCommunities(this.clientId).subscribe(successResp => {\r\n      let clientCommunity = successResp.content;\r\n\r\n      if (popup === 'UserCreatePopup') {\r\n        this.userCreatePopup(clientCommunity);\r\n      } else if (popup === 'CommunityPopUp') {\r\n\r\n        this.clientService.getUser(user.id).subscribe(successResp => {\r\n          let userCommunity = successResp.content.communities;\r\n          this.communityPopup(user.id, clientCommunity, userCommunity);\r\n        },\r\n          error => {\r\n            this.errDialog.showError(error);\r\n          }\r\n        );\r\n\r\n      }\r\n\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  openUserCreatePopup() {\r\n    this.getClientAndUserCommunities(\"UserCreatePopup\");\r\n  }\r\n\r\n  userCreatePopup(clientCommunity) {\r\n    let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n      UserCreatePopupComponent,\r\n      {\r\n        width: \"720px\",\r\n        disableClose: true,\r\n        data: { roles: this.roles, category: this.clientCategory, community: clientCommunity }\r\n      }\r\n    );\r\n\r\n    dialogRef.afterClosed().subscribe(res => {\r\n      console.log(res);\r\n\r\n      if (!res) {\r\n        // If user press cancel\r\n        return;\r\n      }\r\n\r\n      this.loader.open();\r\n      let role: RoleData = new RoleData(res[0].role);\r\n\r\n      let communities: CommunityData[] = [];\r\n      res[2].forEach(element => {\r\n        communities.push(new CommunityData(element.id));\r\n      });\r\n\r\n      let categories: CategoryData[] = [];\r\n      res[1].forEach(element => {\r\n        categories.push(new CategoryData(element.id));\r\n      });\r\n\r\n      const client: ClientData = new ClientData(this.clientId);\r\n\r\n      const req: UserCreateReq = new UserCreateReq(res[0].username, res[0].password, res[0].email, role, client, communities, categories);\r\n\r\n      this.clientService.addUser(req).subscribe(\r\n        response => {\r\n          this.getUsersByClient();\r\n          this.loader.close();\r\n          this.snack.open(\"New User added !\", \"OK\", { duration: 4000 });\r\n        },\r\n        error => {\r\n          this.errDialog.showError(error);\r\n        }\r\n      );\r\n\r\n    });\r\n  }\r\n\r\n  openEditPopUp(data: any = {}) {\r\n    let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n      UserTablePopupComponent,\r\n      {\r\n        width: \"720px\",\r\n        disableClose: true,\r\n        data: { payload: data, roles: this.roles }\r\n      }\r\n    );\r\n\r\n    dialogRef.afterClosed().subscribe(res => {\r\n      if (!res) {\r\n        // If user press cancel\r\n        return;\r\n      }\r\n\r\n      let role: RoleData = new RoleData(res.role);\r\n      const req: UserUpdateReq = new UserUpdateReq(res.username, res.email, role, res.status);\r\n\r\n      this.loader.open();\r\n      this.clientService.updateUser(data.id, req).subscribe(\r\n        response => {\r\n          this.getUsersByClient();\r\n          this.loader.close();\r\n          this.snack.open(\"User Updated!\", \"OK\", { duration: 4000 });\r\n        },\r\n        error => {\r\n          this.loader.close();\r\n          this.errDialog.showError(error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n\r\n  openCommunityPopUp(data: any = {}) {\r\n    this.getClientAndUserCommunities(\"CommunityPopUp\", data);\r\n  }\r\n\r\n\r\n  communityPopup(userId, clientCommunities, userCommunities) {\r\n    let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n      UserCommunityPopupComponent,\r\n      {\r\n        width: \"720px\",\r\n        disableClose: true,\r\n        data: { community: clientCommunities, selectedCommunity: userCommunities }\r\n      }\r\n    );\r\n    dialogRef.afterClosed().subscribe(res => {\r\n      if (!res) {\r\n        // If user press cancel\r\n        return;\r\n      }\r\n      console.log(res);\r\n\r\n      let community: CommunityData[] = [];\r\n      res.forEach(element => {\r\n        community.push(new CommunityData(element.id));\r\n      });\r\n      const req: UserCommunityUpdateRequest = new UserCommunityUpdateRequest(community);\r\n\r\n      this.loader.open();\r\n      this.clientService.updateUserCommunity(userId, req).subscribe(\r\n        response => {\r\n          this.getUsersByClient();\r\n          this.loader.close();\r\n          this.snack.open(\"User Community Updated!\", \"OK\", { duration: 4000 });\r\n        },\r\n        error => {\r\n          this.loader.close();\r\n          this.errDialog.showError({\r\n            title: \"Error\",\r\n            status: error.status,\r\n            type: \"http_error\"\r\n          });\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n\r\n  openCategoryPopUp(data: any = {}) {\r\n\r\n    this.getItemSub = this.clientService.getUser(data.id).subscribe(successResp => {\r\n      console.log(successResp);\r\n      console.log(successResp.content.role.id);\r\n\r\n      let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n        UserCategoryPopupComponent,\r\n        {\r\n          width: \"720px\",\r\n          disableClose: true,\r\n          data: { category: this.clientCategory, selectedCategory: successResp.content.categories }\r\n        }\r\n      );\r\n      dialogRef.afterClosed().subscribe(res => {\r\n        if (!res) {\r\n          // If user press cancel\r\n          return;\r\n        }\r\n\r\n        console.log(res);\r\n\r\n        let categories: CategoryData[] = [];\r\n        res.forEach(element => {\r\n          categories.push(new CategoryData(element.id));\r\n        });\r\n\r\n        const req: UserCategoryUpdateReq = new UserCategoryUpdateReq(categories);\r\n\r\n        this.loader.open();\r\n        this.clientService.updateUserCategories(data.id, req).subscribe(\r\n          response => {\r\n            this.loader.close();\r\n            this.snack.open(\"User Category Updated!\", \"OK\", { duration: 4000 });\r\n          },\r\n          error => {\r\n            this.loader.close();\r\n            this.errDialog.showError({\r\n              title: \"Error\",\r\n              status: error.status,\r\n              type: \"http_error\"\r\n            });\r\n          }\r\n        );\r\n      });\r\n    },\r\n      error => {\r\n        this.errDialog.showError(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  removeUser(data: any = {}) {\r\n\r\n    this.confirmService\r\n      .confirm({ message: `Do You Want to Delete ${data.userName}?` })\r\n      .subscribe(res => {\r\n        if (res) {\r\n          this.clientService.deleteUser(data.id).subscribe(\r\n            successResp => {\r\n              console.log(successResp.content);\r\n              this.getUsersByClient();\r\n            },\r\n            error => {\r\n              this.errDialog.showError(error);\r\n            }\r\n          );\r\n        }\r\n      });\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n","module.exports = \"<div fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\">\\r\\n  <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"300px\\\" fxFlex.gt-sm=\\\"50\\\">\\r\\n    <mat-card class=\\\"profile-sidebar mb-1 pb-0\\\">\\r\\n      <div class=\\\"propic text-center\\\">\\r\\n        <img src=\\\"assets/images/ui_icons/users.png\\\" alt=\\\"\\\">\\r\\n      </div>\\r\\n      <div class=\\\"profile-title text-center mb-1\\\">\\r\\n        <div class=\\\"main-title\\\">{{this.clientName}}</div>\\r\\n        <div class=\\\"subtitle mb-05\\\">ClearPicture</div>\\r\\n        <div class=\\\"text-muted\\\"> Provides the tools you need to easily manage Users.</div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"profile-nav\\\">\\r\\n        <mat-nav-list>\\r\\n          <mat-list-item routerLink=\\\"/clients/user/user-table\\\" routerLinkActive=\\\"list-item-active\\\">\\r\\n            <mat-icon>person</mat-icon>\\r\\n            Users\\r\\n          </mat-list-item>\\r\\n          <mat-divider></mat-divider>\\r\\n          <mat-list-item routerLink=\\\"/clients/user/role-table\\\" routerLinkActive=\\\"list-item-active\\\">\\r\\n            <mat-icon>settings</mat-icon>\\r\\n            User Roles\\r\\n          </mat-list-item>\\r\\n          <mat-divider></mat-divider>\\r\\n        </mat-nav-list>\\r\\n      </div>\\r\\n    </mat-card>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <!-- Profile Views -->\\r\\n  <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"50\\\" fxFlex.gt-md=\\\"calc(100% - 300px)\\\">\\r\\n    <router-outlet></router-outlet>\\r\\n  </div>\\r\\n</div>\"","import { Component, OnInit } from \"@angular/core\";\r\nimport { egretAnimations } from \"../../../../shared/animations/egret-animations\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { AuthenticationService } from \"../../../sessions/authentication.service\";\r\n\r\n@Component({\r\n  selector: \"app-user\",\r\n  templateUrl: \"./user.component.html\",\r\n  animations: egretAnimations\r\n})\r\nexport class UserComponent implements OnInit {\r\n  public clientId: string;\r\n  public clientName: string;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private authService: AuthenticationService,\r\n    private activeRoute: ActivatedRoute,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    const currentClient = JSON.parse(localStorage.getItem('currentClient'));\r\n    if (currentClient) {\r\n      this.clientId = currentClient.id;\r\n      this.clientName = currentClient.name;\r\n    }\r\n\r\n    // this.activeRoute.queryParams.subscribe(params => {\r\n    //   console.log('------------------------------- params',params);\r\n    //   if( params[\"clientId\"] !== undefined){\r\n    //     this.clientId = params[\"clientId\"];\r\n    //     this.clientName = params[\"clientName\"];\r\n    //   } else {\r\n    //     // this.router.navigate([\"clients/client-table\"]);\r\n    //   }\r\n    // });\r\n    \r\n    // const currentUser = this.authService.getLoggedUserDetail();\r\n    // if (currentUser) {\r\n    //   const client = currentUser.userData.client;\r\n    //   this.clientId = client.id;\r\n    //   this.name = client.name;\r\n    // } else {\r\n    //   this.router.navigate([\"clients/client-table\"]);\r\n    // }\r\n  }\r\n}\r\n"],"sourceRoot":""}