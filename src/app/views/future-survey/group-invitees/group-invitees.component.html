<mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}">
  <mat-card-title>
    <div class="m-333 mb-1 mt-1 mr-1" style="flex-direction: row; box-sizing: border-box; display: flex;">
      <div class="card-title-text">{{this.inviteeGroupName}}</div>
      <span fxFlex></span>
      <p class="mat-select-lable mr-05 mt-05"> Filter:</p>
      <mat-select class="mat-raised-select mr-05 mt-05" [(ngModel)]="this.filterValue" (selectionChange)="filterOnChange($event)">
        <mat-option *ngFor="let filterValue of filterValueArray" [value]="filterValue">{{filterValue}}</mat-option>
      </mat-select>
      <button mat-raised-button class="mb-05 ml-05 mr-05 mt-05" color="accent"
        routerLink="/future-survey/inviteeGroups">Back</button>
      <mat-divider></mat-divider>
    </div>

  </mat-card-title>
  <mat-card-content class="p-0">
    <div class="messages-wrap">
      <mat-toolbar color="primary" class="inbox-toolbar">
        <mat-checkbox (change)="selectToggleAll($event)" [indeterminate]="indeterminateState" [checked]="selectAll"
          class="inbox-toggle-all mr-1"><small>All</small></mat-checkbox>
        <button mat-icon-button matTooltip="Add Invitee" (click)="inviteePopUp({}, true)">
          <mat-icon>add_box</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Delete" *ngIf="indeterminateState || selectAll"
          (click)="deleteSelectedInvitees()">
          <mat-icon>delete</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Delete" *ngIf="indeterminateState || selectAll" (click)="sendMail(true)">
          <mat-icon>email</mat-icon>
        </button>
        <span fxFlex></span>
        <!-- <p *ngIf="this.temInvitees.length > 0" class="mat-select-lable"> Filter : </p>
        <mat-select class="mat-raised-select" [(value)]="pageSize" (selectionChange)="changeValue()"
          placeholder="Favorite food">
          <mat-option *ngFor="let item of pageSizeArray" [value]="item">{{item}}</mat-option>
        </mat-select> -->
        <mat-form-field *ngIf="this.temInvitees.length > 0" style="font-size: 15px; width: 30%; margin-top: 10px;">
          <input matInput placeholder="Search" value="" (keyup)='updateFilter($event)'>
        </mat-form-field>
        <p *ngIf="this.temInvitees.length > 0" class="mat-select-lable"> Page Size: </p>
        <mat-select *ngIf="this.temInvitees.length > 0" class="mat-raised-select" [(value)]="pageSize"
          (selectionChange)="changeValue()" placeholder="Favorite food">
          <mat-option *ngFor="let item of pageSizeArray" [value]="item">{{item}}</mat-option>
        </mat-select>
      </mat-toolbar>
      <mat-accordion>
        <mat-expansion-panel *ngFor="let invitee of invitees" expanded="false" hideToggle="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-checkbox (change)="selectToggleOne($event, invitee)" [checked]="invitee.selected"
                (click)="stopProp($event)" class="mail-checkbox hide-on-open">
              </mat-checkbox>
              <span class="hide-on-open">{{ invitee.name }}</span>
              <div fxFlex="1 1 auto" fxLayout="row" fxLayoutAlign="start center" class="show-on-open">
                <div fxLayout="column">
                  <span class="m-0">{{ invitee.name }}</span>
                </div>
              </div>
              <span fxFlex></span>


            </mat-panel-title>
            <mat-panel-description>
              <span class="mail-subject text-sm mat-color-default hide-on-open">
                <mat-chip mat-sm-chip color="{{emailSentStatus[invitee.futureSurveyInteraction.emailSentStatus].style}}"
                  [selected]="true"> {{emailSentStatus[invitee.futureSurveyInteraction.emailSentStatus].status}}
                </mat-chip>
                <mat-chip class="ml-1" mat-sm-chip
                  color="{{responStatus[invitee.futureSurveyInteraction.responStatus].style}}" [selected]="true">
                  {{responStatus[invitee.futureSurveyInteraction.responStatus].status}} </mat-chip>
              </span>
              <span fxFlex></span>
              <button mat-icon-button [matMenuTriggerFor]="msgMenu" (click)="stopProp($event)" class="hidden-on-open">
                <mat-icon class="text-muted">more_vert</mat-icon>
              </button>
              <mat-menu #msgMenu="matMenu">
                <button mat-menu-item (click)="inviteePopUp(invitee, false)">
                  <mat-icon>edit</mat-icon> Edit
                </button>
                <button mat-menu-item (click)="sendMail(false, invitee.futureSurveyInteraction.id)"
                  *ngIf="invitee.futureSurveyInteraction.emailSentStatus !== '1'">
                  <mat-icon>email</mat-icon> Send Invitation
                </button>
                <button mat-menu-item (click)="deleteInvitee(invitee)">
                  <mat-icon>delete</mat-icon> Delete
                </button>
              </mat-menu>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div fxLayout="row" fxLayoutWrap="wrap" class="mt-1">
            <!-- <div fxLayout="row" fxLayoutWrap="wrap" class="mt-1"> -->
            <div fxFlex="33.3">
              <!-- <mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}"> -->
              <!-- <mat-card-content> -->
              <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutWrap="wrap" class="mt-1 mb-1">
                <small class="text-muted">Invitee Email</small>
              </div>
              <p class="md-body-1">{{ invitee.email }}</p>
              <!-- </mat-card-content> -->
              <!-- </mat-card> -->
            </div>
            <div fxFlex="33.3">
              <!-- <mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}"> -->
              <!-- <mat-card-content> -->
              <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutWrap="wrap" class="mt-1 mb-1">
                <small class="text-muted">Invitee Username</small>
              </div>
              <p class="md-body-1">{{ invitee.username }}</p>
              <!-- </mat-card-content> -->
              <!-- </mat-card> -->
            </div>
            <div fxFlex="33.3">
              <!-- <mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}"> -->
              <!-- <mat-card-content> -->
              <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutWrap="wrap" class="mt-1 mb-1">
                <small class="text-muted">Invitee CustomField</small>
              </div>
              <mat-chip mat-sm-chip color="primary" [selected]="true" *ngIf="invitee.customField1">
                {{invitee.customField1}}
              </mat-chip>
              <mat-chip class="ml-1" mat-sm-chip color="primary" [selected]="true" *ngIf="invitee.customField2">
                {{invitee.customField2}}
              </mat-chip>
              <mat-chip class="ml-1" mat-sm-chip color="primary" [selected]="true" *ngIf="invitee.customField3">
                {{invitee.customField3}}
              </mat-chip>
              <!-- </mat-card-content> -->
              <!-- </mat-card> -->
            </div>
            <div fxFlex="33.3">
              <!-- <mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}"> -->
              <!-- <mat-card-content> -->
              <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutWrap="wrap" class="mt-1 mb-1">
                <small class="text-muted">Invitee Email Status</small>
              </div>
              <mat-chip mat-sm-chip color="primary" [selected]="true">
                {{emailSentStatus[invitee.futureSurveyInteraction.emailSentStatus].status}} </mat-chip>
              <!-- </mat-card-content> -->
              <!-- </mat-card> -->
            </div>
            <div fxFlex="33.3">
              <!-- <mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}"> -->
              <!-- <mat-card-content> -->
              <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutWrap="wrap" class="mt-1 mb-1">
                <small class="text-muted">Invitee Survey Respon Status</small>
              </div>
              <mat-chip mat-sm-chip color="primary" [selected]="true">
                {{responStatus[invitee.futureSurveyInteraction.responStatus].status}} </mat-chip>
              <!-- </mat-card-content> -->
              <!-- </mat-card> -->
            </div>
            <!-- </div> -->
          </div>
        </mat-expansion-panel>
      </mat-accordion>
      <mat-toolbar color="primary" class="inbox-toolbar" *ngIf="this.temInvitees.length > 0" style="font-size: 12px;">
        <!-- <div class="pagination">{{totalRecords}} Created,</div>
        <div class="pagination ml-1">{{quota}} Quota</div> -->
        <span fxFlex></span>
        <ng-container>
          <nav aria-label="Invitee Page Navigation" style="color: black;">
            <ul class="pagination" *ngIf="totalPages.length > 1">
              <li class="page-item" [ngClass]="{'disabled':pageNumber <= 1}">
                <a class="page-link" (click)="fetchAllInvitees(pageNumber-1)" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                  <span class="sr-only">Previous</span>
                </a>
              </li>
              <li class="page-item" *ngFor="let page of totalPages" [ngClass]="{'active':pageNumber === page}">
                <a class="page-link" (click)="fetchAllInvitees(page)">
                  {{page}}
                </a>
              </li>
              <li class="page-item" [ngClass]="{'disabled':pageNumber >= totalPages.length}">
                <a class="page-link" (click)="fetchAllInvitees(pageNumber+1)" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                  <span class="sr-only">Next</span>
                </a>
              </li>
            </ul>
          </nav>
        </ng-container>
      </mat-toolbar>
      <div *ngIf="this.temInvitees.length === 0 && this.invitees.length === 0" fxLayout="row" fxLayoutAlign="center"
        style="margin-top: 10rem;" fxLayout.lt-sm="column" fxLayoutWrap="wrap">
        <div fxFlex="100" class="text-center">
          <h1 class="text-muted">Create New Invitee</h1>
        </div>
        <div fxFlex="100" class="text-center">
          <h2 class="text-muted">Click "Add" Button</h2>
        </div>
      </div>
    </div>

  </mat-card-content>
</mat-card>


<!-- <div class="m-333 mb-1 mt-1 mr-1">
  <mat-card-title class=" mat-card-title">
    <div class="card-title-text"><span >Confirm Dialog</span></div>
  </mat-card-title>

  <span fxFlex></span>
  <button mat-raised-button class="mb-05 ml-05" color="accent" routerLink="/future-survey/inviteeGroups">Back</button>
</div> -->


<!-- <div fxLayout="row" fxLayoutWrap="wrap" class="community-background">
  <div fxFlex="100">
    <div class="m-333">
      <span fxFlex></span>
      <button mat-raised-button class="mb-05 ml-05" color="accent" (click)="backToComunityView()">Back</button>
    </div>
    <mat-divider></mat-divider>
    <nav mat-tab-nav-bar>
      <a mat-tab-link routerLink="/community/user-community/user-feedback" [queryParams]="queryParams" routerLinkActive
        #rla1="routerLinkActive" [active]="rla1.isActive">
        <mat-icon class="icon-mr">feedback</mat-icon>Feedbacks
      </a>
      <a mat-tab-link routerLink="/community/user-community/user-event" [queryParams]="queryParams" routerLinkActive
        #rla2="routerLinkActive" [active]="rla2.isActive">
        <mat-icon class="icon-mr">event</mat-icon>Events
      </a>
      <a mat-tab-link routerLink="/community/user-community/user-offer" [queryParams]="queryParams" routerLinkActive
        #rla3="routerLinkActive" [active]="rla3.isActive">
        <mat-icon class="icon-mr">local_offer</mat-icon>Invitees
      </a>
    </nav>
  </div>
  <div fxFlex="100">
    <router-outlet></router-outlet>
  </div>
</div> -->