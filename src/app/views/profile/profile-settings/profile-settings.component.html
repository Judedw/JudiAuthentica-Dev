<mat-card class="p-0">
  <mat-tab-group>

    <mat-tab label="Profile Settings">
      <mat-card-content class="mt-3">
        <form [formGroup]="profileSettingsForm" (ngSubmit)="updateProfile()" class="userProfileForm">
          <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutWrap="wrap" class="mt-1">
            <div fxFlex="100" class="pr-1">
              <mat-form-field class="full-width">
                <input matInput name="accountName" [formControl]="profileSettingsForm.controls['accountName']"
                  positiveNumberAndLetterOnly placeholder="Name">
              </mat-form-field>
            </div>
            <div fxFlex="100" class="pr-1 mb-3">
              <mat-form-field class="full-width">
                <input matInput name="email" [formControl]="profileSettingsForm.controls['email']" placeholder="Email">
              </mat-form-field>
            </div>
          </div>
          <button mat-raised-button color="primary" [disabled]="profileSettingsForm.invalid">Save</button>
        </form>
      </mat-card-content>
    </mat-tab>

    <mat-tab label="Security Settings">
      <mat-card-content class="mt-3">
        <form [formGroup]="passwordSettingsForm" (ngSubmit)="changePassword()" class="userProfileForm">
          <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutWrap="wrap" class="mt-1">
            <div fxFlex="100" class="pr-1">
              <mat-form-field class="full-width">
                <input matInput name="password" type="password"
                  [formControl]="passwordSettingsForm.controls['currentPassword']" placeholder="Current Password">
              </mat-form-field>
            </div>
            <div fxFlex="100" class="pr-1">
              <mat-form-field class="full-width">
                <input matInput name="password" type="password"
                  [formControl]="passwordSettingsForm.controls['password']" placeholder="Password"
                  (keyup)=checkConfirmPassword()>
              </mat-form-field>
            </div>
            <div fxFlex="100" class="pr-1 mb-3">
              <mat-form-field class="full-width">
                <input matInput name="confirmPassword" type="password"
                  [formControl]="passwordSettingsForm.controls['confirmPassword']" placeholder="Confirm Password"
                  (keyup)=checkConfirmPassword()>
              </mat-form-field>
              <span class="input-bottom-msg"><span *ngIf="passwordStatus !== null"
                  class="{{statusArray[passwordStatus].style}}">{{statusArray[passwordStatus].value}}</span></span>
            </div>
          </div>
          <button mat-raised-button color="primary"
            [disabled]="passwordSettingsForm.invalid || passwordStatus !== null">Save</button>

        </form>
      </mat-card-content>
    </mat-tab>


    <mat-tab label="Profile Picture">
      <mat-card-content>
        <form class="userProfileForm" style="min-height:450px">
          <div class="row">
            <div class="col-sm-3 mt-4">
              <img [src]="url" id="userProfilePic">
            </div>
            <div class="col-sm-9 mt-2">
              <mat-card>
                <mat-card-header>
                  <!-- --------- hidden file input --------- -->
                  <input (change)="onSelectFile($event)" #productImgs type="file" style="display: none"
                    base-sixty-four-input>

                  <!-- --------- file input click button --------- -->
                  <div layout-margin layout-padding class="mb-2">
                    <button mat-raised-button class="mr-1" (click)="productImgs.click()" type="button">
                      Browse Images</button>
                    <!-- <button mat-raised-button class="mr-1" (click)="removeSelectedImg()" type="button" *ngIf="url">
                        Clear Images</button> -->
                    <button mat-raised-button class="mr-1" (click)="updateProfilePic()" type="button" *ngIf="url && imageName">
                      Save</button>
                  </div>
                </mat-card-header>
                <mat-chip *ngIf="!imageChangedEvent" color="primary" disabled>Click "Browse Image"
                  and choose
                  image</mat-chip>
                <mat-chip *ngIf="imageChangedEvent" color="accent" disabled>Crop image and click
                  "Save" button</mat-chip>

                <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="true" [aspectRatio]="1 / 1"
                  format="png/jpeg" (imageCropped)="imageCropped($event)" (imageLoaded)="imageLoaded()"
                  (loadImageFailed)="loadImageFailed()" style="max-height:300px;"></image-cropper>
                <!-- --------- start images preview container --------- -->

              </mat-card>
              <!-- --------- end images preview container --------- -->
            </div>

          </div>
        </form>
      </mat-card-content>
    </mat-tab>

  </mat-tab-group>
</mat-card>